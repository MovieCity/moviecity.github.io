function wb(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var F0={exports:{}},Wl={},j0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),bb=Symbol.for("react.portal"),Sb=Symbol.for("react.fragment"),Eb=Symbol.for("react.strict_mode"),Tb=Symbol.for("react.profiler"),Ab=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),Ib=Symbol.for("react.suspense"),kb=Symbol.for("react.memo"),Rb=Symbol.for("react.lazy"),hp=Symbol.iterator;function Nb(n){return n===null||typeof n!="object"?null:(n=hp&&n[hp]||n["@@iterator"],typeof n=="function"?n:null)}var $0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,U0={};function li(n,e,t){this.props=n,this.context=e,this.refs=U0,this.updater=t||$0}li.prototype.isReactComponent={};li.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};li.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function z0(){}z0.prototype=li.prototype;function Nf(n,e,t){this.props=n,this.context=e,this.refs=U0,this.updater=t||$0}var Df=Nf.prototype=new z0;Df.constructor=Nf;B0(Df,li.prototype);Df.isPureReactComponent=!0;var pp=Array.isArray,H0=Object.prototype.hasOwnProperty,Pf={current:null},G0={key:!0,ref:!0,__self:!0,__source:!0};function V0(n,e,t){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)H0.call(e,r)&&!G0.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Sa,type:n,key:i,ref:a,props:s,_owner:Pf.current}}function Db(n,e){return{$$typeof:Sa,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _f(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sa}function Pb(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var mp=/\/+/g;function Ic(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Pb(""+n.key):e.toString(36)}function yo(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Sa:case bb:a=!0}}if(a)return a=n,s=s(a),n=r===""?"."+Ic(a,0):r,pp(s)?(t="",n!=null&&(t=n.replace(mp,"$&/")+"/"),yo(s,e,t,"",function(c){return c})):s!=null&&(_f(s)&&(s=Db(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(mp,"$&/")+"/")+n)),e.push(s)),1;if(a=0,r=r===""?".":r+":",pp(n))for(var o=0;o<n.length;o++){i=n[o];var l=r+Ic(i,o);a+=yo(i,e,t,l,s)}else if(l=Nb(n),typeof l=="function")for(n=l.call(n),o=0;!(i=n.next()).done;)i=i.value,l=r+Ic(i,o++),a+=yo(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Oa(n,e,t){if(n==null)return n;var r=[],s=0;return yo(n,r,"","",function(i){return e.call(t,i,s++)}),r}function _b(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var pt={current:null},vo={transition:null},Ob={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:vo,ReactCurrentOwner:Pf};function W0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Oa,forEach:function(n,e,t){Oa(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Oa(n,function(){e++}),e},toArray:function(n){return Oa(n,function(e){return e})||[]},only:function(n){if(!_f(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};he.Component=li;he.Fragment=Sb;he.Profiler=Tb;he.PureComponent=Nf;he.StrictMode=Eb;he.Suspense=Ib;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ob;he.act=W0;he.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=B0({},n.props),s=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Pf.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)H0.call(e,l)&&!G0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Sa,type:n.type,key:s,ref:i,props:r,_owner:a}};he.createContext=function(n){return n={$$typeof:Lb,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ab,_context:n},n.Consumer=n};he.createElement=V0;he.createFactory=function(n){var e=V0.bind(null,n);return e.type=n,e};he.createRef=function(){return{current:null}};he.forwardRef=function(n){return{$$typeof:Cb,render:n}};he.isValidElement=_f;he.lazy=function(n){return{$$typeof:Rb,_payload:{_status:-1,_result:n},_init:_b}};he.memo=function(n,e){return{$$typeof:kb,type:n,compare:e===void 0?null:e}};he.startTransition=function(n){var e=vo.transition;vo.transition={};try{n()}finally{vo.transition=e}};he.unstable_act=W0;he.useCallback=function(n,e){return pt.current.useCallback(n,e)};he.useContext=function(n){return pt.current.useContext(n)};he.useDebugValue=function(){};he.useDeferredValue=function(n){return pt.current.useDeferredValue(n)};he.useEffect=function(n,e){return pt.current.useEffect(n,e)};he.useId=function(){return pt.current.useId()};he.useImperativeHandle=function(n,e,t){return pt.current.useImperativeHandle(n,e,t)};he.useInsertionEffect=function(n,e){return pt.current.useInsertionEffect(n,e)};he.useLayoutEffect=function(n,e){return pt.current.useLayoutEffect(n,e)};he.useMemo=function(n,e){return pt.current.useMemo(n,e)};he.useReducer=function(n,e,t){return pt.current.useReducer(n,e,t)};he.useRef=function(n){return pt.current.useRef(n)};he.useState=function(n){return pt.current.useState(n)};he.useSyncExternalStore=function(n,e,t){return pt.current.useSyncExternalStore(n,e,t)};he.useTransition=function(){return pt.current.useTransition()};he.version="18.3.1";j0.exports=he;var D=j0.exports;const be=Vl(D),Mb=wb({__proto__:null,default:be},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=D,jb=Symbol.for("react.element"),$b=Symbol.for("react.fragment"),Bb=Object.prototype.hasOwnProperty,Ub=Fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zb={key:!0,ref:!0,__self:!0,__source:!0};function K0(n,e,t){var r,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Bb.call(e,r)&&!zb.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jb,type:n,key:i,ref:a,props:s,_owner:Ub.current}}Wl.Fragment=$b;Wl.jsx=K0;Wl.jsxs=K0;F0.exports=Wl;var x=F0.exports;const Y0=D.createContext(),Hb=({children:n})=>{const[e,t]=D.useState(()=>{const s=localStorage.getItem("language");return s||"EN"});D.useEffect(()=>{localStorage.setItem("language",e)},[e]);const r=s=>{t(s)};return x.jsx(Y0.Provider,{value:{language:e,toggleLanguage:r},children:n})},un=()=>D.useContext(Y0);var q0={exports:{}},Pt={},X0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,O){var M=F.length;F.push(O);e:for(;0<M;){var V=M-1>>>1,W=F[V];if(0<s(W,O))F[V]=O,F[M]=W,M=V;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var O=F[0],M=F.pop();if(M!==O){F[0]=M;e:for(var V=0,W=F.length,J=W>>>1;V<J;){var re=2*(V+1)-1,pe=F[re],Q=re+1,ae=F[Q];if(0>s(pe,M))Q<W&&0>s(ae,pe)?(F[V]=ae,F[Q]=M,V=Q):(F[V]=pe,F[re]=M,V=re);else if(Q<W&&0>s(ae,M))F[V]=ae,F[Q]=M,V=Q;else break e}}return O}function s(F,O){var M=F.sortIndex-O.sortIndex;return M!==0?M:F.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var O=t(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=F)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(c)}}function S(F){if(m=!1,y(F),!p)if(t(l)!==null)p=!0,$(b);else{var O=t(c);O!==null&&H(S,O.startTime-F)}}function b(F,O){p=!1,m&&(m=!1,v(E),E=-1),h=!0;var M=f;try{for(y(O),d=t(l);d!==null&&(!(d.expirationTime>O)||F&&!k());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var W=V(d.expirationTime<=O);O=n.unstable_now(),typeof W=="function"?d.callback=W:d===t(l)&&r(l),y(O)}else r(l);d=t(l)}if(d!==null)var J=!0;else{var re=t(c);re!==null&&H(S,re.startTime-O),J=!1}return J}finally{d=null,f=M,h=!1}}var T=!1,I=null,E=-1,A=5,L=-1;function k(){return!(n.unstable_now()-L<A)}function R(){if(I!==null){var F=n.unstable_now();L=F;var O=!0;try{O=I(!0,F)}finally{O?N():(T=!1,I=null)}}else T=!1}var N;if(typeof w=="function")N=function(){w(R)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,_=P.port2;P.port1.onmessage=R,N=function(){_.postMessage(null)}}else N=function(){g(R,0)};function $(F){I=F,T||(T=!0,N())}function H(F,O){E=g(function(){F(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){p||h||(p=!0,$(b))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var M=f;f=O;try{return F()}finally{f=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,O){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var M=f;f=F;try{return O()}finally{f=M}},n.unstable_scheduleCallback=function(F,O,M){var V=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,F={id:u++,callback:O,priorityLevel:F,startTime:M,expirationTime:W,sortIndex:-1},M>V?(F.sortIndex=M,e(c,F),t(l)===null&&F===t(c)&&(m?(v(E),E=-1):m=!0,H(S,M-V))):(F.sortIndex=W,e(l,F),p||h||(p=!0,$(b))),F},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(F){var O=f;return function(){var M=f;f=O;try{return F.apply(this,arguments)}finally{f=M}}}})(Q0);X0.exports=Q0;var Gb=X0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=D,Dt=Gb;function Y(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J0=new Set,Yi={};function ms(n,e){Xs(n,e),Xs(n+"Capture",e)}function Xs(n,e){for(Yi[n]=e,n=0;n<e.length;n++)J0.add(e[n])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=Object.prototype.hasOwnProperty,Wb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gp={},xp={};function Kb(n){return Hu.call(xp,n)?!0:Hu.call(gp,n)?!1:Wb.test(n)?xp[n]=!0:(gp[n]=!0,!1)}function Yb(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function qb(n,e,t,r){if(e===null||typeof e>"u"||Yb(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(n,e,t,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){st[n]=new mt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];st[e]=new mt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){st[n]=new mt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){st[n]=new mt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){st[n]=new mt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){st[n]=new mt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){st[n]=new mt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){st[n]=new mt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){st[n]=new mt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function Mf(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Of,Mf);st[e]=new mt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Of,Mf);st[e]=new mt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Of,Mf);st[e]=new mt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){st[n]=new mt(n,1,!1,n.toLowerCase(),null,!1,!1)});st.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){st[n]=new mt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ff(n,e,t,r){var s=st.hasOwnProperty(e)?st[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qb(e,t,s,r)&&(t=null),r||s===null?Kb(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var rr=Vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),As=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),jf=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),ex=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),Vu=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),tx=Symbol.for("react.offscreen"),yp=Symbol.iterator;function xi(n){return n===null||typeof n!="object"?null:(n=yp&&n[yp]||n["@@iterator"],typeof n=="function"?n:null)}var $e=Object.assign,kc;function Ri(n){if(kc===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);kc=e&&e[1]||""}return`
`+kc+n}var Rc=!1;function Nc(n,e){if(!n||Rc)return"";Rc=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{Rc=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ri(n):""}function Xb(n){switch(n.tag){case 5:return Ri(n.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 2:case 15:return n=Nc(n.type,!1),n;case 11:return n=Nc(n.type.render,!1),n;case 1:return n=Nc(n.type,!0),n;default:return""}}function Ku(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ls:return"Fragment";case As:return"Portal";case Gu:return"Profiler";case jf:return"StrictMode";case Vu:return"Suspense";case Wu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ex:return(n.displayName||"Context")+".Consumer";case Z0:return(n._context.displayName||"Context")+".Provider";case $f:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Bf:return e=n.displayName||null,e!==null?e:Ku(n.type)||"Memo";case hr:e=n._payload,n=n._init;try{return Ku(n(e))}catch{}}return null}function Qb(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ku(e);case 8:return e===jf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nx(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jb(n){var e=nx(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Fa(n){n._valueTracker||(n._valueTracker=Jb(n))}function rx(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=nx(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Yu(n,e){var t=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function vp(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Dr(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sx(n,e){e=e.checked,e!=null&&Ff(n,"checked",e,!1)}function qu(n,e){sx(n,e);var t=Dr(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Xu(n,e.type,t):e.hasOwnProperty("defaultValue")&&Xu(n,e.type,Dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function wp(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Xu(n,e,t){(e!=="number"||Wo(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ni=Array.isArray;function Bs(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Dr(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function Qu(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function bp(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Y(92));if(Ni(t)){if(1<t.length)throw Error(Y(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Dr(t)}}function ix(n,e){var t=Dr(e.value),r=Dr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Sp(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ax(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ju(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ax(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ja,ox=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ja.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function qi(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(n){Zb.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Oi[e]=Oi[n]})});function lx(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Oi.hasOwnProperty(n)&&Oi[n]?(""+e).trim():e+"px"}function cx(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=lx(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var eS=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zu(n,e){if(e){if(eS[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function ed(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=null;function Uf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nd=null,Us=null,zs=null;function Ep(n){if(n=Aa(n)){if(typeof nd!="function")throw Error(Y(280));var e=n.stateNode;e&&(e=Ql(e),nd(n.stateNode,n.type,e))}}function ux(n){Us?zs?zs.push(n):zs=[n]:Us=n}function dx(){if(Us){var n=Us,e=zs;if(zs=Us=null,Ep(n),e)for(n=0;n<e.length;n++)Ep(e[n])}}function fx(n,e){return n(e)}function hx(){}var Dc=!1;function px(n,e,t){if(Dc)return n(e,t);Dc=!0;try{return fx(n,e,t)}finally{Dc=!1,(Us!==null||zs!==null)&&(hx(),dx())}}function Xi(n,e){var t=n.stateNode;if(t===null)return null;var r=Ql(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Y(231,e,typeof t));return t}var rd=!1;if(Xn)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){rd=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{rd=!1}function tS(n,e,t,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Mi=!1,Ko=null,Yo=!1,sd=null,nS={onError:function(n){Mi=!0,Ko=n}};function rS(n,e,t,r,s,i,a,o,l){Mi=!1,Ko=null,tS.apply(nS,arguments)}function sS(n,e,t,r,s,i,a,o,l){if(rS.apply(this,arguments),Mi){if(Mi){var c=Ko;Mi=!1,Ko=null}else throw Error(Y(198));Yo||(Yo=!0,sd=c)}}function gs(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function mx(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Tp(n){if(gs(n)!==n)throw Error(Y(188))}function iS(n){var e=n.alternate;if(!e){if(e=gs(n),e===null)throw Error(Y(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return Tp(s),n;if(i===r)return Tp(s),e;i=i.sibling}throw Error(Y(188))}if(t.return!==r.return)t=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(t.alternate!==r)throw Error(Y(190))}if(t.tag!==3)throw Error(Y(188));return t.stateNode.current===t?n:e}function gx(n){return n=iS(n),n!==null?xx(n):null}function xx(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xx(n);if(e!==null)return e;n=n.sibling}return null}var yx=Dt.unstable_scheduleCallback,Ap=Dt.unstable_cancelCallback,aS=Dt.unstable_shouldYield,oS=Dt.unstable_requestPaint,Ue=Dt.unstable_now,lS=Dt.unstable_getCurrentPriorityLevel,zf=Dt.unstable_ImmediatePriority,vx=Dt.unstable_UserBlockingPriority,qo=Dt.unstable_NormalPriority,cS=Dt.unstable_LowPriority,wx=Dt.unstable_IdlePriority,Kl=null,Ln=null;function uS(n){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Kl,n,void 0,(n.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hS,dS=Math.log,fS=Math.LN2;function hS(n){return n>>>=0,n===0?32:31-(dS(n)/fS|0)|0}var $a=64,Ba=4194304;function Di(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Xo(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?r=Di(o):(i&=a,i!==0&&(r=Di(i)))}else a=t&~s,a!==0?r=Di(a):i!==0&&(r=Di(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-on(e),s=1<<t,r|=n[t],e&=~s;return r}function pS(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mS(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-on(i),o=1<<a,l=s[a];l===-1?(!(o&t)||o&r)&&(s[a]=pS(o,e)):l<=e&&(n.expiredLanes|=o),i&=~o}}function id(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bx(){var n=$a;return $a<<=1,!($a&4194240)&&($a=64),n}function Pc(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ea(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-on(e),n[e]=t}function gS(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-on(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function Hf(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-on(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Le=0;function Sx(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ex,Gf,Tx,Ax,Lx,ad=!1,Ua=[],Er=null,Tr=null,Ar=null,Qi=new Map,Ji=new Map,gr=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lp(n,e){switch(n){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Qi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(e.pointerId)}}function vi(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Aa(e),e!==null&&Gf(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function yS(n,e,t,r,s){switch(e){case"focusin":return Er=vi(Er,n,e,t,r,s),!0;case"dragenter":return Tr=vi(Tr,n,e,t,r,s),!0;case"mouseover":return Ar=vi(Ar,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Qi.set(i,vi(Qi.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ji.set(i,vi(Ji.get(i)||null,n,e,t,r,s)),!0}return!1}function Cx(n){var e=Kr(n.target);if(e!==null){var t=gs(e);if(t!==null){if(e=t.tag,e===13){if(e=mx(t),e!==null){n.blockedOn=e,Lx(n.priority,function(){Tx(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wo(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=od(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);td=r,t.target.dispatchEvent(r),td=null}else return e=Aa(t),e!==null&&Gf(e),n.blockedOn=t,!1;e.shift()}return!0}function Cp(n,e,t){wo(n)&&t.delete(e)}function vS(){ad=!1,Er!==null&&wo(Er)&&(Er=null),Tr!==null&&wo(Tr)&&(Tr=null),Ar!==null&&wo(Ar)&&(Ar=null),Qi.forEach(Cp),Ji.forEach(Cp)}function wi(n,e){n.blockedOn===e&&(n.blockedOn=null,ad||(ad=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,vS)))}function Zi(n){function e(s){return wi(s,n)}if(0<Ua.length){wi(Ua[0],n);for(var t=1;t<Ua.length;t++){var r=Ua[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Er!==null&&wi(Er,n),Tr!==null&&wi(Tr,n),Ar!==null&&wi(Ar,n),Qi.forEach(e),Ji.forEach(e),t=0;t<gr.length;t++)r=gr[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<gr.length&&(t=gr[0],t.blockedOn===null);)Cx(t),t.blockedOn===null&&gr.shift()}var Hs=rr.ReactCurrentBatchConfig,Qo=!0;function wS(n,e,t,r){var s=Le,i=Hs.transition;Hs.transition=null;try{Le=1,Vf(n,e,t,r)}finally{Le=s,Hs.transition=i}}function bS(n,e,t,r){var s=Le,i=Hs.transition;Hs.transition=null;try{Le=4,Vf(n,e,t,r)}finally{Le=s,Hs.transition=i}}function Vf(n,e,t,r){if(Qo){var s=od(n,e,t,r);if(s===null)Hc(n,e,r,Jo,t),Lp(n,r);else if(yS(s,n,e,t,r))r.stopPropagation();else if(Lp(n,r),e&4&&-1<xS.indexOf(n)){for(;s!==null;){var i=Aa(s);if(i!==null&&Ex(i),i=od(n,e,t,r),i===null&&Hc(n,e,r,Jo,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hc(n,e,r,null,t)}}var Jo=null;function od(n,e,t,r){if(Jo=null,n=Uf(r),n=Kr(n),n!==null)if(e=gs(n),e===null)n=null;else if(t=e.tag,t===13){if(n=mx(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Jo=n,null}function Ix(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lS()){case zf:return 1;case vx:return 4;case qo:case cS:return 16;case wx:return 536870912;default:return 16}default:return 16}}var yr=null,Wf=null,bo=null;function kx(){if(bo)return bo;var n,e=Wf,t=e.length,r,s="value"in yr?yr.value:yr.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===s[i-r];r++);return bo=s.slice(n,1<r?1-r:void 0)}function So(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function za(){return!0}function Ip(){return!1}function _t(n){function e(t,r,s,i,a){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?za:Ip,this.isPropagationStopped=Ip,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=_t(ci),Ta=$e({},ci,{view:0,detail:0}),SS=_t(Ta),_c,Oc,bi,Yl=$e({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bi&&(bi&&n.type==="mousemove"?(_c=n.screenX-bi.screenX,Oc=n.screenY-bi.screenY):Oc=_c=0,bi=n),_c)},movementY:function(n){return"movementY"in n?n.movementY:Oc}}),kp=_t(Yl),ES=$e({},Yl,{dataTransfer:0}),TS=_t(ES),AS=$e({},Ta,{relatedTarget:0}),Mc=_t(AS),LS=$e({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=_t(LS),IS=$e({},ci,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kS=_t(IS),RS=$e({},ci,{data:0}),Rp=_t(RS),NS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=PS[n])?!!e[n]:!1}function Yf(){return _S}var OS=$e({},Ta,{key:function(n){if(n.key){var e=NS[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=So(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?DS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yf,charCode:function(n){return n.type==="keypress"?So(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?So(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),MS=_t(OS),FS=$e({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=_t(FS),jS=$e({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yf}),$S=_t(jS),BS=$e({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),US=_t(BS),zS=$e({},Yl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=_t(zS),GS=[9,13,27,32],qf=Xn&&"CompositionEvent"in window,Fi=null;Xn&&"documentMode"in document&&(Fi=document.documentMode);var VS=Xn&&"TextEvent"in window&&!Fi,Rx=Xn&&(!qf||Fi&&8<Fi&&11>=Fi),Dp=" ",Pp=!1;function Nx(n,e){switch(n){case"keyup":return GS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cs=!1;function WS(n,e){switch(n){case"compositionend":return Dx(e);case"keypress":return e.which!==32?null:(Pp=!0,Dp);case"textInput":return n=e.data,n===Dp&&Pp?null:n;default:return null}}function KS(n,e){if(Cs)return n==="compositionend"||!qf&&Nx(n,e)?(n=kx(),bo=Wf=yr=null,Cs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rx&&e.locale!=="ko"?null:e.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!YS[n.type]:e==="textarea"}function Px(n,e,t,r){ux(r),e=Zo(e,"onChange"),0<e.length&&(t=new Kf("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var ji=null,ea=null;function qS(n){Gx(n,0)}function ql(n){var e=Rs(n);if(rx(e))return n}function XS(n,e){if(n==="change")return e}var _x=!1;if(Xn){var Fc;if(Xn){var jc="oninput"in document;if(!jc){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),jc=typeof Op.oninput=="function"}Fc=jc}else Fc=!1;_x=Fc&&(!document.documentMode||9<document.documentMode)}function Mp(){ji&&(ji.detachEvent("onpropertychange",Ox),ea=ji=null)}function Ox(n){if(n.propertyName==="value"&&ql(ea)){var e=[];Px(e,ea,n,Uf(n)),px(qS,e)}}function QS(n,e,t){n==="focusin"?(Mp(),ji=e,ea=t,ji.attachEvent("onpropertychange",Ox)):n==="focusout"&&Mp()}function JS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ql(ea)}function ZS(n,e){if(n==="click")return ql(e)}function eE(n,e){if(n==="input"||n==="change")return ql(e)}function tE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var cn=typeof Object.is=="function"?Object.is:tE;function ta(n,e){if(cn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!Hu.call(e,s)||!cn(n[s],e[s]))return!1}return!0}function Fp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jp(n,e){var t=Fp(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Fp(t)}}function Mx(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Mx(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Fx(){for(var n=window,e=Wo();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Wo(n.document)}return e}function Xf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function nE(n){var e=Fx(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Mx(t.ownerDocument.documentElement,t)){if(r!==null&&Xf(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=jp(t,i);var a=jp(t,r);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rE=Xn&&"documentMode"in document&&11>=document.documentMode,Is=null,ld=null,$i=null,cd=!1;function $p(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;cd||Is==null||Is!==Wo(r)||(r=Is,"selectionStart"in r&&Xf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$i&&ta($i,r)||($i=r,r=Zo(ld,"onSelect"),0<r.length&&(e=new Kf("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Is)))}function Ha(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ks={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},$c={},jx={};Xn&&(jx=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Xl(n){if($c[n])return $c[n];if(!ks[n])return n;var e=ks[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in jx)return $c[n]=e[t];return n}var $x=Xl("animationend"),Bx=Xl("animationiteration"),Ux=Xl("animationstart"),zx=Xl("transitionend"),Hx=new Map,Bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(n,e){Hx.set(n,e),ms(e,[n])}for(var Bc=0;Bc<Bp.length;Bc++){var Uc=Bp[Bc],sE=Uc.toLowerCase(),iE=Uc[0].toUpperCase()+Uc.slice(1);Fr(sE,"on"+iE)}Fr($x,"onAnimationEnd");Fr(Bx,"onAnimationIteration");Fr(Ux,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(zx,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Up(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,sS(r,e,void 0,n),n.currentTarget=null}function Gx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Up(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Up(s,o,c),i=l}}}if(Yo)throw n=sd,Yo=!1,sd=null,n}function De(n,e){var t=e[pd];t===void 0&&(t=e[pd]=new Set);var r=n+"__bubble";t.has(r)||(Vx(e,n,2,!1),t.add(r))}function zc(n,e,t){var r=0;e&&(r|=4),Vx(t,n,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function na(n){if(!n[Ga]){n[Ga]=!0,J0.forEach(function(t){t!=="selectionchange"&&(aE.has(t)||zc(t,!1,n),zc(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,zc("selectionchange",!1,e))}}function Vx(n,e,t,r){switch(Ix(e)){case 1:var s=wS;break;case 4:s=bS;break;default:s=Vf}t=s.bind(null,e,t,n),s=void 0,!rd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Hc(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Kr(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}px(function(){var c=i,u=Uf(t),d=[];e:{var f=Hx.get(n);if(f!==void 0){var h=Kf,p=n;switch(n){case"keypress":if(So(t)===0)break e;case"keydown":case"keyup":h=MS;break;case"focusin":p="focus",h=Mc;break;case"focusout":p="blur",h=Mc;break;case"beforeblur":case"afterblur":h=Mc;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=TS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=$S;break;case $x:case Bx:case Ux:h=CS;break;case zx:h=US;break;case"scroll":h=SS;break;case"wheel":h=HS;break;case"copy":case"cut":case"paste":h=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Np}var m=(e&4)!==0,g=!m&&n==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var w=c,y;w!==null;){y=w;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Xi(w,v),S!=null&&m.push(ra(w,S,y)))),g)break;w=w.return}0<m.length&&(f=new h(f,p,null,t,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",f&&t!==td&&(p=t.relatedTarget||t.fromElement)&&(Kr(p)||p[Qn]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=t.relatedTarget||t.toElement,h=c,p=p?Kr(p):null,p!==null&&(g=gs(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=kp,S="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(m=Np,S="onPointerLeave",v="onPointerEnter",w="pointer"),g=h==null?f:Rs(h),y=p==null?f:Rs(p),f=new m(S,w+"leave",h,t,u),f.target=g,f.relatedTarget=y,S=null,Kr(u)===c&&(m=new m(v,w+"enter",p,t,u),m.target=y,m.relatedTarget=g,S=m),g=S,h&&p)t:{for(m=h,v=p,w=0,y=m;y;y=ws(y))w++;for(y=0,S=v;S;S=ws(S))y++;for(;0<w-y;)m=ws(m),w--;for(;0<y-w;)v=ws(v),y--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break t;m=ws(m),v=ws(v)}m=null}else m=null;h!==null&&zp(d,f,h,m,!1),p!==null&&g!==null&&zp(d,g,p,m,!0)}}e:{if(f=c?Rs(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var b=XS;else if(_p(f))if(_x)b=eE;else{b=JS;var T=QS}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=ZS);if(b&&(b=b(n,c))){Px(d,b,t,u);break e}T&&T(n,f,c),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Xu(f,"number",f.value)}switch(T=c?Rs(c):window,n){case"focusin":(_p(T)||T.contentEditable==="true")&&(Is=T,ld=c,$i=null);break;case"focusout":$i=ld=Is=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,$p(d,t,u);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":$p(d,t,u)}var I;if(qf)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Cs?Nx(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(Rx&&t.locale!=="ko"&&(Cs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Cs&&(I=kx()):(yr=u,Wf="value"in yr?yr.value:yr.textContent,Cs=!0)),T=Zo(c,E),0<T.length&&(E=new Rp(E,n,null,t,u),d.push({event:E,listeners:T}),I?E.data=I:(I=Dx(t),I!==null&&(E.data=I)))),(I=VS?WS(n,t):KS(n,t))&&(c=Zo(c,"onBeforeInput"),0<c.length&&(u=new Rp("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=I))}Gx(d,e)})}function ra(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Zo(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xi(n,t),i!=null&&r.unshift(ra(n,i,s)),i=Xi(n,e),i!=null&&r.push(ra(n,i,s))),n=n.return}return r}function ws(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zp(n,e,t,r,s){for(var i=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=Xi(t,i),l!=null&&a.unshift(ra(t,l,o))):s||(l=Xi(t,i),l!=null&&a.push(ra(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var oE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function Hp(n){return(typeof n=="string"?n:""+n).replace(oE,`
`).replace(lE,"")}function Va(n,e,t){if(e=Hp(e),Hp(n)!==e&&t)throw Error(Y(425))}function el(){}var ud=null,dd=null;function fd(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(n){return Gp.resolve(null).then(n).catch(dE)}:hd;function dE(n){setTimeout(function(){throw n})}function Gc(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Zi(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Zi(e)}function Lr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Vp(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ui=Math.random().toString(36).slice(2),wn="__reactFiber$"+ui,sa="__reactProps$"+ui,Qn="__reactContainer$"+ui,pd="__reactEvents$"+ui,fE="__reactListeners$"+ui,hE="__reactHandles$"+ui;function Kr(n){var e=n[wn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qn]||t[wn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Vp(n);n!==null;){if(t=n[wn])return t;n=Vp(n)}return e}n=t,t=n.parentNode}return null}function Aa(n){return n=n[wn]||n[Qn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Rs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Y(33))}function Ql(n){return n[sa]||null}var md=[],Ns=-1;function jr(n){return{current:n}}function Pe(n){0>Ns||(n.current=md[Ns],md[Ns]=null,Ns--)}function Re(n,e){Ns++,md[Ns]=n.current,n.current=e}var Pr={},ut=jr(Pr),Et=jr(!1),ss=Pr;function Qs(n,e){var t=n.type.contextTypes;if(!t)return Pr;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(n){return n=n.childContextTypes,n!=null}function tl(){Pe(Et),Pe(ut)}function Wp(n,e,t){if(ut.current!==Pr)throw Error(Y(168));Re(ut,e),Re(Et,t)}function Wx(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,Qb(n)||"Unknown",s));return $e({},t,r)}function nl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pr,ss=ut.current,Re(ut,n),Re(Et,Et.current),!0}function Kp(n,e,t){var r=n.stateNode;if(!r)throw Error(Y(169));t?(n=Wx(n,e,ss),r.__reactInternalMemoizedMergedChildContext=n,Pe(Et),Pe(ut),Re(ut,n)):Pe(Et),Re(Et,t)}var Vn=null,Jl=!1,Vc=!1;function Kx(n){Vn===null?Vn=[n]:Vn.push(n)}function pE(n){Jl=!0,Kx(n)}function $r(){if(!Vc&&Vn!==null){Vc=!0;var n=0,e=Le;try{var t=Vn;for(Le=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Vn=null,Jl=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(n+1)),yx(zf,$r),s}finally{Le=e,Vc=!1}}return null}var Ds=[],Ps=0,rl=null,sl=0,Bt=[],Ut=0,is=null,Wn=1,Kn="";function Hr(n,e){Ds[Ps++]=sl,Ds[Ps++]=rl,rl=n,sl=e}function Yx(n,e,t){Bt[Ut++]=Wn,Bt[Ut++]=Kn,Bt[Ut++]=is,is=n;var r=Wn;n=Kn;var s=32-on(r)-1;r&=~(1<<s),t+=1;var i=32-on(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Wn=1<<32-on(e)+s|t<<s|r,Kn=i+n}else Wn=1<<i|t<<s|r,Kn=n}function Qf(n){n.return!==null&&(Hr(n,1),Yx(n,1,0))}function Jf(n){for(;n===rl;)rl=Ds[--Ps],Ds[Ps]=null,sl=Ds[--Ps],Ds[Ps]=null;for(;n===is;)is=Bt[--Ut],Bt[Ut]=null,Kn=Bt[--Ut],Bt[Ut]=null,Wn=Bt[--Ut],Bt[Ut]=null}var Rt=null,kt=null,Oe=!1,sn=null;function qx(n,e){var t=zt(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Yp(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Rt=n,kt=Lr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Rt=n,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=is!==null?{id:Wn,overflow:Kn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=zt(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Rt=n,kt=null,!0):!1;default:return!1}}function gd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xd(n){if(Oe){var e=kt;if(e){var t=e;if(!Yp(n,e)){if(gd(n))throw Error(Y(418));e=Lr(t.nextSibling);var r=Rt;e&&Yp(n,e)?qx(r,t):(n.flags=n.flags&-4097|2,Oe=!1,Rt=n)}}else{if(gd(n))throw Error(Y(418));n.flags=n.flags&-4097|2,Oe=!1,Rt=n}}}function qp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rt=n}function Wa(n){if(n!==Rt)return!1;if(!Oe)return qp(n),Oe=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!fd(n.type,n.memoizedProps)),e&&(e=kt)){if(gd(n))throw Xx(),Error(Y(418));for(;e;)qx(n,e),e=Lr(e.nextSibling)}if(qp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Y(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){kt=Lr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}kt=null}}else kt=Rt?Lr(n.stateNode.nextSibling):null;return!0}function Xx(){for(var n=kt;n;)n=Lr(n.nextSibling)}function Js(){kt=Rt=null,Oe=!1}function Zf(n){sn===null?sn=[n]:sn.push(n)}var mE=rr.ReactCurrentBatchConfig;function Si(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Y(309));var r=t.stateNode}if(!r)throw Error(Y(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(Y(284));if(!t._owner)throw Error(Y(290,n))}return n}function Ka(n,e){throw n=Object.prototype.toString.call(e),Error(Y(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Xp(n){var e=n._init;return e(n._payload)}function Qx(n){function e(v,w){if(n){var y=v.deletions;y===null?(v.deletions=[w],v.flags|=16):y.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Rr(v,w),v.index=0,v.sibling=null,v}function i(v,w,y){return v.index=y,n?(y=v.alternate,y!==null?(y=y.index,y<w?(v.flags|=2,w):y):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function o(v,w,y,S){return w===null||w.tag!==6?(w=Jc(y,v.mode,S),w.return=v,w):(w=s(w,y),w.return=v,w)}function l(v,w,y,S){var b=y.type;return b===Ls?u(v,w,y.props.children,S,y.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===hr&&Xp(b)===w.type)?(S=s(w,y.props),S.ref=Si(v,w,y),S.return=v,S):(S=ko(y.type,y.key,y.props,null,v.mode,S),S.ref=Si(v,w,y),S.return=v,S)}function c(v,w,y,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Zc(y,v.mode,S),w.return=v,w):(w=s(w,y.children||[]),w.return=v,w)}function u(v,w,y,S,b){return w===null||w.tag!==7?(w=es(y,v.mode,S,b),w.return=v,w):(w=s(w,y),w.return=v,w)}function d(v,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jc(""+w,v.mode,y),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ma:return y=ko(w.type,w.key,w.props,null,v.mode,y),y.ref=Si(v,null,w),y.return=v,y;case As:return w=Zc(w,v.mode,y),w.return=v,w;case hr:var S=w._init;return d(v,S(w._payload),y)}if(Ni(w)||xi(w))return w=es(w,v.mode,y,null),w.return=v,w;Ka(v,w)}return null}function f(v,w,y,S){var b=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:o(v,w,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ma:return y.key===b?l(v,w,y,S):null;case As:return y.key===b?c(v,w,y,S):null;case hr:return b=y._init,f(v,w,b(y._payload),S)}if(Ni(y)||xi(y))return b!==null?null:u(v,w,y,S,null);Ka(v,y)}return null}function h(v,w,y,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,o(w,v,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ma:return v=v.get(S.key===null?y:S.key)||null,l(w,v,S,b);case As:return v=v.get(S.key===null?y:S.key)||null,c(w,v,S,b);case hr:var T=S._init;return h(v,w,y,T(S._payload),b)}if(Ni(S)||xi(S))return v=v.get(y)||null,u(w,v,S,b,null);Ka(w,S)}return null}function p(v,w,y,S){for(var b=null,T=null,I=w,E=w=0,A=null;I!==null&&E<y.length;E++){I.index>E?(A=I,I=null):A=I.sibling;var L=f(v,I,y[E],S);if(L===null){I===null&&(I=A);break}n&&I&&L.alternate===null&&e(v,I),w=i(L,w,E),T===null?b=L:T.sibling=L,T=L,I=A}if(E===y.length)return t(v,I),Oe&&Hr(v,E),b;if(I===null){for(;E<y.length;E++)I=d(v,y[E],S),I!==null&&(w=i(I,w,E),T===null?b=I:T.sibling=I,T=I);return Oe&&Hr(v,E),b}for(I=r(v,I);E<y.length;E++)A=h(I,v,E,y[E],S),A!==null&&(n&&A.alternate!==null&&I.delete(A.key===null?E:A.key),w=i(A,w,E),T===null?b=A:T.sibling=A,T=A);return n&&I.forEach(function(k){return e(v,k)}),Oe&&Hr(v,E),b}function m(v,w,y,S){var b=xi(y);if(typeof b!="function")throw Error(Y(150));if(y=b.call(y),y==null)throw Error(Y(151));for(var T=b=null,I=w,E=w=0,A=null,L=y.next();I!==null&&!L.done;E++,L=y.next()){I.index>E?(A=I,I=null):A=I.sibling;var k=f(v,I,L.value,S);if(k===null){I===null&&(I=A);break}n&&I&&k.alternate===null&&e(v,I),w=i(k,w,E),T===null?b=k:T.sibling=k,T=k,I=A}if(L.done)return t(v,I),Oe&&Hr(v,E),b;if(I===null){for(;!L.done;E++,L=y.next())L=d(v,L.value,S),L!==null&&(w=i(L,w,E),T===null?b=L:T.sibling=L,T=L);return Oe&&Hr(v,E),b}for(I=r(v,I);!L.done;E++,L=y.next())L=h(I,v,E,L.value,S),L!==null&&(n&&L.alternate!==null&&I.delete(L.key===null?E:L.key),w=i(L,w,E),T===null?b=L:T.sibling=L,T=L);return n&&I.forEach(function(R){return e(v,R)}),Oe&&Hr(v,E),b}function g(v,w,y,S){if(typeof y=="object"&&y!==null&&y.type===Ls&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ma:e:{for(var b=y.key,T=w;T!==null;){if(T.key===b){if(b=y.type,b===Ls){if(T.tag===7){t(v,T.sibling),w=s(T,y.props.children),w.return=v,v=w;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===hr&&Xp(b)===T.type){t(v,T.sibling),w=s(T,y.props),w.ref=Si(v,T,y),w.return=v,v=w;break e}t(v,T);break}else e(v,T);T=T.sibling}y.type===Ls?(w=es(y.props.children,v.mode,S,y.key),w.return=v,v=w):(S=ko(y.type,y.key,y.props,null,v.mode,S),S.ref=Si(v,w,y),S.return=v,v=S)}return a(v);case As:e:{for(T=y.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){t(v,w.sibling),w=s(w,y.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=Zc(y,v.mode,S),w.return=v,v=w}return a(v);case hr:return T=y._init,g(v,w,T(y._payload),S)}if(Ni(y))return p(v,w,y,S);if(xi(y))return m(v,w,y,S);Ka(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(t(v,w.sibling),w=s(w,y),w.return=v,v=w):(t(v,w),w=Jc(y,v.mode,S),w.return=v,v=w),a(v)):t(v,w)}return g}var Zs=Qx(!0),Jx=Qx(!1),il=jr(null),al=null,_s=null,eh=null;function th(){eh=_s=al=null}function nh(n){var e=il.current;Pe(il),n._currentValue=e}function yd(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Gs(n,e){al=n,eh=_s=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(bt=!0),n.firstContext=null)}function Vt(n){var e=n._currentValue;if(eh!==n)if(n={context:n,memoizedValue:e,next:null},_s===null){if(al===null)throw Error(Y(308));_s=n,al.dependencies={lanes:0,firstContext:n}}else _s=_s.next=n;return e}var Yr=null;function rh(n){Yr===null?Yr=[n]:Yr.push(n)}function Zx(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,rh(e)):(t.next=s.next,s.next=t),e.interleaved=t,Jn(n,r)}function Jn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var pr=!1;function sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ey(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Yn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jn(n,t)}return s=r.interleaved,s===null?(e.next=e,rh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jn(n,t)}function Eo(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Hf(n,t)}}function Qp(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ol(n,e,t,r){var s=n.updateQueue;pr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,o=i;do{var f=o.lane,h=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=n,m=o;switch(f=e,h=t,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=$e({},d,f);break e;case 2:pr=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);os|=a,n.lanes=a,n.memoizedState=d}}function Jp(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var La={},Cn=jr(La),ia=jr(La),aa=jr(La);function qr(n){if(n===La)throw Error(Y(174));return n}function ih(n,e){switch(Re(aa,e),Re(ia,n),Re(Cn,La),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ju(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ju(e,n)}Pe(Cn),Re(Cn,e)}function ei(){Pe(Cn),Pe(ia),Pe(aa)}function ty(n){qr(aa.current);var e=qr(Cn.current),t=Ju(e,n.type);e!==t&&(Re(ia,n),Re(Cn,t))}function ah(n){ia.current===n&&(Pe(Cn),Pe(ia))}var Fe=jr(0);function ll(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wc=[];function oh(){for(var n=0;n<Wc.length;n++)Wc[n]._workInProgressVersionPrimary=null;Wc.length=0}var To=rr.ReactCurrentDispatcher,Kc=rr.ReactCurrentBatchConfig,as=0,je=null,Ke=null,Qe=null,cl=!1,Bi=!1,oa=0,gE=0;function it(){throw Error(Y(321))}function lh(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!cn(n[t],e[t]))return!1;return!0}function ch(n,e,t,r,s,i){if(as=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,To.current=n===null||n.memoizedState===null?wE:bE,n=t(r,s),Bi){i=0;do{if(Bi=!1,oa=0,25<=i)throw Error(Y(301));i+=1,Qe=Ke=null,e.updateQueue=null,To.current=SE,n=t(r,s)}while(Bi)}if(To.current=ul,e=Ke!==null&&Ke.next!==null,as=0,Qe=Ke=je=null,cl=!1,e)throw Error(Y(300));return n}function uh(){var n=oa!==0;return oa=0,n}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?je.memoizedState=Qe=n:Qe=Qe.next=n,Qe}function Wt(){if(Ke===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=Ke.next;var e=Qe===null?je.memoizedState:Qe.next;if(e!==null)Qe=e,Ke=n;else{if(n===null)throw Error(Y(310));Ke=n,n={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?je.memoizedState=Qe=n:Qe=Qe.next=n}return Qe}function la(n,e){return typeof e=="function"?e(n):e}function Yc(n){var e=Wt(),t=e.queue;if(t===null)throw Error(Y(311));t.lastRenderedReducer=n;var r=Ke,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var u=c.lane;if((as&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,je.lanes|=u,os|=u}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,cn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,je.lanes|=i,os|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function qc(n){var e=Wt(),t=e.queue;if(t===null)throw Error(Y(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=n(i,a.action),a=a.next;while(a!==s);cn(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function ny(){}function ry(n,e){var t=je,r=Wt(),s=e(),i=!cn(r.memoizedState,s);if(i&&(r.memoizedState=s,bt=!0),r=r.queue,dh(ay.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Qe!==null&&Qe.memoizedState.tag&1){if(t.flags|=2048,ca(9,iy.bind(null,t,r,s,e),void 0,null),Ze===null)throw Error(Y(349));as&30||sy(t,e,s)}return s}function sy(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iy(n,e,t,r){e.value=t,e.getSnapshot=r,oy(e)&&ly(n)}function ay(n,e,t){return t(function(){oy(e)&&ly(n)})}function oy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!cn(n,t)}catch{return!0}}function ly(n){var e=Jn(n,1);e!==null&&ln(e,n,1,-1)}function Zp(n){var e=mn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:n},e.queue=n,n=n.dispatch=vE.bind(null,je,n),[e.memoizedState,n]}function ca(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function cy(){return Wt().memoizedState}function Ao(n,e,t,r){var s=mn();je.flags|=n,s.memoizedState=ca(1|e,t,void 0,r===void 0?null:r)}function Zl(n,e,t,r){var s=Wt();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var a=Ke.memoizedState;if(i=a.destroy,r!==null&&lh(r,a.deps)){s.memoizedState=ca(e,t,i,r);return}}je.flags|=n,s.memoizedState=ca(1|e,t,i,r)}function em(n,e){return Ao(8390656,8,n,e)}function dh(n,e){return Zl(2048,8,n,e)}function uy(n,e){return Zl(4,2,n,e)}function dy(n,e){return Zl(4,4,n,e)}function fy(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function hy(n,e,t){return t=t!=null?t.concat([n]):null,Zl(4,4,fy.bind(null,e,n),t)}function fh(){}function py(n,e){var t=Wt();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function my(n,e){var t=Wt();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function gy(n,e,t){return as&21?(cn(t,e)||(t=bx(),je.lanes|=t,os|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,bt=!0),n.memoizedState=t)}function xE(n,e){var t=Le;Le=t!==0&&4>t?t:4,n(!0);var r=Kc.transition;Kc.transition={};try{n(!1),e()}finally{Le=t,Kc.transition=r}}function xy(){return Wt().memoizedState}function yE(n,e,t){var r=kr(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},yy(n))vy(e,t);else if(t=Zx(n,e,t,r),t!==null){var s=ht();ln(t,n,r,s),wy(t,e,r)}}function vE(n,e,t){var r=kr(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(yy(n))vy(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(s.hasEagerState=!0,s.eagerState=o,cn(o,a)){var l=e.interleaved;l===null?(s.next=s,rh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=Zx(n,e,s,r),t!==null&&(s=ht(),ln(t,n,r,s),wy(t,e,r))}}function yy(n){var e=n.alternate;return n===je||e!==null&&e===je}function vy(n,e){Bi=cl=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function wy(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Hf(n,t)}}var ul={readContext:Vt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},wE={readContext:Vt,useCallback:function(n,e){return mn().memoizedState=[n,e===void 0?null:e],n},useContext:Vt,useEffect:em,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ao(4194308,4,fy.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ao(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ao(4,2,n,e)},useMemo:function(n,e){var t=mn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=mn();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=yE.bind(null,je,n),[r.memoizedState,n]},useRef:function(n){var e=mn();return n={current:n},e.memoizedState=n},useState:Zp,useDebugValue:fh,useDeferredValue:function(n){return mn().memoizedState=n},useTransition:function(){var n=Zp(!1),e=n[0];return n=xE.bind(null,n[1]),mn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=je,s=mn();if(Oe){if(t===void 0)throw Error(Y(407));t=t()}else{if(t=e(),Ze===null)throw Error(Y(349));as&30||sy(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,em(ay.bind(null,r,i,n),[n]),r.flags|=2048,ca(9,iy.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=mn(),e=Ze.identifierPrefix;if(Oe){var t=Kn,r=Wn;t=(r&~(1<<32-on(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=oa++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=gE++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},bE={readContext:Vt,useCallback:py,useContext:Vt,useEffect:dh,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:dy,useMemo:my,useReducer:Yc,useRef:cy,useState:function(){return Yc(la)},useDebugValue:fh,useDeferredValue:function(n){var e=Wt();return gy(e,Ke.memoizedState,n)},useTransition:function(){var n=Yc(la)[0],e=Wt().memoizedState;return[n,e]},useMutableSource:ny,useSyncExternalStore:ry,useId:xy,unstable_isNewReconciler:!1},SE={readContext:Vt,useCallback:py,useContext:Vt,useEffect:dh,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:dy,useMemo:my,useReducer:qc,useRef:cy,useState:function(){return qc(la)},useDebugValue:fh,useDeferredValue:function(n){var e=Wt();return Ke===null?e.memoizedState=n:gy(e,Ke.memoizedState,n)},useTransition:function(){var n=qc(la)[0],e=Wt().memoizedState;return[n,e]},useMutableSource:ny,useSyncExternalStore:ry,useId:xy,unstable_isNewReconciler:!1};function nn(n,e){if(n&&n.defaultProps){e=$e({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function vd(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:$e({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ec={isMounted:function(n){return(n=n._reactInternals)?gs(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ht(),s=kr(n),i=Yn(r,s);i.payload=e,t!=null&&(i.callback=t),e=Cr(n,i,s),e!==null&&(ln(e,n,s,r),Eo(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ht(),s=kr(n),i=Yn(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Cr(n,i,s),e!==null&&(ln(e,n,s,r),Eo(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ht(),r=kr(n),s=Yn(t,r);s.tag=2,e!=null&&(s.callback=e),e=Cr(n,s,r),e!==null&&(ln(e,n,r,t),Eo(e,n,r))}};function tm(n,e,t,r,s,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!ta(t,r)||!ta(s,i):!0}function by(n,e,t){var r=!1,s=Pr,i=e.contextType;return typeof i=="object"&&i!==null?i=Vt(i):(s=Tt(e)?ss:ut.current,r=e.contextTypes,i=(r=r!=null)?Qs(n,s):Pr),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ec,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function nm(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ec.enqueueReplaceState(e,e.state,null)}function wd(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},sh(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vt(i):(i=Tt(e)?ss:ut.current,s.context=Qs(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vd(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ec.enqueueReplaceState(s,s.state,null),ol(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function ti(n,e){try{var t="",r=e;do t+=Xb(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Xc(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function bd(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var EE=typeof WeakMap=="function"?WeakMap:Map;function Sy(n,e,t){t=Yn(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){fl||(fl=!0,Nd=r),bd(n,e)},t}function Ey(n,e,t){t=Yn(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){bd(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){bd(n,e),typeof r!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function rm(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new EE;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=FE.bind(null,n,e,t),e.then(n,n))}function sm(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function im(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Yn(-1,1),e.tag=2,Cr(t,e,1))),t.lanes|=1),n)}var TE=rr.ReactCurrentOwner,bt=!1;function ft(n,e,t,r){e.child=n===null?Jx(e,null,t,r):Zs(e,n.child,t,r)}function am(n,e,t,r,s){t=t.render;var i=e.ref;return Gs(e,s),r=ch(n,e,t,r,i,s),t=uh(),n!==null&&!bt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Zn(n,e,s)):(Oe&&t&&Qf(e),e.flags|=1,ft(n,e,r,s),e.child)}function om(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!wh(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,Ty(n,e,i,r,s)):(n=ko(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:ta,t(a,r)&&n.ref===e.ref)return Zn(n,e,s)}return e.flags|=1,n=Rr(i,r),n.ref=e.ref,n.return=e,e.child=n}function Ty(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(ta(i,r)&&n.ref===e.ref)if(bt=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(bt=!0);else return e.lanes=n.lanes,Zn(n,e,s)}return Sd(n,e,t,r,s)}function Ay(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ms,Ct),Ct|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Re(Ms,Ct),Ct|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Re(Ms,Ct),Ct|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Re(Ms,Ct),Ct|=r;return ft(n,e,s,t),e.child}function Ly(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Sd(n,e,t,r,s){var i=Tt(t)?ss:ut.current;return i=Qs(e,i),Gs(e,s),t=ch(n,e,t,r,i,s),r=uh(),n!==null&&!bt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Zn(n,e,s)):(Oe&&r&&Qf(e),e.flags|=1,ft(n,e,t,s),e.child)}function lm(n,e,t,r,s){if(Tt(t)){var i=!0;nl(e)}else i=!1;if(Gs(e,s),e.stateNode===null)Lo(n,e),by(e,t,r),wd(e,t,r,s),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Vt(c):(c=Tt(t)?ss:ut.current,c=Qs(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&nm(e,a,r,c),pr=!1;var f=e.memoizedState;a.state=f,ol(e,r,a,s),l=e.memoizedState,o!==r||f!==l||Et.current||pr?(typeof u=="function"&&(vd(e,t,u,r),l=e.memoizedState),(o=pr||tm(e,t,o,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ey(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:nn(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Vt(l):(l=Tt(t)?ss:ut.current,l=Qs(e,l));var h=t.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&nm(e,a,r,l),pr=!1,f=e.memoizedState,a.state=f,ol(e,r,a,s);var p=e.memoizedState;o!==d||f!==p||Et.current||pr?(typeof h=="function"&&(vd(e,t,h,r),p=e.memoizedState),(c=pr||tm(e,t,c,r,f,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Ed(n,e,t,r,i,s)}function Ed(n,e,t,r,s,i){Ly(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Kp(e,t,!1),Zn(n,e,i);r=e.stateNode,TE.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Zs(e,n.child,null,i),e.child=Zs(e,null,o,i)):ft(n,e,o,i),e.memoizedState=r.state,s&&Kp(e,t,!0),e.child}function Cy(n){var e=n.stateNode;e.pendingContext?Wp(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Wp(n,e.context,!1),ih(n,e.containerInfo)}function cm(n,e,t,r,s){return Js(),Zf(s),e.flags|=256,ft(n,e,t,r),e.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function Ad(n){return{baseLanes:n,cachePool:null,transitions:null}}function Iy(n,e,t){var r=e.pendingProps,s=Fe.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Re(Fe,s&1),n===null)return xd(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=rc(a,r,0,null),n=es(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Ad(t),e.memoizedState=Td,n):hh(e,a));if(s=n.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return AE(n,e,a,r,o,s,t);if(i){i=r.fallback,a=e.mode,s=n.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Rr(o,i):(i=es(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?Ad(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=Td,r}return i=n.child,n=i.sibling,r=Rr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function hh(n,e){return e=rc({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ya(n,e,t,r){return r!==null&&Zf(r),Zs(e,n.child,null,t),n=hh(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function AE(n,e,t,r,s,i,a){if(t)return e.flags&256?(e.flags&=-257,r=Xc(Error(Y(422))),Ya(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=rc({mode:"visible",children:r.children},s,0,null),i=es(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zs(e,n.child,null,a),e.child.memoizedState=Ad(a),e.memoizedState=Td,i);if(!(e.mode&1))return Ya(n,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(Y(419)),r=Xc(i,r,void 0),Ya(n,e,a,r)}if(o=(a&n.childLanes)!==0,bt||o){if(r=Ze,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jn(n,s),ln(r,n,s,-1))}return vh(),r=Xc(Error(Y(421))),Ya(n,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=jE.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,kt=Lr(s.nextSibling),Rt=e,Oe=!0,sn=null,n!==null&&(Bt[Ut++]=Wn,Bt[Ut++]=Kn,Bt[Ut++]=is,Wn=n.id,Kn=n.overflow,is=e),e=hh(e,r.children),e.flags|=4096,e)}function um(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),yd(n.return,e,t)}function Qc(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function ky(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ft(n,e,r.children,t),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&um(n,t,e);else if(n.tag===19)um(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Re(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&ll(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Qc(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&ll(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Qc(e,!0,t,null,i);break;case"together":Qc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Zn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),os|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Y(153));if(e.child!==null){for(n=e.child,t=Rr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Rr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function LE(n,e,t){switch(e.tag){case 3:Cy(e),Js();break;case 5:ty(e);break;case 1:Tt(e.type)&&nl(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(il,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Fe,Fe.current&1),e.flags|=128,null):t&e.child.childLanes?Iy(n,e,t):(Re(Fe,Fe.current&1),n=Zn(n,e,t),n!==null?n.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ky(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Ay(n,e,t)}return Zn(n,e,t)}var Ry,Ld,Ny,Dy;Ry=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ld=function(){};Ny=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,qr(Cn.current);var i=null;switch(t){case"input":s=Yu(n,s),r=Yu(n,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=Qu(n,s),r=Qu(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=el)}Zu(t,r);var a;t=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",n),i||o===l||(i=[])):(i=i||[]).push(c,l))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Dy=function(n,e,t,r){t!==r&&(e.flags|=4)};function Ei(n,e){if(!Oe)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function at(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function CE(n,e,t){var r=e.pendingProps;switch(Jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Tt(e.type)&&tl(),at(e),null;case 3:return r=e.stateNode,ei(),Pe(Et),Pe(ut),oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Wa(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(_d(sn),sn=null))),Ld(n,e),at(e),null;case 5:ah(e);var s=qr(aa.current);if(t=e.type,n!==null&&e.stateNode!=null)Ny(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return at(e),null}if(n=qr(Cn.current),Wa(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[wn]=e,r[sa]=i,n=(e.mode&1)!==0,t){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<Pi.length;s++)De(Pi[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":vp(r,i),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},De("invalid",r);break;case"textarea":bp(r,i),De("invalid",r)}Zu(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Va(r.textContent,o,n),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Va(r.textContent,o,n),s=["children",""+o]):Yi.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&De("scroll",r)}switch(t){case"input":Fa(r),wp(r,i,!0);break;case"textarea":Fa(r),Sp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=el)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ax(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[wn]=e,n[sa]=r,Ry(n,e,!1,!1),e.stateNode=n;e:{switch(a=ed(t,r),t){case"dialog":De("cancel",n),De("close",n),s=r;break;case"iframe":case"object":case"embed":De("load",n),s=r;break;case"video":case"audio":for(s=0;s<Pi.length;s++)De(Pi[s],n);s=r;break;case"source":De("error",n),s=r;break;case"img":case"image":case"link":De("error",n),De("load",n),s=r;break;case"details":De("toggle",n),s=r;break;case"input":vp(n,r),s=Yu(n,r),De("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),De("invalid",n);break;case"textarea":bp(n,r),s=Qu(n,r),De("invalid",n);break;default:s=r}Zu(t,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?cx(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ox(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&qi(n,l):typeof l=="number"&&qi(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&De("scroll",n):l!=null&&Ff(n,i,l,a))}switch(t){case"input":Fa(n),wp(n,r,!1);break;case"textarea":Fa(n),Sp(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Dr(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?Bs(n,!!r.multiple,i,!1):r.defaultValue!=null&&Bs(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=el)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(n&&e.stateNode!=null)Dy(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(t=qr(aa.current),qr(Cn.current),Wa(e)){if(r=e.stateNode,t=e.memoizedProps,r[wn]=e,(i=r.nodeValue!==t)&&(n=Rt,n!==null))switch(n.tag){case 3:Va(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Va(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return at(e),null;case 13:if(Pe(Fe),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Oe&&kt!==null&&e.mode&1&&!(e.flags&128))Xx(),Js(),e.flags|=98560,i=!1;else if(i=Wa(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[wn]=e}else Js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),i=!1}else sn!==null&&(_d(sn),sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Fe.current&1?Ye===0&&(Ye=3):vh())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return ei(),Ld(n,e),n===null&&na(e.stateNode.containerInfo),at(e),null;case 10:return nh(e.type._context),at(e),null;case 17:return Tt(e.type)&&tl(),at(e),null;case 19:if(Pe(Fe),i=e.memoizedState,i===null)return at(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ei(i,!1);else{if(Ye!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=ll(n),a!==null){for(e.flags|=128,Ei(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Re(Fe,Fe.current&1|2),e.child}n=n.sibling}i.tail!==null&&Ue()>ni&&(e.flags|=128,r=!0,Ei(i,!1),e.lanes=4194304)}else{if(!r)if(n=ll(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Oe)return at(e),null}else 2*Ue()-i.renderingStartTime>ni&&t!==1073741824&&(e.flags|=128,r=!0,Ei(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,t=Fe.current,Re(Fe,r?t&1|2:t&1),e):(at(e),null);case 22:case 23:return yh(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ct&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function IE(n,e){switch(Jf(e),e.tag){case 1:return Tt(e.type)&&tl(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return ei(),Pe(Et),Pe(ut),oh(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ah(e),null;case 13:if(Pe(Fe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Js()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Pe(Fe),null;case 4:return ei(),null;case 10:return nh(e.type._context),null;case 22:case 23:return yh(),null;case 24:return null;default:return null}}var qa=!1,lt=!1,kE=typeof WeakSet=="function"?WeakSet:Set,q=null;function Os(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Be(n,e,r)}else t.current=null}function Cd(n,e,t){try{t()}catch(r){Be(n,e,r)}}var dm=!1;function RE(n,e){if(ud=Qo,n=Fx(),Xf(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=n,f=null;t:for(;;){for(var h;d!==t||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===n)break t;if(f===t&&++c===s&&(o=a),f===i&&++u===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(dd={focusedElem:n,selectionRange:t},Qo=!1,q=e;q!==null;)if(e=q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,q=n;else for(;q!==null;){e=q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:nn(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(S){Be(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}return p=dm,dm=!1,p}function Ui(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cd(e,t,i)}s=s.next}while(s!==r)}}function tc(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Id(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Py(n){var e=n.alternate;e!==null&&(n.alternate=null,Py(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[wn],delete e[sa],delete e[pd],delete e[fE],delete e[hE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _y(n){return n.tag===5||n.tag===3||n.tag===4}function fm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_y(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kd(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=el));else if(r!==4&&(n=n.child,n!==null))for(kd(n,e,t),n=n.sibling;n!==null;)kd(n,e,t),n=n.sibling}function Rd(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Rd(n,e,t),n=n.sibling;n!==null;)Rd(n,e,t),n=n.sibling}var tt=null,rn=!1;function or(n,e,t){for(t=t.child;t!==null;)Oy(n,e,t),t=t.sibling}function Oy(n,e,t){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Kl,t)}catch{}switch(t.tag){case 5:lt||Os(t,e);case 6:var r=tt,s=rn;tt=null,or(n,e,t),tt=r,rn=s,tt!==null&&(rn?(n=tt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):tt.removeChild(t.stateNode));break;case 18:tt!==null&&(rn?(n=tt,t=t.stateNode,n.nodeType===8?Gc(n.parentNode,t):n.nodeType===1&&Gc(n,t),Zi(n)):Gc(tt,t.stateNode));break;case 4:r=tt,s=rn,tt=t.stateNode.containerInfo,rn=!0,or(n,e,t),tt=r,rn=s;break;case 0:case 11:case 14:case 15:if(!lt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Cd(t,e,a),s=s.next}while(s!==r)}or(n,e,t);break;case 1:if(!lt&&(Os(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){Be(t,e,o)}or(n,e,t);break;case 21:or(n,e,t);break;case 22:t.mode&1?(lt=(r=lt)||t.memoizedState!==null,or(n,e,t),lt=r):or(n,e,t);break;default:or(n,e,t)}}function hm(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new kE),e.forEach(function(r){var s=$E.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Zt(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:tt=o.stateNode,rn=!1;break e;case 3:tt=o.stateNode.containerInfo,rn=!0;break e;case 4:tt=o.stateNode.containerInfo,rn=!0;break e}o=o.return}if(tt===null)throw Error(Y(160));Oy(i,a,s),tt=null,rn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)My(e,n),e=e.sibling}function My(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Zt(e,n),fn(n),r&4){try{Ui(3,n,n.return),tc(3,n)}catch(m){Be(n,n.return,m)}try{Ui(5,n,n.return)}catch(m){Be(n,n.return,m)}}break;case 1:Zt(e,n),fn(n),r&512&&t!==null&&Os(t,t.return);break;case 5:if(Zt(e,n),fn(n),r&512&&t!==null&&Os(t,t.return),n.flags&32){var s=n.stateNode;try{qi(s,"")}catch(m){Be(n,n.return,m)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sx(s,i),ed(o,a);var c=ed(o,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?cx(s,d):u==="dangerouslySetInnerHTML"?ox(s,d):u==="children"?qi(s,d):Ff(s,u,d,c)}switch(o){case"input":qu(s,i);break;case"textarea":ix(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Bs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Bs(s,!!i.multiple,i.defaultValue,!0):Bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[sa]=i}catch(m){Be(n,n.return,m)}}break;case 6:if(Zt(e,n),fn(n),r&4){if(n.stateNode===null)throw Error(Y(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(m){Be(n,n.return,m)}}break;case 3:if(Zt(e,n),fn(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Zi(e.containerInfo)}catch(m){Be(n,n.return,m)}break;case 4:Zt(e,n),fn(n);break;case 13:Zt(e,n),fn(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gh=Ue())),r&4&&hm(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(lt=(c=lt)||u,Zt(e,n),lt=c):Zt(e,n),fn(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(q=n,u=n.child;u!==null;){for(d=q=u;q!==null;){switch(f=q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ui(4,f,f.return);break;case 1:Os(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Be(r,t,m)}}break;case 5:Os(f,f.return);break;case 22:if(f.memoizedState!==null){mm(d);continue}}h!==null?(h.return=f,q=h):mm(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lx("display",a))}catch(m){Be(n,n.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Be(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(e,n),fn(n),r&4&&hm(n);break;case 21:break;default:Zt(e,n),fn(n)}}function fn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(_y(t)){var r=t;break e}t=t.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qi(s,""),r.flags&=-33);var i=fm(n);Rd(n,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=fm(n);kd(n,o,a);break;default:throw Error(Y(161))}}catch(l){Be(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function NE(n,e,t){q=n,Fy(n)}function Fy(n,e,t){for(var r=(n.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||qa;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||lt;o=qa;var c=lt;if(qa=a,(lt=l)&&!c)for(q=s;q!==null;)a=q,l=a.child,a.tag===22&&a.memoizedState!==null?gm(s):l!==null?(l.return=a,q=l):gm(s);for(;i!==null;)q=i,Fy(i),i=i.sibling;q=s,qa=o,lt=c}pm(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):pm(n)}}function pm(n){for(;q!==null;){var e=q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||tc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:nn(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jp(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Jp(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Zi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}lt||e.flags&512&&Id(e)}catch(f){Be(e,e.return,f)}}if(e===n){q=null;break}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}}function mm(n){for(;q!==null;){var e=q;if(e===n){q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,q=t;break}q=e.return}}function gm(n){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{tc(4,e)}catch(l){Be(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Be(e,s,l)}}var i=e.return;try{Id(e)}catch(l){Be(e,i,l)}break;case 5:var a=e.return;try{Id(e)}catch(l){Be(e,a,l)}}}catch(l){Be(e,e.return,l)}if(e===n){q=null;break}var o=e.sibling;if(o!==null){o.return=e.return,q=o;break}q=e.return}}var DE=Math.ceil,dl=rr.ReactCurrentDispatcher,ph=rr.ReactCurrentOwner,Ht=rr.ReactCurrentBatchConfig,Se=0,Ze=null,He=null,rt=0,Ct=0,Ms=jr(0),Ye=0,ua=null,os=0,nc=0,mh=0,zi=null,vt=null,gh=0,ni=1/0,zn=null,fl=!1,Nd=null,Ir=null,Xa=!1,vr=null,hl=0,Hi=0,Dd=null,Co=-1,Io=0;function ht(){return Se&6?Ue():Co!==-1?Co:Co=Ue()}function kr(n){return n.mode&1?Se&2&&rt!==0?rt&-rt:mE.transition!==null?(Io===0&&(Io=bx()),Io):(n=Le,n!==0||(n=window.event,n=n===void 0?16:Ix(n.type)),n):1}function ln(n,e,t,r){if(50<Hi)throw Hi=0,Dd=null,Error(Y(185));Ea(n,t,r),(!(Se&2)||n!==Ze)&&(n===Ze&&(!(Se&2)&&(nc|=t),Ye===4&&xr(n,rt)),At(n,r),t===1&&Se===0&&!(e.mode&1)&&(ni=Ue()+500,Jl&&$r()))}function At(n,e){var t=n.callbackNode;mS(n,e);var r=Xo(n,n===Ze?rt:0);if(r===0)t!==null&&Ap(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Ap(t),e===1)n.tag===0?pE(xm.bind(null,n)):Kx(xm.bind(null,n)),uE(function(){!(Se&6)&&$r()}),t=null;else{switch(Sx(r)){case 1:t=zf;break;case 4:t=vx;break;case 16:t=qo;break;case 536870912:t=wx;break;default:t=qo}t=Vy(t,jy.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function jy(n,e){if(Co=-1,Io=0,Se&6)throw Error(Y(327));var t=n.callbackNode;if(Vs()&&n.callbackNode!==t)return null;var r=Xo(n,n===Ze?rt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=pl(n,r);else{e=r;var s=Se;Se|=2;var i=By();(Ze!==n||rt!==e)&&(zn=null,ni=Ue()+500,Zr(n,e));do try{OE();break}catch(o){$y(n,o)}while(!0);th(),dl.current=i,Se=s,He!==null?e=0:(Ze=null,rt=0,e=Ye)}if(e!==0){if(e===2&&(s=id(n),s!==0&&(r=s,e=Pd(n,s))),e===1)throw t=ua,Zr(n,0),xr(n,r),At(n,Ue()),t;if(e===6)xr(n,r);else{if(s=n.current.alternate,!(r&30)&&!PE(s)&&(e=pl(n,r),e===2&&(i=id(n),i!==0&&(r=i,e=Pd(n,i))),e===1))throw t=ua,Zr(n,0),xr(n,r),At(n,Ue()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Gr(n,vt,zn);break;case 3:if(xr(n,r),(r&130023424)===r&&(e=gh+500-Ue(),10<e)){if(Xo(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){ht(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=hd(Gr.bind(null,n,vt,zn),e);break}Gr(n,vt,zn);break;case 4:if(xr(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var a=31-on(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DE(r/1960))-r,10<r){n.timeoutHandle=hd(Gr.bind(null,n,vt,zn),r);break}Gr(n,vt,zn);break;case 5:Gr(n,vt,zn);break;default:throw Error(Y(329))}}}return At(n,Ue()),n.callbackNode===t?jy.bind(null,n):null}function Pd(n,e){var t=zi;return n.current.memoizedState.isDehydrated&&(Zr(n,e).flags|=256),n=pl(n,e),n!==2&&(e=vt,vt=t,e!==null&&_d(e)),n}function _d(n){vt===null?vt=n:vt.push.apply(vt,n)}function PE(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!cn(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xr(n,e){for(e&=~mh,e&=~nc,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-on(e),r=1<<t;n[t]=-1,e&=~r}}function xm(n){if(Se&6)throw Error(Y(327));Vs();var e=Xo(n,0);if(!(e&1))return At(n,Ue()),null;var t=pl(n,e);if(n.tag!==0&&t===2){var r=id(n);r!==0&&(e=r,t=Pd(n,r))}if(t===1)throw t=ua,Zr(n,0),xr(n,e),At(n,Ue()),t;if(t===6)throw Error(Y(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Gr(n,vt,zn),At(n,Ue()),null}function xh(n,e){var t=Se;Se|=1;try{return n(e)}finally{Se=t,Se===0&&(ni=Ue()+500,Jl&&$r())}}function ls(n){vr!==null&&vr.tag===0&&!(Se&6)&&Vs();var e=Se;Se|=1;var t=Ht.transition,r=Le;try{if(Ht.transition=null,Le=1,n)return n()}finally{Le=r,Ht.transition=t,Se=e,!(Se&6)&&$r()}}function yh(){Ct=Ms.current,Pe(Ms)}function Zr(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,cE(t)),He!==null)for(t=He.return;t!==null;){var r=t;switch(Jf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:ei(),Pe(Et),Pe(ut),oh();break;case 5:ah(r);break;case 4:ei();break;case 13:Pe(Fe);break;case 19:Pe(Fe);break;case 10:nh(r.type._context);break;case 22:case 23:yh()}t=t.return}if(Ze=n,He=n=Rr(n.current,null),rt=Ct=e,Ye=0,ua=null,mh=nc=os=0,vt=zi=null,Yr!==null){for(e=0;e<Yr.length;e++)if(t=Yr[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}t.pending=r}Yr=null}return n}function $y(n,e){do{var t=He;try{if(th(),To.current=ul,cl){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cl=!1}if(as=0,Qe=Ke=je=null,Bi=!1,oa=0,ph.current=null,t===null||t.return===null){Ye=1,ua=e,He=null;break}e:{var i=n,a=t.return,o=t,l=e;if(e=rt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=sm(a);if(h!==null){h.flags&=-257,im(h,a,o,i,e),h.mode&1&&rm(i,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){rm(i,c,e),vh();break e}l=Error(Y(426))}}else if(Oe&&o.mode&1){var g=sm(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),im(g,a,o,i,e),Zf(ti(l,o));break e}}i=l=ti(l,o),Ye!==4&&(Ye=2),zi===null?zi=[i]:zi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Sy(i,l,e);Qp(i,v);break e;case 1:o=l;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ir===null||!Ir.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Ey(i,o,e);Qp(i,S);break e}}i=i.return}while(i!==null)}zy(t)}catch(b){e=b,He===t&&t!==null&&(He=t=t.return);continue}break}while(!0)}function By(){var n=dl.current;return dl.current=ul,n===null?ul:n}function vh(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ze===null||!(os&268435455)&&!(nc&268435455)||xr(Ze,rt)}function pl(n,e){var t=Se;Se|=2;var r=By();(Ze!==n||rt!==e)&&(zn=null,Zr(n,e));do try{_E();break}catch(s){$y(n,s)}while(!0);if(th(),Se=t,dl.current=r,He!==null)throw Error(Y(261));return Ze=null,rt=0,Ye}function _E(){for(;He!==null;)Uy(He)}function OE(){for(;He!==null&&!aS();)Uy(He)}function Uy(n){var e=Gy(n.alternate,n,Ct);n.memoizedProps=n.pendingProps,e===null?zy(n):He=e,ph.current=null}function zy(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=IE(t,e),t!==null){t.flags&=32767,He=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ye=6,He=null;return}}else if(t=CE(t,e,Ct),t!==null){He=t;return}if(e=e.sibling,e!==null){He=e;return}He=e=n}while(e!==null);Ye===0&&(Ye=5)}function Gr(n,e,t){var r=Le,s=Ht.transition;try{Ht.transition=null,Le=1,ME(n,e,t,r)}finally{Ht.transition=s,Le=r}return null}function ME(n,e,t,r){do Vs();while(vr!==null);if(Se&6)throw Error(Y(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Y(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(gS(n,i),n===Ze&&(He=Ze=null,rt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Xa||(Xa=!0,Vy(qo,function(){return Vs(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var a=Le;Le=1;var o=Se;Se|=4,ph.current=null,RE(n,t),My(t,n),nE(dd),Qo=!!ud,dd=ud=null,n.current=t,NE(t),oS(),Se=o,Le=a,Ht.transition=i}else n.current=t;if(Xa&&(Xa=!1,vr=n,hl=s),i=n.pendingLanes,i===0&&(Ir=null),uS(t.stateNode),At(n,Ue()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(fl)throw fl=!1,n=Nd,Nd=null,n;return hl&1&&n.tag!==0&&Vs(),i=n.pendingLanes,i&1?n===Dd?Hi++:(Hi=0,Dd=n):Hi=0,$r(),null}function Vs(){if(vr!==null){var n=Sx(hl),e=Ht.transition,t=Le;try{if(Ht.transition=null,Le=16>n?16:n,vr===null)var r=!1;else{if(n=vr,vr=null,hl=0,Se&6)throw Error(Y(331));var s=Se;for(Se|=4,q=n.current;q!==null;){var i=q,a=i.child;if(q.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(q=c;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:Ui(8,u,i)}var d=u.child;if(d!==null)d.return=u,q=d;else for(;q!==null;){u=q;var f=u.sibling,h=u.return;if(Py(u),u===c){q=null;break}if(f!==null){f.return=h,q=f;break}q=h}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}q=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,q=a;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ui(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,q=v;break e}q=i.return}}var w=n.current;for(q=w;q!==null;){a=q;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,q=y;else e:for(a=w;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tc(9,o)}}catch(b){Be(o,o.return,b)}if(o===a){q=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,q=S;break e}q=o.return}}if(Se=s,$r(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Kl,n)}catch{}r=!0}return r}finally{Le=t,Ht.transition=e}}return!1}function ym(n,e,t){e=ti(t,e),e=Sy(n,e,1),n=Cr(n,e,1),e=ht(),n!==null&&(Ea(n,1,e),At(n,e))}function Be(n,e,t){if(n.tag===3)ym(n,n,t);else for(;e!==null;){if(e.tag===3){ym(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ir===null||!Ir.has(r))){n=ti(t,n),n=Ey(e,n,1),e=Cr(e,n,1),n=ht(),e!==null&&(Ea(e,1,n),At(e,n));break}}e=e.return}}function FE(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ht(),n.pingedLanes|=n.suspendedLanes&t,Ze===n&&(rt&t)===t&&(Ye===4||Ye===3&&(rt&130023424)===rt&&500>Ue()-gh?Zr(n,0):mh|=t),At(n,e)}function Hy(n,e){e===0&&(n.mode&1?(e=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):e=1);var t=ht();n=Jn(n,e),n!==null&&(Ea(n,e,t),At(n,t))}function jE(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Hy(n,t)}function $E(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),Hy(n,t)}var Gy;Gy=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Et.current)bt=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return bt=!1,LE(n,e,t);bt=!!(n.flags&131072)}else bt=!1,Oe&&e.flags&1048576&&Yx(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lo(n,e),n=e.pendingProps;var s=Qs(e,ut.current);Gs(e,t),s=ch(null,e,r,n,s,t);var i=uh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(i=!0,nl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sh(e),s.updater=ec,e.stateNode=s,s._reactInternals=e,wd(e,r,n,t),e=Ed(null,e,r,!0,i,t)):(e.tag=0,Oe&&i&&Qf(e),ft(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Lo(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=UE(r),n=nn(r,n),s){case 0:e=Sd(null,e,r,n,t);break e;case 1:e=lm(null,e,r,n,t);break e;case 11:e=am(null,e,r,n,t);break e;case 14:e=om(null,e,r,nn(r.type,n),t);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),Sd(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),lm(n,e,r,s,t);case 3:e:{if(Cy(e),n===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ey(n,e),ol(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ti(Error(Y(423)),e),e=cm(n,e,r,t,s);break e}else if(r!==s){s=ti(Error(Y(424)),e),e=cm(n,e,r,t,s);break e}else for(kt=Lr(e.stateNode.containerInfo.firstChild),Rt=e,Oe=!0,sn=null,t=Jx(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Js(),r===s){e=Zn(n,e,t);break e}ft(n,e,r,t)}e=e.child}return e;case 5:return ty(e),n===null&&xd(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,a=s.children,fd(r,s)?a=null:i!==null&&fd(r,i)&&(e.flags|=32),Ly(n,e),ft(n,e,a,t),e.child;case 6:return n===null&&xd(e),null;case 13:return Iy(n,e,t);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Zs(e,null,r,t):ft(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),am(n,e,r,s,t);case 7:return ft(n,e,e.pendingProps,t),e.child;case 8:return ft(n,e,e.pendingProps.children,t),e.child;case 12:return ft(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Re(il,r._currentValue),r._currentValue=a,i!==null)if(cn(i.value,a)){if(i.children===s.children&&!Et.current){e=Zn(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Yn(-1,t&-t),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),yd(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),yd(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ft(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Gs(e,t),s=Vt(s),r=r(s),e.flags|=1,ft(n,e,r,t),e.child;case 14:return r=e.type,s=nn(r,e.pendingProps),s=nn(r.type,s),om(n,e,r,s,t);case 15:return Ty(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),Lo(n,e),e.tag=1,Tt(r)?(n=!0,nl(e)):n=!1,Gs(e,t),by(e,r,s),wd(e,r,s,t),Ed(null,e,r,!0,n,t);case 19:return ky(n,e,t);case 22:return Ay(n,e,t)}throw Error(Y(156,e.tag))};function Vy(n,e){return yx(n,e)}function BE(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(n,e,t,r){return new BE(n,e,t,r)}function wh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function UE(n){if(typeof n=="function")return wh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===$f)return 11;if(n===Bf)return 14}return 2}function Rr(n,e){var t=n.alternate;return t===null?(t=zt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ko(n,e,t,r,s,i){var a=2;if(r=n,typeof n=="function")wh(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Ls:return es(t.children,s,i,e);case jf:a=8,s|=8;break;case Gu:return n=zt(12,t,e,s|2),n.elementType=Gu,n.lanes=i,n;case Vu:return n=zt(13,t,e,s),n.elementType=Vu,n.lanes=i,n;case Wu:return n=zt(19,t,e,s),n.elementType=Wu,n.lanes=i,n;case tx:return rc(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z0:a=10;break e;case ex:a=9;break e;case $f:a=11;break e;case Bf:a=14;break e;case hr:a=16,r=null;break e}throw Error(Y(130,n==null?n:typeof n,""))}return e=zt(a,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function es(n,e,t,r){return n=zt(7,n,r,e),n.lanes=t,n}function rc(n,e,t,r){return n=zt(22,n,r,e),n.elementType=tx,n.lanes=t,n.stateNode={isHidden:!1},n}function Jc(n,e,t){return n=zt(6,n,null,e),n.lanes=t,n}function Zc(n,e,t){return e=zt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function zE(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bh(n,e,t,r,s,i,a,o,l){return n=new zE(n,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zt(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(i),n}function HE(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Wy(n){if(!n)return Pr;n=n._reactInternals;e:{if(gs(n)!==n||n.tag!==1)throw Error(Y(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(n.tag===1){var t=n.type;if(Tt(t))return Wx(n,t,e)}return e}function Ky(n,e,t,r,s,i,a,o,l){return n=bh(t,r,!0,n,s,i,a,o,l),n.context=Wy(null),t=n.current,r=ht(),s=kr(t),i=Yn(r,s),i.callback=e??null,Cr(t,i,s),n.current.lanes=s,Ea(n,s,r),At(n,r),n}function sc(n,e,t,r){var s=e.current,i=ht(),a=kr(s);return t=Wy(t),e.context===null?e.context=t:e.pendingContext=t,e=Yn(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Cr(s,e,a),n!==null&&(ln(n,s,a,i),Eo(n,s,a)),a}function ml(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function vm(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Sh(n,e){vm(n,e),(n=n.alternate)&&vm(n,e)}var Yy=typeof reportError=="function"?reportError:function(n){console.error(n)};function Eh(n){this._internalRoot=n}ic.prototype.render=Eh.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Y(409));sc(n,e,null,null)};ic.prototype.unmount=Eh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ls(function(){sc(null,n,null,null)}),e[Qn]=null}};function ic(n){this._internalRoot=n}ic.prototype.unstable_scheduleHydration=function(n){if(n){var e=Ax();n={blockedOn:null,target:n,priority:e};for(var t=0;t<gr.length&&e!==0&&e<gr[t].priority;t++);gr.splice(t,0,n),t===0&&Cx(n)}};function Th(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ac(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wm(){}function GE(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ml(a);i.call(c)}}var a=Ky(e,r,n,0,null,!1,!1,"",wm);return n._reactRootContainer=a,n[Qn]=a.current,na(n.nodeType===8?n.parentNode:n),ls(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=ml(l);o.call(c)}}var l=bh(n,0,!1,null,null,!1,!1,"",wm);return n._reactRootContainer=l,n[Qn]=l.current,na(n.nodeType===8?n.parentNode:n),ls(function(){sc(e,l,t,r)}),l}function oc(n,e,t,r,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ml(a);o.call(l)}}sc(e,a,n,s)}else a=GE(t,e,n,s,r);return ml(a)}Ex=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Di(e.pendingLanes);t!==0&&(Hf(e,t|1),At(e,Ue()),!(Se&6)&&(ni=Ue()+500,$r()))}break;case 13:ls(function(){var r=Jn(n,1);if(r!==null){var s=ht();ln(r,n,1,s)}}),Sh(n,1)}};Gf=function(n){if(n.tag===13){var e=Jn(n,134217728);if(e!==null){var t=ht();ln(e,n,134217728,t)}Sh(n,134217728)}};Tx=function(n){if(n.tag===13){var e=kr(n),t=Jn(n,e);if(t!==null){var r=ht();ln(t,n,e,r)}Sh(n,e)}};Ax=function(){return Le};Lx=function(n,e){var t=Le;try{return Le=n,e()}finally{Le=t}};nd=function(n,e,t){switch(e){case"input":if(qu(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=Ql(r);if(!s)throw Error(Y(90));rx(r),qu(r,s)}}}break;case"textarea":ix(n,t);break;case"select":e=t.value,e!=null&&Bs(n,!!t.multiple,e,!1)}};fx=xh;hx=ls;var VE={usingClientEntryPoint:!1,Events:[Aa,Rs,Ql,ux,dx,xh]},Ti={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WE={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gx(n),n===null?null:n.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{Kl=Qa.inject(WE),Ln=Qa}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;Pt.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(e))throw Error(Y(200));return HE(n,e,null,t)};Pt.createRoot=function(n,e){if(!Th(n))throw Error(Y(299));var t=!1,r="",s=Yy;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bh(n,1,!1,null,null,t,!1,r,s),n[Qn]=e.current,na(n.nodeType===8?n.parentNode:n),new Eh(e)};Pt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Y(188)):(n=Object.keys(n).join(","),Error(Y(268,n)));return n=gx(e),n=n===null?null:n.stateNode,n};Pt.flushSync=function(n){return ls(n)};Pt.hydrate=function(n,e,t){if(!ac(e))throw Error(Y(200));return oc(null,n,e,!0,t)};Pt.hydrateRoot=function(n,e,t){if(!Th(n))throw Error(Y(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",a=Yy;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Ky(e,null,n,1,t??null,s,!1,i,a),n[Qn]=e.current,na(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new ic(e)};Pt.render=function(n,e,t){if(!ac(e))throw Error(Y(200));return oc(null,n,e,!1,t)};Pt.unmountComponentAtNode=function(n){if(!ac(n))throw Error(Y(40));return n._reactRootContainer?(ls(function(){oc(null,null,n,!1,function(){n._reactRootContainer=null,n[Qn]=null})}),!0):!1};Pt.unstable_batchedUpdates=xh;Pt.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!ac(t))throw Error(Y(200));if(n==null||n._reactInternals===void 0)throw Error(Y(38));return oc(n,e,t,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qy)}catch(n){console.error(n)}}qy(),q0.exports=Pt;var KE=q0.exports,Xy,bm=KE;Xy=bm.createRoot,bm.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},da.apply(this,arguments)}var wr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(wr||(wr={}));const Sm="popstate";function YE(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return Od("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:gl(s)}return XE(e,t,null,n)}function Ge(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qy(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qE(){return Math.random().toString(36).substr(2,8)}function Em(n,e){return{usr:n.state,key:n.key,idx:e}}function Od(n,e,t,r){return t===void 0&&(t=null),da({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?di(e):e,{state:t,key:e&&e.key||r||qE()})}function gl(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function di(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function XE(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=wr.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(da({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=wr.Pop;let g=u(),v=g==null?null:g-c;c=g,l&&l({action:o,location:m.location,delta:v})}function f(g,v){o=wr.Push;let w=Od(m.location,g,v);c=u()+1;let y=Em(w,c),S=m.createHref(w);try{a.pushState(y,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(S)}i&&l&&l({action:o,location:m.location,delta:1})}function h(g,v){o=wr.Replace;let w=Od(m.location,g,v);c=u();let y=Em(w,c),S=m.createHref(w);a.replaceState(y,"",S),i&&l&&l({action:o,location:m.location,delta:0})}function p(g){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof g=="string"?g:gl(g);return w=w.replace(/ $/,"%20"),Ge(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let m={get action(){return o},get location(){return n(s,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sm,d),l=g,()=>{s.removeEventListener(Sm,d),l=null}},createHref(g){return e(s,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return a.go(g)}};return m}var Tm;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Tm||(Tm={}));function QE(n,e,t){return t===void 0&&(t="/"),JE(n,e,t)}function JE(n,e,t,r){let s=typeof e=="string"?di(e):e,i=Ah(s.pathname||"/",t);if(i==null)return null;let a=Jy(n);ZE(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=d2(i);o=l2(a[l],c)}return o}function Jy(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Nr([r,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(Ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Jy(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:a2(c,i.index),routesMeta:u})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Zy(i.path))s(i,a,l)}),e}function Zy(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Zy(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function ZE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:o2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const e2=/^:[\w-]+$/,t2=3,n2=2,r2=1,s2=10,i2=-2,Am=n=>n==="*";function a2(n,e){let t=n.split("/"),r=t.length;return t.some(Am)&&(r+=i2),e&&(r+=n2),t.filter(s=>!Am(s)).reduce((s,i)=>s+(e2.test(i)?t2:i===""?r2:s2),r)}function o2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function l2(n,e,t){let{routesMeta:r}=n,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=c2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Nr([i,d.pathname]),pathnameBase:m2(Nr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Nr([i,d.pathnameBase]))}return a}function c2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=u2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=o[d]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=o[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:n}}function u2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Qy(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qy(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ah(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f2(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?di(n):n;return{pathname:t?t.startsWith("/")?t:h2(t,e):e,search:g2(r),hash:x2(s)}}function h2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function eu(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ev(n,e){let t=p2(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function tv(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=di(n):(s=da({},n),Ge(!s.pathname||!s.pathname.includes("?"),eu("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),eu("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),eu("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=f2(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Nr=n=>n.join("/").replace(/\/\/+/g,"/"),m2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),g2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,x2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function y2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nv=["post","put","patch","delete"];new Set(nv);const v2=["get",...nv];new Set(v2);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fa.apply(this,arguments)}const Lh=D.createContext(null),w2=D.createContext(null),xs=D.createContext(null),lc=D.createContext(null),Br=D.createContext({outlet:null,matches:[],isDataRoute:!1}),rv=D.createContext(null);function b2(n,e){let{relative:t}=e===void 0?{}:e;Ca()||Ge(!1);let{basename:r,navigator:s}=D.useContext(xs),{hash:i,pathname:a,search:o}=iv(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Nr([r,a])),s.createHref({pathname:l,search:o,hash:i})}function Ca(){return D.useContext(lc)!=null}function _n(){return Ca()||Ge(!1),D.useContext(lc).location}function sv(n){D.useContext(xs).static||D.useLayoutEffect(n)}function gt(){let{isDataRoute:n}=D.useContext(Br);return n?_2():S2()}function S2(){Ca()||Ge(!1);let n=D.useContext(Lh),{basename:e,future:t,navigator:r}=D.useContext(xs),{matches:s}=D.useContext(Br),{pathname:i}=_n(),a=JSON.stringify(ev(s,t.v7_relativeSplatPath)),o=D.useRef(!1);return sv(()=>{o.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=tv(c,JSON.parse(a),i,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Nr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,i,n])}function xl(){let{matches:n}=D.useContext(Br),e=n[n.length-1];return e?e.params:{}}function iv(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(xs),{matches:s}=D.useContext(Br),{pathname:i}=_n(),a=JSON.stringify(ev(s,r.v7_relativeSplatPath));return D.useMemo(()=>tv(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function E2(n,e){return T2(n,e)}function T2(n,e,t,r){Ca()||Ge(!1);let{navigator:s}=D.useContext(xs),{matches:i}=D.useContext(Br),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=_n(),u;if(e){var d;let g=typeof e=="string"?di(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||Ge(!1),u=g}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=QE(n,{pathname:h}),m=k2(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Nr([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Nr([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,t,r);return e&&m?D.createElement(lc.Provider,{value:{location:fa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:wr.Pop}},m):m}function A2(){let n=P2(),e=y2(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,null)}const L2=D.createElement(A2,null);class C2 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(Br.Provider,{value:this.props.routeContext},D.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I2(n){let{routeContext:e,match:t,children:r}=n,s=D.useContext(Lh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Br.Provider,{value:e},r)}function k2(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(s=t)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Ge(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=t,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,p=!1,m=null,g=null;t&&(h=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||L2,l&&(c<0&&f===0?(p=!0,g=null):c===f&&(p=!0,g=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),w=()=>{let y;return h?y=m:p?y=g:d.route.Component?y=D.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,D.createElement(I2,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:y})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?D.createElement(C2,{location:t.location,revalidation:t.revalidation,component:m,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var av=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(av||{}),yl=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(yl||{});function R2(n){let e=D.useContext(Lh);return e||Ge(!1),e}function N2(n){let e=D.useContext(w2);return e||Ge(!1),e}function D2(n){let e=D.useContext(Br);return e||Ge(!1),e}function ov(n){let e=D2(),t=e.matches[e.matches.length-1];return t.route.id||Ge(!1),t.route.id}function P2(){var n;let e=D.useContext(rv),t=N2(yl.UseRouteError),r=ov(yl.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function _2(){let{router:n}=R2(av.UseNavigateStable),e=ov(yl.UseNavigateStable),t=D.useRef(!1);return sv(()=>{t.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,fa({fromRouteId:e},i)))},[n,e])}const Lm={};function O2(n,e){Lm[e]||(Lm[e]=!0,console.warn(e))}const Cm=(n,e,t)=>O2(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function M2(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&Cm("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&Cm("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function jt(n){Ge(!1)}function F2(n){let{basename:e="/",children:t=null,location:r,navigationType:s=wr.Pop,navigator:i,static:a=!1,future:o}=n;Ca()&&Ge(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:i,static:a,future:fa({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=di(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=D.useMemo(()=>{let g=Ah(u,l);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:s}},[l,u,d,f,h,p,s]);return m==null?null:D.createElement(xs.Provider,{value:c},D.createElement(lc.Provider,{children:t,value:m}))}function j2(n){let{children:e,location:t}=n;return E2(Md(e),t)}new Promise(()=>{});function Md(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){t.push.apply(t,Md(r.props.children,i));return}r.type!==jt&&Ge(!1),!r.props.index||!r.props.children||Ge(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Md(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fd.apply(this,arguments)}function $2(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function B2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U2(n,e){return n.button===0&&(!e||e==="_self")&&!B2(n)}function jd(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function z2(n,e){let t=jd(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(i=>{t.append(s,i)})}),t}const H2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G2="6";try{window.__reactRouterVersion=G2}catch{}const V2="startTransition",Im=Mb[V2];function W2(n){let{basename:e,children:t,future:r,window:s}=n,i=D.useRef();i.current==null&&(i.current=YE({window:s,v5Compat:!0}));let a=i.current,[o,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=D.useCallback(d=>{c&&Im?Im(()=>l(d)):l(d)},[l,c]);return D.useLayoutEffect(()=>a.listen(u),[a,u]),D.useEffect(()=>M2(r),[r]),D.createElement(F2,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}const K2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=D.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=$2(e,H2),{basename:h}=D.useContext(xs),p,m=!1;if(typeof c=="string"&&Y2.test(c)&&(p=c,K2))try{let y=new URL(window.location.href),S=c.startsWith("//")?new URL(y.protocol+c):new URL(c),b=Ah(S.pathname,h);S.origin===y.origin&&b!=null?c=b+S.search+S.hash:m=!0}catch{}let g=b2(c,{relative:s}),v=q2(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function w(y){r&&r(y),y.defaultPrevented||v(y)}return D.createElement("a",Fd({},f,{href:p||g,onClick:m||i?r:w,ref:t,target:l}))});var km;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(km||(km={}));var Rm;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Rm||(Rm={}));function q2(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=gt(),c=_n(),u=iv(n,{relative:a});return D.useCallback(d=>{if(U2(d,t)){d.preventDefault();let f=r!==void 0?r:gl(c)===gl(u);l(n,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,r,s,t,n,i,a,o])}function cc(n){let e=D.useRef(jd(n)),t=D.useRef(!1),r=_n(),s=D.useMemo(()=>z2(r.search,t.current?null:e.current),[r.search]),i=gt(),a=D.useCallback((o,l)=>{const c=jd(typeof o=="function"?o(s):o);t.current=!0,i("?"+c,l)},[i,s]);return[s,a]}function lv(n,e){return function(){return n.apply(e,arguments)}}const{toString:X2}=Object.prototype,{getPrototypeOf:Ch}=Object,uc=(n=>e=>{const t=X2.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),dn=n=>(n=n.toLowerCase(),e=>uc(e)===n),dc=n=>e=>typeof e===n,{isArray:fi}=Array,ha=dc("undefined");function Q2(n){return n!==null&&!ha(n)&&n.constructor!==null&&!ha(n.constructor)&&Nt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const cv=dn("ArrayBuffer");function J2(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&cv(n.buffer),e}const Z2=dc("string"),Nt=dc("function"),uv=dc("number"),fc=n=>n!==null&&typeof n=="object",eT=n=>n===!0||n===!1,Ro=n=>{if(uc(n)!=="object")return!1;const e=Ch(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},tT=dn("Date"),nT=dn("File"),rT=dn("Blob"),sT=dn("FileList"),iT=n=>fc(n)&&Nt(n.pipe),aT=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Nt(n.append)&&((e=uc(n))==="formdata"||e==="object"&&Nt(n.toString)&&n.toString()==="[object FormData]"))},oT=dn("URLSearchParams"),[lT,cT,uT,dT]=["ReadableStream","Request","Response","Headers"].map(dn),fT=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ia(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),fi(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,n[o],o,n)}}function dv(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fv=n=>!ha(n)&&n!==Xr;function $d(){const{caseless:n}=fv(this)&&this||{},e={},t=(r,s)=>{const i=n&&dv(e,s)||s;Ro(e[i])&&Ro(r)?e[i]=$d(e[i],r):Ro(r)?e[i]=$d({},r):fi(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ia(arguments[r],t);return e}const hT=(n,e,t,{allOwnKeys:r}={})=>(Ia(e,(s,i)=>{t&&Nt(s)?n[i]=lv(s,t):n[i]=s},{allOwnKeys:r}),n),pT=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),mT=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},gT=(n,e,t,r)=>{let s,i,a;const o={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)a=s[i],(!r||r(a,n,e))&&!o[a]&&(e[a]=n[a],o[a]=!0);n=t!==!1&&Ch(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},xT=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},yT=n=>{if(!n)return null;if(fi(n))return n;let e=n.length;if(!uv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},vT=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ch(Uint8Array)),wT=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},bT=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},ST=dn("HTMLFormElement"),ET=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),Nm=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),TT=dn("RegExp"),hv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ia(t,(s,i)=>{let a;(a=e(s,i,n))!==!1&&(r[i]=a||s)}),Object.defineProperties(n,r)},AT=n=>{hv(n,(e,t)=>{if(Nt(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Nt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},LT=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return fi(n)?r(n):r(String(n).split(e)),t},CT=()=>{},IT=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,tu="abcdefghijklmnopqrstuvwxyz",Dm="0123456789",pv={DIGIT:Dm,ALPHA:tu,ALPHA_DIGIT:tu+tu.toUpperCase()+Dm},kT=(n=16,e=pv.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function RT(n){return!!(n&&Nt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const NT=n=>{const e=new Array(10),t=(r,s)=>{if(fc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=fi(r)?[]:{};return Ia(r,(a,o)=>{const l=t(a,s+1);!ha(l)&&(i[o]=l)}),e[s]=void 0,i}}return r};return t(n,0)},DT=dn("AsyncFunction"),PT=n=>n&&(fc(n)||Nt(n))&&Nt(n.then)&&Nt(n.catch),mv=((n,e)=>n?setImmediate:e?((t,r)=>(Xr.addEventListener("message",({source:s,data:i})=>{s===Xr&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Xr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Nt(Xr.postMessage)),_T=typeof queueMicrotask<"u"?queueMicrotask.bind(Xr):typeof process<"u"&&process.nextTick||mv,z={isArray:fi,isArrayBuffer:cv,isBuffer:Q2,isFormData:aT,isArrayBufferView:J2,isString:Z2,isNumber:uv,isBoolean:eT,isObject:fc,isPlainObject:Ro,isReadableStream:lT,isRequest:cT,isResponse:uT,isHeaders:dT,isUndefined:ha,isDate:tT,isFile:nT,isBlob:rT,isRegExp:TT,isFunction:Nt,isStream:iT,isURLSearchParams:oT,isTypedArray:vT,isFileList:sT,forEach:Ia,merge:$d,extend:hT,trim:fT,stripBOM:pT,inherits:mT,toFlatObject:gT,kindOf:uc,kindOfTest:dn,endsWith:xT,toArray:yT,forEachEntry:wT,matchAll:bT,isHTMLForm:ST,hasOwnProperty:Nm,hasOwnProp:Nm,reduceDescriptors:hv,freezeMethods:AT,toObjectSet:LT,toCamelCase:ET,noop:CT,toFiniteNumber:IT,findKey:dv,global:Xr,isContextDefined:fv,ALPHABET:pv,generateString:kT,isSpecCompliantForm:RT,toJSONObject:NT,isAsyncFn:DT,isThenable:PT,setImmediate:mv,asap:_T};function ue(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}z.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const gv=ue.prototype,xv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{xv[n]={value:n}});Object.defineProperties(ue,xv);Object.defineProperty(gv,"isAxiosError",{value:!0});ue.from=(n,e,t,r,s,i)=>{const a=Object.create(gv);return z.toFlatObject(n,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ue.call(a,n.message,e,t,r,s),a.cause=n,a.name=n.name,i&&Object.assign(a,i),a};const OT=null;function Bd(n){return z.isPlainObject(n)||z.isArray(n)}function yv(n){return z.endsWith(n,"[]")?n.slice(0,-2):n}function Pm(n,e,t){return n?n.concat(e).map(function(s,i){return s=yv(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function MT(n){return z.isArray(n)&&!n.some(Bd)}const FT=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function hc(n,e,t){if(!z.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!z.isUndefined(g[m])});const r=t.metaTokens,s=t.visitor||u,i=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(z.isDate(p))return p.toISOString();if(!l&&z.isBlob(p))throw new ue("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(p)||z.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,g){let v=p;if(p&&!g&&typeof p=="object"){if(z.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(z.isArray(p)&&MT(p)||(z.isFileList(p)||z.endsWith(m,"[]"))&&(v=z.toArray(p)))return m=yv(m),v.forEach(function(y,S){!(z.isUndefined(y)||y===null)&&e.append(a===!0?Pm([m],S,i):a===null?m:m+"[]",c(y))}),!1}return Bd(p)?!0:(e.append(Pm(g,m,i),c(p)),!1)}const d=[],f=Object.assign(FT,{defaultVisitor:u,convertValue:c,isVisitable:Bd});function h(p,m){if(!z.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),z.forEach(p,function(v,w){(!(z.isUndefined(v)||v===null)&&s.call(e,v,z.isString(w)?w.trim():w,m,f))===!0&&h(v,m?m.concat(w):[w])}),d.pop()}}if(!z.isObject(n))throw new TypeError("data must be an object");return h(n),e}function _m(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ih(n,e){this._pairs=[],n&&hc(n,this,e)}const vv=Ih.prototype;vv.append=function(e,t){this._pairs.push([e,t])};vv.toString=function(e){const t=e?function(r){return e.call(this,r,_m)}:_m;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function jT(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wv(n,e,t){if(!e)return n;const r=t&&t.encode||jT;z.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=z.isURLSearchParams(e)?e.toString():new Ih(e,t).toString(r),i){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class Om{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$T=typeof URLSearchParams<"u"?URLSearchParams:Ih,BT=typeof FormData<"u"?FormData:null,UT=typeof Blob<"u"?Blob:null,zT={isBrowser:!0,classes:{URLSearchParams:$T,FormData:BT,Blob:UT},protocols:["http","https","file","blob","url","data"]},kh=typeof window<"u"&&typeof document<"u",Ud=typeof navigator=="object"&&navigator||void 0,HT=kh&&(!Ud||["ReactNative","NativeScript","NS"].indexOf(Ud.product)<0),GT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VT=kh&&window.location.href||"http://localhost",WT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kh,hasStandardBrowserEnv:HT,hasStandardBrowserWebWorkerEnv:GT,navigator:Ud,origin:VT},Symbol.toStringTag,{value:"Module"})),ct={...WT,...zT};function KT(n,e){return hc(n,new ct.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return ct.isNode&&z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function YT(n){return z.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qT(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function Sv(n){function e(t,r,s,i){let a=t[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=t.length;return a=!a&&z.isArray(s)?s.length:a,l?(z.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!z.isObject(s[a]))&&(s[a]=[]),e(t,r,s[a],i)&&z.isArray(s[a])&&(s[a]=qT(s[a])),!o)}if(z.isFormData(n)&&z.isFunction(n.entries)){const t={};return z.forEachEntry(n,(r,s)=>{e(YT(r),s,t,0)}),t}return null}function XT(n,e,t){if(z.isString(n))try{return(e||JSON.parse)(n),z.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const ka={transitional:bv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(Sv(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KT(e,this.formSerializer).toString();if((o=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hc(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),XT(e)):e}],transformResponse:[function(e){const t=this.transitional||ka.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?ue.from(o,ue.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],n=>{ka.headers[n]={}});const QT=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JT=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!t||e[t]&&QT[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Mm=Symbol("internals");function Ai(n){return n&&String(n).trim().toLowerCase()}function No(n){return n===!1||n==null?n:z.isArray(n)?n.map(No):String(n)}function ZT(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const eA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function nu(n,e,t,r,s){if(z.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function tA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function nA(n,e){const t=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}class Lt{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(o,l,c){const u=Ai(l);if(!u)throw new Error("header name must be a non-empty string");const d=z.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=No(o))}const a=(o,l)=>z.forEach(o,(c,u)=>i(c,u,l));if(z.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(z.isString(e)&&(e=e.trim())&&!eA(e))a(JT(e),t);else if(z.isHeaders(e))for(const[o,l]of e.entries())i(l,o,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=Ai(e),e){const r=z.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return ZT(s);if(z.isFunction(t))return t.call(this,s,r);if(z.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ai(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||nu(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(a){if(a=Ai(a),a){const o=z.findKey(r,a);o&&(!t||nu(r,r[o],o,t))&&(delete r[o],s=!0)}}return z.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||nu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return z.forEach(this,(s,i)=>{const a=z.findKey(r,i);if(a){t[a]=No(s),delete t[i];return}const o=e?tA(i):String(i).trim();o!==i&&delete t[i],t[o]=No(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Mm]=this[Mm]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Ai(a);r[o]||(nA(s,a),r[o]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}}Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Lt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});z.freezeMethods(Lt);function ru(n,e){const t=this||ka,r=e||t,s=Lt.from(r.headers);let i=r.data;return z.forEach(n,function(o){i=o.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ev(n){return!!(n&&n.__CANCEL__)}function hi(n,e,t){ue.call(this,n??"canceled",ue.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(hi,ue,{__CANCEL__:!0});function Tv(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ue("Request failed with status code "+t.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function rA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function sA(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];a||(a=c),t[s]=l,r[s]=c;let d=i,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),c-a<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function iA(n,e){let t=0,r=1e3/e,s,i;const a=(c,u=Date.now())=>{t=u,s=null,i&&(clearTimeout(i),i=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-t;d>=r?a(c,u):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},r-d)))},()=>s&&a(s)]}const vl=(n,e,t=3)=>{let r=0;const s=sA(50,250);return iA(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-r,c=s(l),u=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(d)},t)},Fm=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},jm=n=>(...e)=>z.asap(()=>n(...e)),aA=ct.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ct.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,oA=ct.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const a=[n+"="+encodeURIComponent(e)];z.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),z.isString(r)&&a.push("path="+r),z.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function cA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Av(n,e){return n&&!lA(e)?cA(n,e):e}const $m=n=>n instanceof Lt?{...n}:n;function cs(n,e){e=e||{};const t={};function r(c,u,d,f){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:f},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function s(c,u,d,f){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function i(c,u){if(!z.isUndefined(u))return r(void 0,u)}function a(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,d){if(d in e)return r(c,u);if(d in n)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,d)=>s($m(c),$m(u),d,!0)};return z.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);z.isUndefined(f)&&d!==o||(t[u]=f)}),t}const Lv=n=>{const e=cs({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;e.headers=a=Lt.from(a),e.url=wv(Av(e.baseURL,e.url),n.params,n.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(z.isFormData(t)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ct.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&aA(e.url))){const c=s&&i&&oA.read(i);c&&a.set(s,c)}return e},uA=typeof XMLHttpRequest<"u",dA=uA&&function(n){return new Promise(function(t,r){const s=Lv(n);let i=s.data;const a=Lt.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,h,p;function m(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const y=Lt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:y,config:n,request:g};Tv(function(I){t(I),m()},function(I){r(I),m()},b),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new ue("Request aborted",ue.ECONNABORTED,n,g)),g=null)},g.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,n,g)),g=null},g.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||bv;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new ue(S,b.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,n,g)),g=null},i===void 0&&a.setContentType(null),"setRequestHeader"in g&&z.forEach(a.toJSON(),function(S,b){g.setRequestHeader(b,S)}),z.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),o&&o!=="json"&&(g.responseType=s.responseType),c&&([f,p]=vl(c,!0),g.addEventListener("progress",f)),l&&g.upload&&([d,h]=vl(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(u=y=>{g&&(r(!y||y.type?new hi(null,n,g):y),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const w=rA(s.url);if(w&&ct.protocols.indexOf(w)===-1){r(new ue("Unsupported protocol "+w+":",ue.ERR_BAD_REQUEST,n));return}g.send(i||null)})},fA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(c){if(!s){s=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ue?u:new hi(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const o=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),n=null)};n.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>z.asap(o),l}},hA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},pA=async function*(n,e){for await(const t of mA(n))yield*hA(t,e)},mA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Bm=(n,e,t,r)=>{const s=pA(n,e);let i=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){o(),l.close();return}let d=u.byteLength;if(t){let f=i+=d;t(f)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},pc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cv=pc&&typeof ReadableStream=="function",gA=pc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Iv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},xA=Cv&&Iv(()=>{let n=!1;const e=new Request(ct.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Um=64*1024,zd=Cv&&Iv(()=>z.isReadableStream(new Response("").body)),wl={stream:zd&&(n=>n.body)};pc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wl[e]&&(wl[e]=z.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const yA=async n=>{if(n==null)return 0;if(z.isBlob(n))return n.size;if(z.isSpecCompliantForm(n))return(await new Request(ct.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(z.isArrayBufferView(n)||z.isArrayBuffer(n))return n.byteLength;if(z.isURLSearchParams(n)&&(n=n+""),z.isString(n))return(await gA(n)).byteLength},vA=async(n,e)=>{const t=z.toFiniteNumber(n.getContentLength());return t??yA(e)},wA=pc&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Lv(n);c=c?(c+"").toLowerCase():"text";let h=fA([s,i&&i.toAbortSignal()],a),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&xA&&t!=="get"&&t!=="head"&&(g=await vA(u,r))!==0){let b=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(z.isFormData(r)&&(T=b.headers.get("content-type"))&&u.setContentType(T),b.body){const[I,E]=Fm(g,vl(jm(l)));r=Bm(b.body,Um,I,E)}}z.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let w=await fetch(p);const y=zd&&(c==="stream"||c==="response");if(zd&&(o||y&&m)){const b={};["status","statusText","headers"].forEach(A=>{b[A]=w[A]});const T=z.toFiniteNumber(w.headers.get("content-length")),[I,E]=o&&Fm(T,vl(jm(o),!0))||[];w=new Response(Bm(w.body,Um,I,()=>{E&&E(),m&&m()}),b)}c=c||"text";let S=await wl[z.findKey(wl,c)||"text"](w,n);return!y&&m&&m(),await new Promise((b,T)=>{Tv(b,T,{data:S,headers:Lt.from(w.headers),status:w.status,statusText:w.statusText,config:n,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,n,p),{cause:v.cause||v}):ue.from(v,v&&v.code,n,p)}}),Hd={http:OT,xhr:dA,fetch:wA};z.forEach(Hd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const zm=n=>`- ${n}`,bA=n=>z.isFunction(n)||n===null||n===!1,kv={getAdapter:n=>{n=z.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let a;if(r=t,!bA(t)&&(r=Hd[(a=String(t)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(zm).join(`
`):" "+zm(i[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Hd};function su(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hi(null,n)}function Hm(n){return su(n),n.headers=Lt.from(n.headers),n.data=ru.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),kv.getAdapter(n.adapter||ka.adapter)(n).then(function(r){return su(n),r.data=ru.call(n,n.transformResponse,r),r.headers=Lt.from(r.headers),r},function(r){return Ev(r)||(su(n),r&&r.response&&(r.response.data=ru.call(n,n.transformResponse,r.response),r.response.headers=Lt.from(r.response.headers))),Promise.reject(r)})}const Rv="1.7.9",mc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{mc[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Gm={};mc.transitional=function(e,t,r){function s(i,a){return"[Axios v"+Rv+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new ue(s(a," has been removed"+(t?" in "+t:"")),ue.ERR_DEPRECATED);return t&&!Gm[a]&&(Gm[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,o):!0}};mc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function SA(n,e,t){if(typeof n!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=n[i],l=o===void 0||a(o,i,n);if(l!==!0)throw new ue("option "+i+" must be "+l,ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const Do={assertOptions:SA,validators:mc},hn=Do.validators;class ts{constructor(e){this.defaults=e,this.interceptors={request:new Om,response:new Om}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=cs(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&Do.assertOptions(r,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),s!=null&&(z.isFunction(s)?t.paramsSerializer={serialize:s}:Do.assertOptions(s,{encode:hn.function,serialize:hn.function},!0)),Do.assertOptions(t,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&z.merge(i.common,i[t.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=Lt.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[Hm.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),f=p.length,u=Promise.resolve(t);d<f;)u=u.then(p[d++],p[d++]);return u}f=o.length;let h=t;for(d=0;d<f;){const p=o[d++],m=o[d++];try{h=p(h)}catch(g){m.call(this,g);break}}try{u=Hm.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=cs(this.defaults,e);const t=Av(e.baseURL,e.url);return wv(t,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){ts.prototype[e]=function(t,r){return this.request(cs(r||{},{method:e,url:t,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(r){return function(i,a,o){return this.request(cs(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ts.prototype[e]=t(),ts.prototype[e+"Form"]=t(!0)});class Rh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new hi(i,a,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Rh(function(s){e=s}),cancel:e}}}function EA(n){return function(t){return n.apply(null,t)}}function TA(n){return z.isObject(n)&&n.isAxiosError===!0}const Gd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gd).forEach(([n,e])=>{Gd[e]=n});function Nv(n){const e=new ts(n),t=lv(ts.prototype.request,e);return z.extend(t,ts.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Nv(cs(n,s))},t}const ve=Nv(ka);ve.Axios=ts;ve.CanceledError=hi;ve.CancelToken=Rh;ve.isCancel=Ev;ve.VERSION=Rv;ve.toFormData=hc;ve.AxiosError=ue;ve.Cancel=ve.CanceledError;ve.all=function(e){return Promise.all(e)};ve.spread=EA;ve.isAxiosError=TA;ve.mergeConfig=cs;ve.AxiosHeaders=Lt;ve.formToJSON=n=>Sv(z.isHTMLForm(n)?new FormData(n):n);ve.getAdapter=kv.getAdapter;ve.HttpStatusCode=Gd;ve.default=ve;const Vm="homeInfoCache",AA=24*60*60*1e3;async function LA(){const n="https://zenime-api--nu.vercel.app/api",e=Date.now(),t=JSON.parse(localStorage.getItem(Vm));if(t&&e-t.timestamp<AA)return t.data;const r=await ve.get(`${n}`),{spotlights:s,trending:i,topTen:a,today:o,topAiring:l,mostPopular:c,mostFavorite:u,latestCompleted:d,latestEpisode:f,topUpcoming:h,recentlyAdded:p,genres:m}=r.data.results,g={data:{spotlights:s,trending:i,topten:a,todaySchedule:o,top_airing:l,most_popular:c,most_favorite:u,latest_completed:d,latest_episode:f,top_upcoming:h,recently_added:p,genres:m},timestamp:e};return localStorage.setItem(Vm,JSON.stringify(g)),g.data}const Dv=D.createContext(),CA=({children:n})=>{const[e,t]=D.useState(null),[r,s]=D.useState(!0),[i,a]=D.useState(null);return D.useEffect(()=>{(async()=>{try{const l=await LA();t(l)}catch(l){console.error("Error fetching home info:",l),a(l)}finally{s(!1)}})()},[]),x.jsx(Dv.Provider,{value:{homeInfo:e,homeInfoLoading:r,error:i},children:n})},pi=()=>D.useContext(Dv),St="AnimeZia";function Wm(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Nh(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:Wm(e[t])&&Wm(n[t])&&Object.keys(e[t]).length>0&&Nh(n[t],e[t])})}const Pv={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function In(){const n=typeof document<"u"?document:{};return Nh(n,Pv),n}const IA={document:Pv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function xt(){const n=typeof window<"u"?window:{};return Nh(n,IA),n}function kA(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function RA(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Vd(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function bl(){return Date.now()}function NA(n){const e=xt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function DA(n,e){e===void 0&&(e="x");const t=xt();let r,s,i;const a=NA(n);return t.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(o=>o.replace(",",".")).join(", ")),i=new t.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Ja(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function PA(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function It(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!PA(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const o=s[i],l=Object.getOwnPropertyDescriptor(r,o);l!==void 0&&l.enumerable&&(Ja(n[o])&&Ja(r[o])?r[o].__swiper__?n[o]=r[o]:It(n[o],r[o]):!Ja(n[o])&&Ja(r[o])?(n[o]={},r[o].__swiper__?n[o]=r[o]:It(n[o],r[o])):n[o]=r[o])}}}return n}function Za(n,e,t){n.style.setProperty(e,t)}function _v(n){let{swiper:e,targetPosition:t,side:r}=n;const s=xt(),i=-e.translate;let a=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=t>i?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{o=new Date().getTime(),a===null&&(a=o);const f=Math.max(Math.min((o-a)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=i+h*(t-i);if(u(p,t)&&(p=t),e.wrapperEl.scrollTo({[r]:p}),u(p,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:p})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function bn(n,e){e===void 0&&(e="");const t=xt(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function _A(n,e){var r,s;const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...((r=i.shadowRoot)==null?void 0:r.children)||[],...((s=i.assignedElements)==null?void 0:s.call(i))||[])}}function OA(n,e){const t=xt();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=_A(n,e))),r}function Sl(n){try{console.warn(n);return}catch{}}function El(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:kA(e)),t}function MA(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function FA(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function br(n,e){return xt().getComputedStyle(n,null).getPropertyValue(e)}function Tl(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Ov(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Wd(n,e,t){const r=xt();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Xe(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let iu;function jA(){const n=xt(),e=In();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function Mv(){return iu||(iu=jA()),iu}let au;function $A(n){let{userAgent:e}=n===void 0?{}:n;const t=Mv(),r=xt(),s=r.navigator.platform,i=e||r.navigator.userAgent,a={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=s==="Win32";let p=s==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&t.touch&&m.indexOf(`${o}x${l}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(a.os="android",a.android=!0),(u||f||d)&&(a.os="ios",a.ios=!0),a}function Fv(n){return n===void 0&&(n={}),au||(au=$A(n)),au}let ou;function BA(){const n=xt(),e=Fv();let t=!1;function r(){const o=n.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(r()){const o=String(n.navigator.userAgent);if(o.includes("Version/")){const[l,c]=o.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:t||i,needPerspectiveFix:t,need3dFix:a,isWebView:s}}function UA(){return ou||(ou=BA()),ou}function zA(n){let{swiper:e,on:t,emit:r}=n;const s=xt();let i=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(d=>{a=s.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(g=>{let{contentBoxSize:v,contentRect:w,target:y}=g;y&&y!==e.el||(p=w?w.width:(v[0]||v).inlineSize,m=w?w.height:(v[0]||v).blockSize)}),(p!==f||m!==h)&&o()})}),i.observe(e.el))},c=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",o),s.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),s.removeEventListener("resize",o),s.removeEventListener("orientationchange",u)})}function HA(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const i=[],a=xt(),o=function(u,d){d===void 0&&(d={});const f=a.MutationObserver||a.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){s("observerUpdate",p[0]);return}const m=function(){s("observerUpdate",p[0])};a.requestAnimationFrame?a.requestAnimationFrame(m):a.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),i.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Ov(e.hostEl);for(let d=0;d<u.length;d+=1)o(u[d])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var GA={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];e.apply(r,a)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(i,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],t=i.slice(1,i.length),r=n):(e=i[0].events,t=i[0].data,r=i[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function VA(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(br(r,"padding-left")||0,10)-parseInt(br(r,"padding-right")||0,10),t=t-parseInt(br(r,"padding-top")||0,10)-parseInt(br(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function WA(){const n=this;function e(L,k){return parseFloat(L.getPropertyValue(n.getDirectionLabel(k))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:o}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=bn(s,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=t.slidesOffsetBefore;typeof m=="function"&&(m=t.slidesOffsetBefore.call(n));let g=t.slidesOffsetAfter;typeof g=="function"&&(g=t.slidesOffsetAfter.call(n));const v=n.snapGrid.length,w=n.slidesGrid.length;let y=t.spaceBetween,S=-m,b=0,T=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*i:typeof y=="string"&&(y=parseFloat(y)),n.virtualSize=-y,u.forEach(L=>{a?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Za(r,"--swiper-centered-offset-before",""),Za(r,"--swiper-centered-offset-after",""));const I=t.grid&&t.grid.rows>1&&n.grid;I?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();let E;const A=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(L=>typeof t.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<d;L+=1){E=0;let k;if(u[L]&&(k=u[L]),I&&n.grid.updateSlide(L,k,u),!(u[L]&&br(k,"display")==="none")){if(t.slidesPerView==="auto"){A&&(u[L].style[n.getDirectionLabel("width")]="");const R=getComputedStyle(k),N=k.style.transform,P=k.style.webkitTransform;if(N&&(k.style.transform="none"),P&&(k.style.webkitTransform="none"),t.roundLengths)E=n.isHorizontal()?Wd(k,"width"):Wd(k,"height");else{const _=e(R,"width"),$=e(R,"padding-left"),H=e(R,"padding-right"),F=e(R,"margin-left"),O=e(R,"margin-right"),M=R.getPropertyValue("box-sizing");if(M&&M==="border-box")E=_+F+O;else{const{clientWidth:V,offsetWidth:W}=k;E=_+$+H+F+O+(W-V)}}N&&(k.style.transform=N),P&&(k.style.webkitTransform=P),t.roundLengths&&(E=Math.floor(E))}else E=(i-(t.slidesPerView-1)*y)/t.slidesPerView,t.roundLengths&&(E=Math.floor(E)),u[L]&&(u[L].style[n.getDirectionLabel("width")]=`${E}px`);u[L]&&(u[L].swiperSlideSize=E),p.push(E),t.centeredSlides?(S=S+E/2+b/2+y,b===0&&L!==0&&(S=S-i/2-y),L===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),t.roundLengths&&(S=Math.floor(S)),T%t.slidesPerGroup===0&&f.push(S),h.push(S)):(t.roundLengths&&(S=Math.floor(S)),(T-Math.min(n.params.slidesPerGroupSkip,T))%n.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+E+y),n.virtualSize+=E+y,b=E,T+=1}}if(n.virtualSize=Math.max(n.virtualSize,i)+g,a&&o&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+y}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+y}px`),I&&n.grid.updateWrapperSize(E,f),!t.centeredSlides){const L=[];for(let k=0;k<f.length;k+=1){let R=f[k];t.roundLengths&&(R=Math.floor(R)),f[k]<=n.virtualSize-i&&L.push(R)}f=L,Math.floor(n.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-i)}if(l&&t.loop){const L=p[0]+y;if(t.slidesPerGroup>1){const k=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),R=L*t.slidesPerGroup;for(let N=0;N<k;N+=1)f.push(f[f.length-1]+R)}for(let k=0;k<n.virtual.slidesBefore+n.virtual.slidesAfter;k+=1)t.slidesPerGroup===1&&f.push(f[f.length-1]+L),h.push(h[h.length-1]+L),n.virtualSize+=L}if(f.length===0&&(f=[0]),y!==0){const L=n.isHorizontal()&&a?"marginLeft":n.getDirectionLabel("marginRight");u.filter((k,R)=>!t.cssMode||t.loop?!0:R!==u.length-1).forEach(k=>{k.style[L]=`${y}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let L=0;p.forEach(R=>{L+=R+(y||0)}),L-=y;const k=L>i?L-i:0;f=f.map(R=>R<=0?-m:R>k?k+g:R)}if(t.centerInsufficientSlides){let L=0;p.forEach(R=>{L+=R+(y||0)}),L-=y;const k=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(L+k<i){const R=(i-L-k)/2;f.forEach((N,P)=>{f[P]=N-R}),h.forEach((N,P)=>{h[P]=N+R})}}if(Object.assign(n,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Za(r,"--swiper-centered-offset-before",`${-f[0]}px`),Za(r,"--swiper-centered-offset-after",`${n.size/2-p[p.length-1]/2}px`);const L=-n.snapGrid[0],k=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(R=>R+L),n.slidesGrid=n.slidesGrid.map(R=>R+k)}if(d!==c&&n.emit("slidesLengthChange"),f.length!==v&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),h.length!==w&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const L=`${t.containerModifierClass}backface-hidden`,k=n.el.classList.contains(L);d<=t.maxBackfaceHiddenSlides?k||n.el.classList.add(L):k&&n.el.classList.remove(L)}}function KA(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const a=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const o=e.activeIndex+i;if(o>e.slides.length&&!r)break;t.push(a(o))}else t.push(a(e.activeIndex));for(i=0;i<t.length;i+=1)if(typeof t[i]<"u"){const o=t[i].offsetHeight;s=o>s?o:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function YA(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const Km=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function qA(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;s&&(a=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(a+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),f=(a-i[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),h=-(a-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],g=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;g&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),Km(c,g,t.slideVisibleClass),Km(c,m,t.slideFullyVisibleClass),c.progress=s?-d:d,c.originalProgress=s?-f:f}}function XA(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:o}=e;const l=i,c=a;if(r===0)s=0,i=!0,a=!0;else{s=(n-e.minTranslate())/r;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;i=u||s<=0,a=d||s>=1,u&&(s=0),d&&(s=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=f?o=(m-f)/p:o=(m+p-h)/p,o>1&&(o-=1)}Object.assign(e,{progress:s,progressLoop:o,isBeginning:i,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),i&&!l&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(l&&!i||c&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const lu=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function QA(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,i=n.virtual&&t.virtual.enabled,a=n.grid&&t.grid&&t.grid.rows>1,o=d=>bn(r,`.${t.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(i)if(t.loop){let d=s-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=o(`[data-swiper-slide-index="${d}"]`)}else l=o(`[data-swiper-slide-index="${s}"]`);else a?(l=e.find(d=>d.column===s),u=e.find(d=>d.column===s+1),c=e.find(d=>d.column===s-1)):l=e[s];l&&(a||(u=FA(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),c=MA(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{lu(d,d===l,t.slideActiveClass),lu(d,d===u,t.slideNextClass),lu(d,d===c,t.slidePrevClass)}),n.emitSlidesClasses()}const Po=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},cu=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Kd=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const a=s,o=[a-e];o.push(...Array.from({length:e}).map((l,c)=>a+r+c)),n.slides.forEach((l,c)=>{o.includes(l.column)&&cu(n,c)});return}const i=s+r-1;if(n.params.rewind||n.params.loop)for(let a=s-e;a<=i+e;a+=1){const o=(a%t+t)%t;(o<s||o>i)&&cu(n,o)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,t-1);a+=1)a!==s&&(a>i||a<s)&&cu(n,a)};function JA(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function ZA(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:o}=e;let l=n,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=JA(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{const h=Math.min(s.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/s.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===i&&!e.params.loop){c!==o&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/s.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:o,snapIndex:c,previousRealIndex:a,realIndex:f,previousIndex:i,activeIndex:l}),e.initialized&&Kd(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function eL(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(o=>{!s&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(s=o)});let i=!1,a;if(s){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===s){i=!0,a=o;break}}if(s&&i)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var tL={updateSize:VA,updateSlides:WA,updateAutoHeight:KA,updateSlidesOffset:YA,updateSlidesProgress:qA,updateProgress:XA,updateSlidesClasses:QA,updateActiveIndex:ZA,updateClickedSlide:eL};function nL(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let a=DA(i,n);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function rL(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=t;let o=0,l=0;const c=0;t.isHorizontal()?o=r?-n:n:l=n,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,s.cssMode?i[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:s.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),i.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function sL(){return-this.snapGrid[0]}function iL(){return-this.snapGrid[this.snapGrid.length-1]}function aL(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const i=this,{params:a,wrapperEl:o}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&n>l?u=l:r&&n<c?u=c:u=n,i.updateProgress(u),a.cssMode){const d=i.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return _v({swiper:i,targetPosition:-u,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),t&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),t&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,t&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var oL={getTranslate:nL,setTranslate:rL,minTranslate:sL,maxTranslate:iL,translateTo:aL};function lL(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function jv(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:i,previousIndex:a}=e;let o=r;if(o||(i>a?o="next":i<a?o="prev":o="reset"),e.emit(`transition${s}`),t&&i!==a){if(o==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),o==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function cL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),jv({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function uL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),jv({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var dL={setTransition:lL,transitionStart:cL,transitionEnd:uL};function fL(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;let a=n;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=i;if(!p&&!r&&!s||i.destroyed||i.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const m=Math.min(i.params.slidesPerGroupSkip,a);let g=m+Math.floor((a-m)/i.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(o.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const T=-Math.floor(v*100),I=Math.floor(c[b]*100),E=Math.floor(c[b+1]*100);typeof c[b+1]<"u"?T>=I&&T<E-(E-I)/2?a=b:T>=I&&T<E&&(a=b+1):T>=I&&(a=b)}if(i.initialized&&a!==d&&(!i.allowSlideNext&&(f?v>i.translate&&v>i.minTranslate():v<i.translate&&v<i.minTranslate())||!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(d||0)!==a))return!1;a!==(u||0)&&t&&i.emit("beforeSlideChangeStart"),i.updateProgress(v);let w;a>d?w="next":a<d?w="prev":w="reset";const y=i.virtual&&i.params.virtual.enabled;if(!(y&&s)&&(f&&-v===i.translate||!f&&v===i.translate))return i.updateActiveIndex(a),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),o.effect!=="slide"&&i.setTranslate(v),w!=="reset"&&(i.transitionStart(t,w),i.transitionEnd(t,w)),!1;if(o.cssMode){const b=i.isHorizontal(),T=f?v:-v;if(e===0)y&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),y&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[b?"scrollLeft":"scrollTop"]=T})):h[b?"scrollLeft":"scrollTop"]=T,y&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return _v({swiper:i,targetPosition:T,side:b?"left":"top"}),!0;h.scrollTo({[b?"left":"top"]:T,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(v),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(t,w),e===0?i.transitionEnd(t,w):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(T){!i||i.destroyed||T.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(t,w))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function hL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let o;if(i){const f=a*s.params.grid.rows;o=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=s.getSlideIndexByData(a);const l=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-o<u;if(c&&(d=d||o<Math.ceil(u/2)),r&&c&&s.params.slidesPerView!=="auto"&&!i&&(d=!1),d){const f=c?o<s.activeIndex?"prev":"next":o-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?o+1:o-l+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=a*s.params.grid.rows;a=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,t,r)}),s}function pL(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let o=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:o,c=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function mL(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:o,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const u=r.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=o?r.translate:-r.translate;function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const h=f(d),p=i.map(v=>f(v));let m=i[p.indexOf(h)-1];if(typeof m>"u"&&s.cssMode){let v;i.forEach((w,y)=>{h>=w&&(v=y)}),typeof v<"u"&&(m=i[v>0?v-1:v])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(g,n,e,t)}),!0;return r.slideTo(g,n,e,t)}function gL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function xL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),o=a+Math.floor((i-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){const c=s.snapGrid[o],u=s.snapGrid[o+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[o-1],u=s.snapGrid[o];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,n,e,t)}function yL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,i;const a=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;i=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(bn(t,`${a}[data-swiper-slide-index="${i}"]`)[0]),Vd(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(bn(t,`${a}[data-swiper-slide-index="${i}"]`)[0]),Vd(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var vL={slideTo:fL,slideToLoop:hL,slideNext:pL,slidePrev:mL,slideReset:gL,slideToClosest:xL,slideToClickedSlide:yL};function wL(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{bn(r,`.${t.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(i?t.grid.rows:1),o=e.slides.length%a!==0,l=i&&e.slides.length%t.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?El("swiper-slide",[t.slideBlankClass]):El("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(f)}};if(o){if(t.loopAddBlankSlides){const u=a-e.slides.length%a;c(u),e.recalcSlides(),e.updateSlides()}else Sl("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(t.loopAddBlankSlides){const u=t.grid.rows-e.slides.length%t.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Sl("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function bL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:o}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const g=h.slidesPerGroupAuto?m:h.slidesPerGroup;let v=g;v%g!==0&&(v+=g-v%g),v+=h.loopAdditionalSlides,l.loopedSlides=v;const w=l.grid&&h.grid&&h.grid.rows>1;c.length<m+v?Sl("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&h.grid.fill==="row"&&Sl("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],S=[];let b=l.activeIndex;typeof i>"u"?i=l.getSlideIndex(c.find(N=>N.classList.contains(h.slideActiveClass))):b=i;const T=r==="next"||!r,I=r==="prev"||!r;let E=0,A=0;const L=w?Math.ceil(c.length/h.grid.rows):c.length,R=(w?c[i].column:i)+(p&&typeof s>"u"?-m/2+.5:0);if(R<v){E=Math.max(v-R,g);for(let N=0;N<v-R;N+=1){const P=N-Math.floor(N/L)*L;if(w){const _=L-P-1;for(let $=c.length-1;$>=0;$-=1)c[$].column===_&&y.push($)}else y.push(L-P-1)}}else if(R+m>L-v){A=Math.max(R-(L-v*2),g);for(let N=0;N<A;N+=1){const P=N-Math.floor(N/L)*L;w?c.forEach((_,$)=>{_.column===P&&S.push($)}):S.push(P)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),I&&y.forEach(N=>{c[N].swiperLoopMoveDOM=!0,f.prepend(c[N]),c[N].swiperLoopMoveDOM=!1}),T&&S.forEach(N=>{c[N].swiperLoopMoveDOM=!0,f.append(c[N]),c[N].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():w&&(y.length>0&&I||S.length>0&&T)&&l.slides.forEach((N,P)=>{l.grid.updateSlide(P,N,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),t){if(y.length>0&&I){if(typeof e>"u"){const N=l.slidesGrid[b],_=l.slidesGrid[b+E]-N;o?l.setTranslate(l.translate-_):(l.slideTo(b+Math.ceil(E),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-_,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-_))}else if(s){const N=w?y.length/h.grid.rows:y.length;l.slideTo(l.activeIndex+N,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&T)if(typeof e>"u"){const N=l.slidesGrid[b],_=l.slidesGrid[b-A]-N;o?l.setTranslate(l.translate-_):(l.slideTo(b-A,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-_,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-_))}else{const N=w?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-N,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!a){const N={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(P=>{!P.destroyed&&P.params.loop&&P.loopFix({...N,slideTo:P.params.slidesPerView===h.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...N,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?t:!1})}l.emit("loopFix")}function SL(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var EL={loopCreate:wL,loopFix:bL,loopDestroy:SL};function TL(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function AL(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var LL={setGrabCursor:TL,unsetGrabCursor:AL};function CL(n,e){e===void 0&&(e=this);function t(r){if(!r||r===In()||r===xt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function Ym(n,e,t){const r=xt(),{params:s}=n,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(t<=a||t>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function IL(n){const e=this,t=In();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Ym(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:o}=e;if(!o||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=r.target;if(i.touchEventsTarget==="wrapper"&&!OA(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const d=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?CL(d,l):l.closest(d))){e.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const h=a.currentX,p=a.currentY;if(!Ym(e,r,h))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=h,a.startY=p,s.touchStartTime=bl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&t.activeElement.blur();const g=m&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||g)&&!l.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function kL(n){const e=In(),t=this,r=t.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:o}=t;if(!o||!s.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(b=>b.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=d;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=bl());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(d<i.startY&&t.translate<=t.maxTranslate()||d>i.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&t.translate<=t.maxTranslate()||u>i.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=d;const f=i.currentX-i.startX,h=i.currentY-i.startY;if(t.params.threshold&&Math.sqrt(f**2+h**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let b;t.isHorizontal()&&i.currentY===i.startY||t.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+h*h>=25&&(b=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,r.isScrolling=t.isHorizontal()?b>s.touchAngle:90-b>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let p=t.isHorizontal()?f:h,m=t.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),m=Math.abs(m)*(a?1:-1)),i.diff=p,p*=s.touchRatio,a&&(p=-p,m=-m);const g=t.touchesDirection;t.swipeDirection=p>0?"prev":"next",t.touchesDirection=m>0?"prev":"next";const v=t.params.loop&&!s.cssMode,w=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(v&&w&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const b=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(b)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&g!==t.touchesDirection&&v&&w&&Math.abs(p)>=1){Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let y=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),p>0?(v&&w&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(y=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+p)**S))):p<0&&(v&&w&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(y=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-p)**S))),y&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(p)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=t.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function RL(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(b=>b.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:o,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!a.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=bl(),f=d-t.touchStartTime;if(e.allowClick){const b=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(b&&b[0]||r.target,b),e.emit("tap click",r),f<300&&d-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=bl(),Vd(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||o.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let h;if(a.followFinger?h=l?e.translate:-e.translate:h=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,g=e.slidesSizesGrid[0];for(let b=0;b<c.length;b+=b<a.slidesPerGroupSkip?1:a.slidesPerGroup){const T=b<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof c[b+T]<"u"?(p||h>=c[b]&&h<c[b+T])&&(m=b,g=c[b+T]-c[b]):(p||h>=c[b])&&(m=b,g=c[c.length-1]-c[c.length-2])}let v=null,w=null;a.rewind&&(e.isBeginning?w=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const y=(h-c[m])/g,S=m<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?v:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(y>1-a.longSwipesRatio?e.slideTo(m+S):w!==null&&y<0&&Math.abs(y)>a.longSwipesRatio?e.slideTo(w):e.slideTo(m))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:m+S),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:m))}}function qm(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!o?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&i!==n.snapGrid&&n.checkOverflow()}function NL(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function DL(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const i=n.maxTranslate()-n.minTranslate();i===0?s=0:s=(n.translate-n.minTranslate())/i,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function PL(n){const e=this;Po(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function _L(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const $v=(n,e)=>{const t=In(),{params:r,el:s,wrapperEl:i,device:a}=n,o=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:o}),s[l]("touchstart",n.onTouchStart,{passive:!1}),s[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:o}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:o}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",n.onClick,!0),r.cssMode&&i[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",qm,!0):n[c]("observerUpdate",qm,!0),s[l]("load",n.onLoad,{capture:!0}))};function OL(){const n=this,{params:e}=n;n.onTouchStart=IL.bind(n),n.onTouchMove=kL.bind(n),n.onTouchEnd=RL.bind(n),n.onDocumentTouchStart=_L.bind(n),e.cssMode&&(n.onScroll=DL.bind(n)),n.onClick=NL.bind(n),n.onLoad=PL.bind(n),$v(n,"on")}function ML(){$v(this,"off")}var FL={attachEvents:OL,detachEvents:ML};const Xm=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function jL(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=In(),o=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:a.querySelector(r.breakpointsBase),c=n.getBreakpoint(i,o,l);if(!c||n.currentBreakpoint===c)return;const d=(c in i?i[c]:void 0)||n.originalParams,f=Xm(n,r),h=Xm(n,d),p=n.params.grabCursor,m=d.grabCursor,g=r.enabled;f&&!h?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!f&&h&&(s.classList.add(`${r.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),p&&!m?n.unsetGrabCursor():!p&&m&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(T=>{if(typeof d[T]>"u")return;const I=r[T]&&r[T].enabled,E=d[T]&&d[T].enabled;I&&!E&&n[T].disable(),!I&&E&&n[T].enable()});const v=d.direction&&d.direction!==r.direction,w=r.loop&&(d.slidesPerView!==r.slidesPerView||v),y=r.loop;v&&t&&n.changeDirection(),It(n.params,d);const S=n.params.enabled,b=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),g&&!S?n.disable():!g&&S&&n.enable(),n.currentBreakpoint=c,n.emit("_beforeBreakpoint",d),t&&(w?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!y&&b?(n.loopCreate(e),n.updateSlides()):y&&!b&&n.loopDestroy()),n.emit("breakpoint",d)}function $L(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=xt(),i=e==="window"?s.innerHeight:t.clientHeight,a=Object.keys(n).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:i*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:c}=a[o];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var BL={setBreakpoint:jL,getBreakpoint:$L};function UL(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function zL(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:i}=n,a=UL(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),s.classList.add(...e),n.emitContainerClasses()}function HL(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var GL={addClasses:zL,removeClasses:HL};function VL(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,i=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>i}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var WL={checkOverflow:VL},Yd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function KL(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){It(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in i)){It(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),It(e,r)}}const uu={eventsEmitter:GA,update:tL,translate:oL,transition:dL,slide:vL,loop:EL,grabCursor:LL,events:FL,breakpoints:BL,checkOverflow:WL,classes:GL},du={};let Dh=class Un{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=It({},t),e&&!t.el&&(t.el=e);const a=In();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const u=[];return a.querySelectorAll(t.el).forEach(d=>{const f=It({},t,{el:d});u.push(new Un(f))}),u}const o=this;o.__swiper__=!0,o.support=Mv(),o.device=Fv({userAgent:t.userAgent}),o.browser=UA(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach(u=>{u({params:t,swiper:o,extendParams:KL(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=It({},Yd,l);return o.params=It({},c,du,t),o.originalParams=It({},o.params),o.passedParams=It({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=bn(t,`.${r.slideClass}, swiper-slide`),i=Tl(s[0]);return Tl(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=bn(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:c}=r;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=i[c]?Math.ceil(i[c].swiperSlideSize):0,f;for(let h=c+1;h<i.length;h+=1)i[h]&&!f&&(d+=Math.ceil(i[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)i[h]&&!f&&(d+=i[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<i.length;d+=1)(t?a[d]+o[d]-a[c]<l:a[d]-a[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)a[c]-a[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Po(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):bn(r,s())[0];return!a&&t.params.createElements&&(a=El("div",t.params.wrapperClass),r.append(a),bn(r,`.${t.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(t,{el:r,wrapperEl:a,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||br(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||br(r,"direction")==="rtl"),wrongRTL:br(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Po(t,i):i.addEventListener("load",a=>{Po(t,a.target)})}),Kd(t),t.initialized=!0,Kd(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:i,wrapperEl:a,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),RA(r)),r.destroyed=!0),null}static extendDefaults(e){It(du,e)}static get extendedDefaults(){return du}static get defaults(){return Yd}static installModule(e){Un.prototype.__modules__||(Un.prototype.__modules__=[]);const t=Un.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Un.installModule(t)),Un):(Un.installModule(e),Un)}};Object.keys(uu).forEach(n=>{Object.keys(uu[n]).forEach(e=>{Dh.prototype[e]=uu[n][e]})});Dh.use([zA,HA]);const Bv=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function us(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Ws(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:us(e[r])&&us(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Ws(n[r],e[r]):n[r]=e[r]})}function Uv(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function zv(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function Hv(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function Gv(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function YL(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function qL(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:o,paginationEl:l}=n;const c=s.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let g,v,w,y,S,b,T,I;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(g=!0),s.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(v=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(y=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const E=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),u[A].prevEl=void 0,u[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),u[A].el=void 0,e[A].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!r.loop?b=!0:!u.loop&&r.loop?T=!0:I=!0),c.forEach(A=>{if(us(u[A])&&us(r[A]))Object.assign(u[A],r[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in r[A]&&!r[A].enabled&&E(A);else{const L=r[A];(L===!0||L===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?L===!1&&E(A):u[A]=r[A]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&t&&p&&u.virtual.enabled?(p.slides=t,p.update(!0)):s.includes("virtual")&&p&&u.virtual.enabled&&(t&&(p.slides=t),p.update(!0)),s.includes("children")&&t&&u.loop&&(I=!0),g&&m.init()&&m.update(!0),v&&(e.controller.control=u.controller.control),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),y&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),i&&(u.navigation.nextEl=i),a&&(u.navigation.prevEl=a),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(b||I)&&e.loopDestroy(),(T||I)&&e.loopCreate(),e.update()}function XL(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Ws(t,Yd),t._emitClasses=!0,t.init=!1;const i={},a=Bv.map(l=>l.replace(/_/,"")),o=Object.assign({},n);return Object.keys(o).forEach(l=>{typeof n[l]>"u"||(a.indexOf(l)>=0?us(n[l])?(t[l]={},s[l]={},Ws(t[l],n[l]),Ws(s[l],n[l])):(t[l]=n[l],s[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:i[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:s,rest:i,events:r}}function QL(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:a,swiper:o}=n;Uv(e)&&r&&s&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=s,o.originalParams.navigation.prevEl=s),zv(e)&&i&&(o.params.pagination.el=i,o.originalParams.pagination.el=i),Hv(e)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(t)}function JL(n,e,t,r,s){const i=[];if(!e)return i;const a=l=>{i.indexOf(l)<0&&i.push(l)};if(t&&r){const l=r.map(s),c=t.map(s);l.join("")!==c.join("")&&a("children"),r.length!==t.length&&a("children")}return Bv.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(us(n[l])&&us(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?a(l):(c.forEach(d=>{n[l][d]!==e[l][d]&&a(l)}),u.forEach(d=>{n[l][d]!==e[l][d]&&a(l)}))}else n[l]!==e[l]&&a(l)}),i}const ZL=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Al(){return Al=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Al.apply(this,arguments)}function Vv(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function Wv(n){const e=[];return be.Children.toArray(n).forEach(t=>{Vv(t)?e.push(t):t.props&&t.props.children&&Wv(t.props.children).forEach(r=>e.push(r))}),e}function eC(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return be.Children.toArray(n).forEach(r=>{if(Vv(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=Wv(r.props.children);s.length>0?s.forEach(i=>e.push(i)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function tC(n,e,t){if(!t)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:i,to:a}=t,o=n.params.loop?-e.length:0,l=n.params.loop?e.length*2:e.length,c=[];for(let u=o;u<l;u+=1)u>=i&&u<=a&&c.push(e[r(u)]);return c.map((u,d)=>be.cloneElement(u,{swiper:n,style:s,key:u.props.virtualIndex||u.key||`slide-${d}`}))}function Gi(n,e){return typeof window>"u"?D.useEffect(n,e):D.useLayoutEffect(n,e)}const Qm=D.createContext(null),nC=D.createContext(null),gc=D.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:i,onSwiper:a,...o}=n===void 0?{}:n,l=!1;const[c,u]=D.useState("swiper"),[d,f]=D.useState(null),[h,p]=D.useState(!1),m=D.useRef(!1),g=D.useRef(null),v=D.useRef(null),w=D.useRef(null),y=D.useRef(null),S=D.useRef(null),b=D.useRef(null),T=D.useRef(null),I=D.useRef(null),{params:E,passedParams:A,rest:L,events:k}=XL(o),{slides:R,slots:N}=eC(i),P=()=>{p(!h)};Object.assign(E.on,{_containerClasses(O,M){u(M)}});const _=()=>{Object.assign(E.on,k),l=!0;const O={...E};if(delete O.wrapperClass,v.current=new Dh(O),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=R;const M={cache:!1,slides:R,renderExternal:f,renderExternalUpdate:!1};Ws(v.current.params.virtual,M),Ws(v.current.originalParams.virtual,M)}};g.current||_(),v.current&&v.current.on("_beforeBreakpoint",P);const $=()=>{l||!k||!v.current||Object.keys(k).forEach(O=>{v.current.on(O,k[O])})},H=()=>{!k||!v.current||Object.keys(k).forEach(O=>{v.current.off(O,k[O])})};D.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",P)}),D.useEffect(()=>{!m.current&&v.current&&(v.current.emitSlidesClasses(),m.current=!0)}),Gi(()=>{if(e&&(e.current=g.current),!!g.current)return v.current.destroyed&&_(),QL({el:g.current,nextEl:S.current,prevEl:b.current,paginationEl:T.current,scrollbarEl:I.current,swiper:v.current},E),a&&!v.current.destroyed&&a(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Gi(()=>{$();const O=JL(A,w.current,R,y.current,M=>M.key);return w.current=A,y.current=R,O.length&&v.current&&!v.current.destroyed&&qL({swiper:v.current,slides:R,passedParams:A,changedParams:O,nextEl:S.current,prevEl:b.current,scrollbarEl:I.current,paginationEl:T.current}),()=>{H()}}),Gi(()=>{ZL(v.current)},[d]);function F(){return E.virtual?tC(v.current,R,d):R.map((O,M)=>be.cloneElement(O,{swiper:v.current,swiperSlideIndex:M}))}return be.createElement(r,Al({ref:g,className:Gv(`${c}${t?` ${t}`:""}`)},L),be.createElement(nC.Provider,{value:v.current},N["container-start"],be.createElement(s,{className:YL(E.wrapperClass)},N["wrapper-start"],F(),N["wrapper-end"]),Uv(E)&&be.createElement(be.Fragment,null,be.createElement("div",{ref:b,className:"swiper-button-prev"}),be.createElement("div",{ref:S,className:"swiper-button-next"})),Hv(E)&&be.createElement("div",{ref:I,className:"swiper-scrollbar"}),zv(E)&&be.createElement("div",{ref:T,className:"swiper-pagination"}),N["container-end"]))});gc.displayName="Swiper";const xc=D.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:i,zoom:a,lazy:o,virtualIndex:l,swiperSlideIndex:c,...u}=n===void 0?{}:n;const d=D.useRef(null),[f,h]=D.useState("swiper-slide"),[p,m]=D.useState(!1);function g(S,b,T){b===d.current&&h(T)}Gi(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!i)){if(i.destroyed){f!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",g),()=>{i&&i.off("_slideClass",g)}}}),Gi(()=>{i&&d.current&&!i.destroyed&&h(i.getSlideClasses(d.current))},[i]);const v={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>typeof r=="function"?r(v):r,y=()=>{m(!0)};return be.createElement(t,Al({ref:d,className:Gv(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":l,onLoad:y},u),a&&be.createElement(Qm.Provider,{value:v},be.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},w(),o&&!p&&be.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&be.createElement(Qm.Provider,{value:v},w(),o&&!p&&be.createElement("div",{className:"swiper-lazy-preloader"})))});xc.displayName="SwiperSlide";function Kv(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let i=bn(n.el,`.${r[s]}`)[0];i||(i=El("div",r[s]),i.className=r[s],n.el.append(i)),t[s]=i,e[s]=i}}),t}function Ph(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function a(p,m){const g=e.params.navigation;p=Xe(p),p.forEach(v=>{v&&(v.classList[m?"add":"remove"](...g.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=m),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](g.lockClass))})}function o(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){a(m,!1),a(p,!1);return}a(m,e.isBeginning&&!e.params.rewind),a(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=Kv(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=i(p.nextEl),g=i(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:g}),m=Xe(m),g=Xe(g);const v=(w,y)=>{w&&w.addEventListener("click",y==="next"?c:l),!e.enabled&&w&&w.classList.add(...p.lockClass.split(" "))};m.forEach(w=>v(w,"next")),g.forEach(w=>v(w,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=Xe(p),m=Xe(m);const g=(v,w)=>{v.removeEventListener("click",w==="next"?c:l),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(v=>g(v,"next")),m.forEach(v=>g(v,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?h():(u(),o())}),r("toEdge fromEdge lock unlock",()=>{o()}),r("destroy",()=>{d()}),r("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=Xe(p),m=Xe(m),e.enabled){o();return}[...p,...m].filter(g=>!!g).forEach(g=>g.classList.add(e.params.navigation.lockClass))}),r("click",(p,m)=>{let{nextEl:g,prevEl:v}=e.navigation;g=Xe(g),v=Xe(v);const w=m.target;let y=v.includes(w)||g.includes(w);if(e.isElement&&!y){const S=m.path||m.composedPath&&m.composedPath();S&&(y=S.find(b=>g.includes(b)||v.includes(b)))}if(e.params.navigation.hideOnClick&&!y){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===w||e.pagination.el.contains(w)))return;let S;g.length?S=g[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(S=v[0].classList.contains(e.params.navigation.hiddenClass)),s(S===!0?"navigationShow":"navigationHide"),[...g,...v].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),o()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:o,init:u,destroy:d})}function Li(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function _h(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const i="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,o=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(w,y){const{bulletActiveClass:S}=e.params.pagination;w&&(w=w[`${y==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${S}-${y}`),w=w[`${y==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${S}-${y}-${y}`)))}function u(w,y,S){if(w=w%S,y=y%S,y===w+1)return"next";if(y===w-1)return"previous"}function d(w){const y=w.target.closest(Li(e.params.pagination.bulletClass));if(!y)return;w.preventDefault();const S=Tl(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const b=u(e.realIndex,S,e.slides.length);b==="next"?e.slideNext():b==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const w=e.rtl,y=e.params.pagination;if(l())return;let S=e.pagination.el;S=Xe(S);let b,T;const I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,E=e.params.loop?Math.ceil(I/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(T=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,T=e.previousSnapIndex):(T=e.previousIndex||0,b=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let L,k,R;if(y.dynamicBullets&&(a=Wd(A[0],e.isHorizontal()?"width":"height"),S.forEach(N=>{N.style[e.isHorizontal()?"width":"height"]=`${a*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&T!==void 0&&(o+=b-(T||0),o>y.dynamicMainBullets-1?o=y.dynamicMainBullets-1:o<0&&(o=0)),L=Math.max(b-o,0),k=L+(Math.min(A.length,y.dynamicMainBullets)-1),R=(k+L)/2),A.forEach(N=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(_=>`${y.bulletActiveClass}${_}`)].map(_=>typeof _=="string"&&_.includes(" ")?_.split(" "):_).flat();N.classList.remove(...P)}),S.length>1)A.forEach(N=>{const P=Tl(N);P===b?N.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&N.setAttribute("part","bullet"),y.dynamicBullets&&(P>=L&&P<=k&&N.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),P===L&&c(N,"prev"),P===k&&c(N,"next"))});else{const N=A[b];if(N&&N.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&A.forEach((P,_)=>{P.setAttribute("part",_===b?"bullet-active":"bullet")}),y.dynamicBullets){const P=A[L],_=A[k];for(let $=L;$<=k;$+=1)A[$]&&A[$].classList.add(...`${y.bulletActiveClass}-main`.split(" "));c(P,"prev"),c(_,"next")}}if(y.dynamicBullets){const N=Math.min(A.length,y.dynamicMainBullets+4),P=(a*N-a)/2-R*a,_=w?"right":"left";A.forEach($=>{$.style[e.isHorizontal()?_:"top"]=`${P}px`})}}S.forEach((A,L)=>{if(y.type==="fraction"&&(A.querySelectorAll(Li(y.currentClass)).forEach(k=>{k.textContent=y.formatFractionCurrent(b+1)}),A.querySelectorAll(Li(y.totalClass)).forEach(k=>{k.textContent=y.formatFractionTotal(E)})),y.type==="progressbar"){let k;y.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const R=(b+1)/E;let N=1,P=1;k==="horizontal"?N=R:P=R,A.querySelectorAll(Li(y.progressbarFillClass)).forEach(_=>{_.style.transform=`translate3d(0,0,0) scaleX(${N}) scaleY(${P})`,_.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(A.innerHTML=y.renderCustom(e,b+1,E),L===0&&s("paginationRender",A)):(L===0&&s("paginationRender",A),s("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](y.lockClass)})}function h(){const w=e.params.pagination;if(l())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=Xe(S);let b="";if(w.type==="bullets"){let T=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&T>y&&(T=y);for(let I=0;I<T;I+=1)w.renderBullet?b+=w.renderBullet.call(e,I,w.bulletClass):b+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?b=w.renderFraction.call(e,w.currentClass,w.totalClass):b=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?b=w.renderProgressbar.call(e,w.progressbarFillClass):b=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(T=>{w.type!=="custom"&&(T.innerHTML=b||""),w.type==="bullets"&&e.pagination.bullets.push(...T.querySelectorAll(Li(w.bulletClass)))}),w.type!=="custom"&&s("paginationRender",S[0])}function p(){e.params.pagination=Kv(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let y;typeof w.el=="string"&&e.isElement&&(y=e.el.querySelector(w.el)),!y&&typeof w.el=="string"&&(y=[...document.querySelectorAll(w.el)]),y||(y=w.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(w.el)],y.length>1&&(y=y.find(S=>Ov(S,".swiper")[0]===e.el))),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=Xe(y),y.forEach(S=>{w.type==="bullets"&&w.clickable&&S.classList.add(...(w.clickableClass||"").split(" ")),S.classList.add(w.modifierClass+w.type),S.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(S.classList.add(`${w.modifierClass}${w.type}-dynamic`),o=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&S.classList.add(w.progressbarOppositeClass),w.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(w.lockClass)}))}function m(){const w=e.params.pagination;if(l())return;let y=e.pagination.el;y&&(y=Xe(y),y.forEach(S=>{S.classList.remove(w.hiddenClass),S.classList.remove(w.modifierClass+w.type),S.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(S.classList.remove(...(w.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...w.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:y}=e.pagination;y=Xe(y),y.forEach(S=>{S.classList.remove(w.horizontalClass,w.verticalClass),S.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?v():(p(),h(),f())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),r("snapIndexChange",()=>{f()}),r("snapGridLengthChange",()=>{h(),f()}),r("destroy",()=>{m()}),r("enable disable",()=>{let{el:w}=e.pagination;w&&(w=Xe(w),w.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{f()}),r("click",(w,y)=>{const S=y.target,b=Xe(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const T=b[0].classList.contains(e.params.pagination.hiddenClass);s(T===!0?"paginationShow":"paginationHide"),b.forEach(I=>I.classList.toggle(e.params.pagination.hiddenClass))}});const g=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=Xe(w),w.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=Xe(w),w.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:g,disable:v,render:h,update:f,init:p,destroy:m})}function rC(n){let{swiper:e,extendParams:t,on:r,emit:s,params:i}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,o,l=i&&i.autoplay?i.autoplay.delay:3e3,c=i&&i.autoplay?i.autoplay.delay:3e3,u,d=new Date().getTime(),f,h,p,m,g,v,w;function y(F){!e||e.destroyed||!e.wrapperEl||F.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),!(w||F.detail&&F.detail.bySwiperTouchMove)&&L())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const F=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=F,s("autoplayTimeLeft",F,F/l),o=requestAnimationFrame(()=>{S()})},b=()=>{let F;return e.virtual&&e.params.virtual.enabled?F=e.slides.find(M=>M.classList.contains("swiper-slide-active")):F=e.slides[e.activeIndex],F?parseInt(F.getAttribute("data-swiper-autoplay"),10):void 0},T=F=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),S();let O=typeof F>"u"?e.params.autoplay.delay:F;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const M=b();!Number.isNaN(M)&&M>0&&typeof F>"u"&&(O=M,l=M,c=M),u=O;const V=e.params.speed,W=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(V,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,V,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(V,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,V,!0,!0),s("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{T()})))};return O>0?(clearTimeout(a),a=setTimeout(()=>{W()},O)):requestAnimationFrame(()=>{W()}),O},I=()=>{d=new Date().getTime(),e.autoplay.running=!0,T(),s("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(o),s("autoplayStop")},A=(F,O)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),F||(v=!0);const M=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):L()};if(e.autoplay.paused=!0,O){g&&(u=e.params.autoplay.delay),g=!1,M();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),M())},L=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),v?(v=!1,T(u)):T(),e.autoplay.paused=!1,s("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const F=In();F.visibilityState==="hidden"&&(v=!0,A(!0)),F.visibilityState==="visible"&&L()},R=F=>{F.pointerType==="mouse"&&(v=!0,w=!0,!(e.animating||e.autoplay.paused)&&A(!0))},N=F=>{F.pointerType==="mouse"&&(w=!1,e.autoplay.paused&&L())},P=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",R),e.el.addEventListener("pointerleave",N))},_=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",R),e.el.removeEventListener("pointerleave",N))},$=()=>{In().addEventListener("visibilitychange",k)},H=()=>{In().removeEventListener("visibilitychange",k)};r("init",()=>{e.params.autoplay.enabled&&(P(),$(),I())}),r("destroy",()=>{_(),H(),e.autoplay.running&&E()}),r("_freeModeStaticRelease",()=>{(p||v)&&L()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():A(!0,!0)}),r("beforeTransitionStart",(F,O,M)=>{e.destroyed||!e.autoplay.running||(M||!e.params.autoplay.disableOnInteraction?A(!0,!0):E())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}h=!0,p=!1,v=!1,m=setTimeout(()=>{v=!0,p=!0,A(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(m),clearTimeout(a),e.params.autoplay.disableOnInteraction){p=!1,h=!1;return}p&&e.params.cssMode&&L(),p=!1,h=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(g=!0)}),Object.assign(e.autoplay,{start:I,stop:E,pause:A,resume:L})}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function sC(n,e,t){return(e=aC(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function K(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jm(Object(t),!0).forEach(function(r){sC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iC(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aC(n){var e=iC(n,"string");return typeof e=="symbol"?e:e+""}const Zm=()=>{};let Oh={},Yv={},qv=null,Xv={mark:Zm,measure:Zm};try{typeof window<"u"&&(Oh=window),typeof document<"u"&&(Yv=document),typeof MutationObserver<"u"&&(qv=MutationObserver),typeof performance<"u"&&(Xv=performance)}catch{}const{userAgent:eg=""}=Oh.navigator||{},_r=Oh,_e=Yv,tg=qv,eo=Xv;_r.document;const sr=!!_e.documentElement&&!!_e.head&&typeof _e.addEventListener=="function"&&typeof _e.createElement=="function",Qv=~eg.indexOf("MSIE")||~eg.indexOf("Trident/");var oC=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,lC=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Jv={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},cC={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Zv=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],dt="classic",yc="duotone",uC="sharp",dC="sharp-duotone",e1=[dt,yc,uC,dC],fC={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},hC={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pC=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),mC={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},gC=["fak","fa-kit","fakd","fa-kit-duotone"],ng={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},xC=["kit"],yC={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},vC=["fak","fakd"],wC={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},rg={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},to={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},bC=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],SC=["fak","fa-kit","fakd","fa-kit-duotone"],EC={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},TC={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},AC={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},qd={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},LC=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Xd=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...bC,...LC],CC=["solid","regular","light","thin","duotone","brands"],t1=[1,2,3,4,5,6,7,8,9,10],IC=t1.concat([11,12,13,14,15,16,17,18,19,20]),kC=[...Object.keys(AC),...CC,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",to.GROUP,to.SWAP_OPACITY,to.PRIMARY,to.SECONDARY].concat(t1.map(n=>"".concat(n,"x"))).concat(IC.map(n=>"w-".concat(n))),RC={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const er="___FONT_AWESOME___",Qd=16,n1="fa",r1="svg-inline--fa",ds="data-fa-i2svg",Jd="data-fa-pseudo-element",NC="data-fa-pseudo-element-pending",Mh="data-prefix",Fh="data-icon",sg="fontawesome-i2svg",DC="async",PC=["HTML","HEAD","STYLE","SCRIPT"],s1=(()=>{try{return!0}catch{return!1}})();function Ra(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[dt]}})}const i1=K({},Jv);i1[dt]=K(K(K(K({},{"fa-duotone":"duotone"}),Jv[dt]),ng.kit),ng["kit-duotone"]);const _C=Ra(i1),Zd=K({},mC);Zd[dt]=K(K(K(K({},{duotone:"fad"}),Zd[dt]),rg.kit),rg["kit-duotone"]);const ig=Ra(Zd),ef=K({},qd);ef[dt]=K(K({},ef[dt]),wC.kit);const jh=Ra(ef),tf=K({},TC);tf[dt]=K(K({},tf[dt]),yC.kit);Ra(tf);const OC=oC,a1="fa-layers-text",MC=lC,FC=K({},fC);Ra(FC);const jC=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],fu=cC,$C=[...xC,...kC],Vi=_r.FontAwesomeConfig||{};function BC(n){var e=_e.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function UC(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}_e&&typeof _e.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const s=UC(BC(t));s!=null&&(Vi[r]=s)});const o1={styleDefault:"solid",familyDefault:dt,cssPrefix:n1,replacementClass:r1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Vi.familyPrefix&&(Vi.cssPrefix=Vi.familyPrefix);const ri=K(K({},o1),Vi);ri.autoReplaceSvg||(ri.observeMutations=!1);const Z={};Object.keys(o1).forEach(n=>{Object.defineProperty(Z,n,{enumerable:!0,set:function(e){ri[n]=e,Wi.forEach(t=>t(Z))},get:function(){return ri[n]}})});Object.defineProperty(Z,"familyPrefix",{enumerable:!0,set:function(n){ri.cssPrefix=n,Wi.forEach(e=>e(Z))},get:function(){return ri.cssPrefix}});_r.FontAwesomeConfig=Z;const Wi=[];function zC(n){return Wi.push(n),()=>{Wi.splice(Wi.indexOf(n),1)}}const lr=Qd,Sn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function HC(n){if(!n||!sr)return;const e=_e.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=_e.head.childNodes;let r=null;for(let s=t.length-1;s>-1;s--){const i=t[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return _e.head.insertBefore(e,r),n}const GC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pa(){let n=12,e="";for(;n-- >0;)e+=GC[Math.random()*62|0];return e}function mi(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function $h(n){return n.classList?mi(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function l1(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function VC(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(l1(n[t]),'" '),"").trim()}function vc(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function Bh(n){return n.size!==Sn.size||n.x!==Sn.x||n.y!==Sn.y||n.rotate!==Sn.rotate||n.flipX||n.flipY}function WC(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const s={transform:"translate(".concat(t/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(a," ").concat(o)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:c}}function KC(n){let{transform:e,width:t=Qd,height:r=Qd,startCentered:s=!1}=n,i="";return s&&Qv?i+="translate(".concat(e.x/lr-t/2,"em, ").concat(e.y/lr-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/lr,"em), calc(-50% + ").concat(e.y/lr,"em)) "):i+="translate(".concat(e.x/lr,"em, ").concat(e.y/lr,"em) "),i+="scale(".concat(e.size/lr*(e.flipX?-1:1),", ").concat(e.size/lr*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var YC=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function c1(){const n=n1,e=r1,t=Z.cssPrefix,r=Z.replacementClass;let s=YC;if(t!==n||r!==e){const i=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(o,".".concat(r))}return s}let ag=!1;function hu(){Z.autoAddCss&&!ag&&(HC(c1()),ag=!0)}var qC={mixout(){return{dom:{css:c1,insertCss:hu}}},hooks(){return{beforeDOMElementCreation(){hu()},beforeI2svg(){hu()}}}};const tr=_r||{};tr[er]||(tr[er]={});tr[er].styles||(tr[er].styles={});tr[er].hooks||(tr[er].hooks={});tr[er].shims||(tr[er].shims=[]);var En=tr[er];const u1=[],d1=function(){_e.removeEventListener("DOMContentLoaded",d1),Ll=1,u1.map(n=>n())};let Ll=!1;sr&&(Ll=(_e.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(_e.readyState),Ll||_e.addEventListener("DOMContentLoaded",d1));function XC(n){sr&&(Ll?setTimeout(n,0):u1.push(n))}function Na(n){const{tag:e,attributes:t={},children:r=[]}=n;return typeof n=="string"?l1(n):"<".concat(e," ").concat(VC(t),">").concat(r.map(Na).join(""),"</").concat(e,">")}function og(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var pu=function(e,t,r,s){var i=Object.keys(e),a=i.length,o=t,l,c,u;for(r===void 0?(l=1,u=e[i[0]]):(l=0,u=r);l<a;l++)c=i[l],u=o(u,e[c],c,e);return u};function QC(n){const e=[];let t=0;const r=n.length;for(;t<r;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<r){const i=n.charCodeAt(t++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function nf(n){const e=QC(n);return e.length===1?e[0].toString(16):null}function JC(n,e){const t=n.length;let r=n.charCodeAt(e),s;return r>=55296&&r<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function lg(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function rf(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,s=lg(e);typeof En.hooks.addPack=="function"&&!r?En.hooks.addPack(n,lg(e)):En.styles[n]=K(K({},En.styles[n]||{}),s),n==="fas"&&rf("fa",e)}const{styles:ma,shims:ZC}=En,f1=Object.keys(jh),eI=f1.reduce((n,e)=>(n[e]=Object.keys(jh[e]),n),{});let Uh=null,h1={},p1={},m1={},g1={},x1={};function tI(n){return~$C.indexOf(n)}function nI(n,e){const t=e.split("-"),r=t[0],s=t.slice(1).join("-");return r===n&&s!==""&&!tI(s)?s:null}const y1=()=>{const n=r=>pu(ma,(s,i,a)=>(s[a]=pu(i,r,{}),s),{});h1=n((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=i}),r)),p1=n((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=i}),r)),x1=n((r,s,i)=>{const a=s[2];return r[i]=i,a.forEach(o=>{r[o]=i}),r});const e="far"in ma||Z.autoFetchSvg,t=pu(ZC,(r,s)=>{const i=s[0];let a=s[1];const o=s[2];return a==="far"&&!e&&(a="fas"),typeof i=="string"&&(r.names[i]={prefix:a,iconName:o}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});m1=t.names,g1=t.unicodes,Uh=wc(Z.styleDefault,{family:Z.familyDefault})};zC(n=>{Uh=wc(n.styleDefault,{family:Z.familyDefault})});y1();function zh(n,e){return(h1[n]||{})[e]}function rI(n,e){return(p1[n]||{})[e]}function Qr(n,e){return(x1[n]||{})[e]}function v1(n){return m1[n]||{prefix:null,iconName:null}}function sI(n){const e=g1[n],t=zh("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Or(){return Uh}const w1=()=>({prefix:null,iconName:null,rest:[]});function iI(n){let e=dt;const t=f1.reduce((r,s)=>(r[s]="".concat(Z.cssPrefix,"-").concat(s),r),{});return e1.forEach(r=>{(n.includes(t[r])||n.some(s=>eI[r].includes(s)))&&(e=r)}),e}function wc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=dt}=e,r=_C[t][n];if(t===yc&&!n)return"fad";const s=ig[t][n]||ig[t][r],i=n in En.styles?n:null;return s||i||null}function aI(n){let e=[],t=null;return n.forEach(r=>{const s=nI(Z.cssPrefix,r);s?t=s:r&&e.push(r)}),{iconName:t,rest:e}}function cg(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function bc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const s=Xd.concat(SC),i=cg(n.filter(d=>s.includes(d))),a=cg(n.filter(d=>!Xd.includes(d))),o=i.filter(d=>(r=d,!Zv.includes(d))),[l=null]=o,c=iI(i),u=K(K({},aI(a)),{},{prefix:wc(l,{family:c})});return K(K(K({},u),uI({values:n,family:c,styles:ma,config:Z,canonical:u,givenPrefix:r})),oI(t,r,u))}function oI(n,e,t){let{prefix:r,iconName:s}=t;if(n||!r||!s)return{prefix:r,iconName:s};const i=e==="fa"?v1(s):{},a=Qr(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!ma.far&&ma.fas&&!Z.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const lI=e1.filter(n=>n!==dt||n!==yc),cI=Object.keys(qd).filter(n=>n!==dt).map(n=>Object.keys(qd[n])).flat();function uI(n){const{values:e,family:t,canonical:r,givenPrefix:s="",styles:i={},config:a={}}=n,o=t===yc,l=e.includes("fa-duotone")||e.includes("fad"),c=a.familyDefault==="duotone",u=r.prefix==="fad"||r.prefix==="fa-duotone";if(!o&&(l||c||u)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&lI.includes(t)&&(Object.keys(i).find(f=>cI.includes(f))||a.autoFetchSvg)){const f=pC.get(t).defaultShortPrefixId;r.prefix=f,r.iconName=Qr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Or()||"fas"),r}class dI{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=K(K({},this.definitions[i]||{}),s[i]),rf(i,s[i]);const a=jh[dt][i];a&&rf(a,s[i]),y1()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(s=>{const{prefix:i,iconName:a,icon:o}=r[s],l=o[2];e[i]||(e[i]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[i][c]=o)}),e[i][a]=o}),e}}let ug=[],Fs={};const Ks={},fI=Object.keys(Ks);function hI(n,e){let{mixoutsTo:t}=e;return ug=n,Fs={},Object.keys(Ks).forEach(r=>{fI.indexOf(r)===-1&&delete Ks[r]}),ug.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(t[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(a=>{t[i]||(t[i]={}),t[i][a]=s[i][a]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(a=>{Fs[a]||(Fs[a]=[]),Fs[a].push(i[a])})}r.provides&&r.provides(Ks)}),t}function sf(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];return(Fs[n]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function fs(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(Fs[n]||[]).forEach(i=>{i.apply(null,t)})}function Mr(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ks[n]?Ks[n].apply(null,e):void 0}function af(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||Or();if(e)return e=Qr(t,e)||e,og(b1.definitions,t,e)||og(En.styles,t,e)}const b1=new dI,pI=()=>{Z.autoReplaceSvg=!1,Z.observeMutations=!1,fs("noAuto")},mI={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return sr?(fs("beforeI2svg",n),Mr("pseudoElements2svg",n),Mr("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Z.autoReplaceSvg===!1&&(Z.autoReplaceSvg=!0),Z.observeMutations=!0,XC(()=>{xI({autoReplaceSvgRoot:e}),fs("watch",n)})}},gI={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Qr(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=wc(n[0]);return{prefix:t,iconName:Qr(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Z.cssPrefix,"-"))>-1||n.match(OC))){const e=bc(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||Or(),iconName:Qr(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=Or();return{prefix:e,iconName:Qr(e,n)||n}}}},Ot={noAuto:pI,config:Z,dom:mI,parse:gI,library:b1,findIconDefinition:af,toHtml:Na},xI=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=_e}=n;(Object.keys(En.styles).length>0||Z.autoFetchSvg)&&sr&&Z.autoReplaceSvg&&Ot.dom.i2svg({node:e})};function Sc(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Na(t))}}),Object.defineProperty(n,"node",{get:function(){if(!sr)return;const t=_e.createElement("div");return t.innerHTML=n.html,t.children}}),n}function yI(n){let{children:e,main:t,mask:r,attributes:s,styles:i,transform:a}=n;if(Bh(a)&&t.found&&!r.found){const{width:o,height:l}=t,c={x:o/l/2,y:.5};s.style=vc(K(K({},i),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function vI(n){let{prefix:e,iconName:t,children:r,attributes:s,symbol:i}=n;const a=i===!0?"".concat(e,"-").concat(Z.cssPrefix,"-").concat(t):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:K(K({},s),{},{id:a}),children:r}]}]}function Hh(n){const{icons:{main:e,mask:t},prefix:r,iconName:s,transform:i,symbol:a,title:o,maskId:l,titleId:c,extra:u,watchable:d=!1}=n,{width:f,height:h}=t.found?t:e,p=vC.includes(r),m=[Z.replacementClass,s?"".concat(Z.cssPrefix,"-").concat(s):""].filter(b=>u.classes.indexOf(b)===-1).filter(b=>b!==""||!!b).concat(u.classes).join(" ");let g={children:[],attributes:K(K({},u.attributes),{},{"data-prefix":r,"data-icon":s,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(h)})};const v=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/h*16*.0625,"em")}:{};d&&(g.attributes[ds]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||pa())},children:[o]}),delete g.attributes.title);const w=K(K({},g),{},{prefix:r,iconName:s,main:e,mask:t,maskId:l,transform:i,symbol:a,styles:K(K({},v),u.styles)}),{children:y,attributes:S}=t.found&&e.found?Mr("generateAbstractMask",w)||{children:[],attributes:{}}:Mr("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=y,w.attributes=S,a?vI(w):yI(w)}function dg(n){const{content:e,width:t,height:r,transform:s,title:i,extra:a,watchable:o=!1}=n,l=K(K(K({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});o&&(l[ds]="");const c=K({},a.styles);Bh(s)&&(c.transform=KC({transform:s,startCentered:!0,width:t,height:r}),c["-webkit-transform"]=c.transform);const u=vc(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),i&&d.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),d}function wI(n){const{content:e,title:t,extra:r}=n,s=K(K(K({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),i=vc(r.styles);i.length>0&&(s.style=i);const a=[];return a.push({tag:"span",attributes:s,children:[e]}),t&&a.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),a}const{styles:mu}=En;function of(n){const e=n[0],t=n[1],[r]=n.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Z.cssPrefix,"-").concat(fu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Z.cssPrefix,"-").concat(fu.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Z.cssPrefix,"-").concat(fu.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:s}}const bI={found:!1,width:512,height:512};function SI(n,e){!s1&&!Z.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function lf(n,e){let t=e;return e==="fa"&&Z.styleDefault!==null&&(e=Or()),new Promise((r,s)=>{if(t==="fa"){const i=v1(n);n=i.iconName||n,e=i.prefix||e}if(n&&e&&mu[e]&&mu[e][n]){const i=mu[e][n];return r(of(i))}SI(n,e),r(K(K({},bI),{},{icon:Z.showMissingIcons&&n?Mr("missingIconAbstract")||{}:{}}))})}const fg=()=>{},cf=Z.measurePerformance&&eo&&eo.mark&&eo.measure?eo:{mark:fg,measure:fg},_i='FA "6.7.2"',EI=n=>(cf.mark("".concat(_i," ").concat(n," begins")),()=>S1(n)),S1=n=>{cf.mark("".concat(_i," ").concat(n," ends")),cf.measure("".concat(_i," ").concat(n),"".concat(_i," ").concat(n," begins"),"".concat(_i," ").concat(n," ends"))};var Gh={begin:EI,end:S1};const _o=()=>{};function hg(n){return typeof(n.getAttribute?n.getAttribute(ds):null)=="string"}function TI(n){const e=n.getAttribute?n.getAttribute(Mh):null,t=n.getAttribute?n.getAttribute(Fh):null;return e&&t}function AI(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Z.replacementClass)}function LI(){return Z.autoReplaceSvg===!0?Oo.replace:Oo[Z.autoReplaceSvg]||Oo.replace}function CI(n){return _e.createElementNS("http://www.w3.org/2000/svg",n)}function II(n){return _e.createElement(n)}function E1(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?CI:II}=e;if(typeof n=="string")return _e.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(i){r.setAttribute(i,n.attributes[i])}),(n.children||[]).forEach(function(i){r.appendChild(E1(i,{ceFn:t}))}),r}function kI(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Oo={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(E1(t),e)}),e.getAttribute(ds)===null&&Z.keepOriginalSource){let t=_e.createComment(kI(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~$h(e).indexOf(Z.replacementClass))return Oo.replace(n);const r=new RegExp("".concat(Z.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const i=t[0].attributes.class.split(" ").reduce((a,o)=>(o===Z.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});t[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=t.map(i=>Na(i)).join(`
`);e.setAttribute(ds,""),e.innerHTML=s}};function pg(n){n()}function T1(n,e){const t=typeof e=="function"?e:_o;if(n.length===0)t();else{let r=pg;Z.mutateApproach===DC&&(r=_r.requestAnimationFrame||pg),r(()=>{const s=LI(),i=Gh.begin("mutate");n.map(s),i(),t()})}}let Vh=!1;function A1(){Vh=!0}function uf(){Vh=!1}let Cl=null;function mg(n){if(!tg||!Z.observeMutations)return;const{treeCallback:e=_o,nodeCallback:t=_o,pseudoElementsCallback:r=_o,observeMutationsRoot:s=_e}=n;Cl=new tg(i=>{if(Vh)return;const a=Or();mi(i).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!hg(o.addedNodes[0])&&(Z.searchPseudoElements&&r(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&Z.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&hg(o.target)&&~jC.indexOf(o.attributeName))if(o.attributeName==="class"&&TI(o.target)){const{prefix:l,iconName:c}=bc($h(o.target));o.target.setAttribute(Mh,l||a),c&&o.target.setAttribute(Fh,c)}else AI(o.target)&&t(o.target)})}),sr&&Cl.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function RI(){Cl&&Cl.disconnect()}function NI(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,s)=>{const i=s.split(":"),a=i[0],o=i.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),t}function DI(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let s=bc($h(n));return s.prefix||(s.prefix=Or()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=rI(s.prefix,n.innerText)||zh(s.prefix,nf(n.innerText))),!s.iconName&&Z.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function PI(n){const e=mi(n.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Z.autoA11y&&(t?e["aria-labelledby"]="".concat(Z.replacementClass,"-title-").concat(r||pa()):(e["aria-hidden"]="true",e.focusable="false")),e}function _I(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Sn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function gg(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:s}=DI(n),i=PI(n),a=sf("parseNodeAttributes",{},n);let o=e.styleParser?NI(n):[];return K({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Sn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:i}},a)}const{styles:OI}=En;function L1(n){const e=Z.autoReplaceSvg==="nest"?gg(n,{styleParser:!1}):gg(n);return~e.extra.classes.indexOf(a1)?Mr("generateLayersText",n,e):Mr("generateSvgReplacementMutation",n,e)}function MI(){return[...gC,...Xd]}function xg(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!sr)return Promise.resolve();const t=_e.documentElement.classList,r=u=>t.add("".concat(sg,"-").concat(u)),s=u=>t.remove("".concat(sg,"-").concat(u)),i=Z.autoFetchSvg?MI():Zv.concat(Object.keys(OI));i.includes("fa")||i.push("fa");const a=[".".concat(a1,":not([").concat(ds,"])")].concat(i.map(u=>".".concat(u,":not([").concat(ds,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=mi(n.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),s("complete");else return Promise.resolve();const l=Gh.begin("onTree"),c=o.reduce((u,d)=>{try{const f=L1(d);f&&u.push(f)}catch(f){s1||f.name==="MissingIcon"&&console.error(f)}return u},[]);return new Promise((u,d)=>{Promise.all(c).then(f=>{T1(f,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),u()})}).catch(f=>{l(),d(f)})})}function FI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;L1(n).then(t=>{t&&T1([t],e)})}function jI(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:af(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:af(s||{})),n(r,K(K({},t),{},{mask:s}))}}const $I=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Sn,symbol:r=!1,mask:s=null,maskId:i=null,title:a=null,titleId:o=null,classes:l=[],attributes:c={},styles:u={}}=e;if(!n)return;const{prefix:d,iconName:f,icon:h}=n;return Sc(K({type:"icon"},n),()=>(fs("beforeDOMElementCreation",{iconDefinition:n,params:e}),Z.autoA11y&&(a?c["aria-labelledby"]="".concat(Z.replacementClass,"-title-").concat(o||pa()):(c["aria-hidden"]="true",c.focusable="false")),Hh({icons:{main:of(h),mask:s?of(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:K(K({},Sn),t),symbol:r,title:a,maskId:i,titleId:o,extra:{attributes:c,styles:u,classes:l}})))};var BI={mixout(){return{icon:jI($I)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=xg,n.nodeCallback=FI,n}}},provides(n){n.i2svg=function(e){const{node:t=_e,callback:r=()=>{}}=e;return xg(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:s,titleId:i,prefix:a,transform:o,symbol:l,mask:c,maskId:u,extra:d}=t;return new Promise((f,h)=>{Promise.all([lf(r,a),c.iconName?lf(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(p=>{let[m,g]=p;f([e,Hh({icons:{main:m,mask:g},prefix:a,iconName:r,transform:o,symbol:l,maskId:u,title:s,titleId:i,extra:d,watchable:!0})])}).catch(h)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:s,transform:i,styles:a}=e;const o=vc(a);o.length>0&&(r.style=o);let l;return Bh(i)&&(l=Mr("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),t.push(l||s.icon),{children:t,attributes:r}}}},UI={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return Sc({type:"layer"},()=>{fs("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Z.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},zI={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:s={},styles:i={}}=e;return Sc({type:"counter",content:n},()=>(fs("beforeDOMElementCreation",{content:n,params:e}),wI({content:n.toString(),title:t,extra:{attributes:s,styles:i,classes:["".concat(Z.cssPrefix,"-layers-counter"),...r]}})))}}}},HI={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Sn,title:r=null,classes:s=[],attributes:i={},styles:a={}}=e;return Sc({type:"text",content:n},()=>(fs("beforeDOMElementCreation",{content:n,params:e}),dg({content:n,transform:K(K({},Sn),t),title:r,extra:{attributes:i,styles:a,classes:["".concat(Z.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:r,transform:s,extra:i}=t;let a=null,o=null;if(Qv){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/l,o=c.height/l}return Z.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,dg({content:e.innerHTML,width:a,height:o,transform:s,title:r,extra:i,watchable:!0})])}}};const GI=new RegExp('"',"ug"),yg=[1105920,1112319],vg=K(K(K(K({},{FontAwesome:{normal:"fas",400:"fas"}}),hC),RC),EC),df=Object.keys(vg).reduce((n,e)=>(n[e.toLowerCase()]=vg[e],n),{}),VI=Object.keys(df).reduce((n,e)=>{const t=df[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function WI(n){const e=n.replace(GI,""),t=JC(e,0),r=t>=yg[0]&&t<=yg[1],s=e.length===2?e[0]===e[1]:!1;return{value:nf(s?e[0]:e),isSecondary:r||s}}function KI(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(df[t]||{})[s]||VI[t]}function wg(n,e){const t="".concat(NC).concat(e.replace(":","-"));return new Promise((r,s)=>{if(n.getAttribute(t)!==null)return r();const a=mi(n.children).filter(f=>f.getAttribute(Jd)===e)[0],o=_r.getComputedStyle(n,e),l=o.getPropertyValue("font-family"),c=l.match(MC),u=o.getPropertyValue("font-weight"),d=o.getPropertyValue("content");if(a&&!c)return n.removeChild(a),r();if(c&&d!=="none"&&d!==""){const f=o.getPropertyValue("content");let h=KI(l,u);const{value:p,isSecondary:m}=WI(f),g=c[0].startsWith("FontAwesome");let v=zh(h,p),w=v;if(g){const y=sI(p);y.iconName&&y.prefix&&(v=y.iconName,h=y.prefix)}if(v&&!m&&(!a||a.getAttribute(Mh)!==h||a.getAttribute(Fh)!==w)){n.setAttribute(t,w),a&&n.removeChild(a);const y=_I(),{extra:S}=y;S.attributes[Jd]=e,lf(v,h).then(b=>{const T=Hh(K(K({},y),{},{icons:{main:b,mask:w1()},prefix:h,iconName:w,extra:S,watchable:!0})),I=_e.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(I,n.firstChild):n.appendChild(I),I.outerHTML=T.map(E=>Na(E)).join(`
`),n.removeAttribute(t),r()}).catch(s)}else r()}else r()})}function YI(n){return Promise.all([wg(n,"::before"),wg(n,"::after")])}function qI(n){return n.parentNode!==document.head&&!~PC.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Jd)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function bg(n){if(sr)return new Promise((e,t)=>{const r=mi(n.querySelectorAll("*")).filter(qI).map(YI),s=Gh.begin("searchPseudoElements");A1(),Promise.all(r).then(()=>{s(),uf(),e()}).catch(()=>{s(),uf(),t()})})}var XI={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=bg,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=_e}=e;Z.searchPseudoElements&&bg(t)}}};let Sg=!1;var QI={mixout(){return{dom:{unwatch(){A1(),Sg=!0}}}},hooks(){return{bootstrap(){mg(sf("mutationObserverCallbacks",{}))},noAuto(){RI()},watch(n){const{observeMutationsRoot:e}=n;Sg?uf():mg(sf("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Eg=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let a=s.slice(1).join("-");if(i&&a==="h")return t.flipX=!0,t;if(i&&a==="v")return t.flipY=!0,t;if(a=parseFloat(a),isNaN(a))return t;switch(i){case"grow":t.size=t.size+a;break;case"shrink":t.size=t.size-a;break;case"left":t.x=t.x-a;break;case"right":t.x=t.x+a;break;case"up":t.y=t.y-a;break;case"down":t.y=t.y+a;break;case"rotate":t.rotate=t.rotate+a;break}return t},e)};var JI={mixout(){return{parse:{transform:n=>Eg(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=Eg(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:s,iconWidth:i}=e;const a={transform:"translate(".concat(s/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),u={transform:"".concat(o," ").concat(l," ").concat(c)},d={transform:"translate(".concat(i/2*-1," -256)")},f={outer:a,inner:u,path:d};return{tag:"g",attributes:K({},f.outer),children:[{tag:"g",attributes:K({},f.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:K(K({},t.icon.attributes),f.path)}]}]}}}};const gu={x:0,y:0,width:"100%",height:"100%"};function Tg(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function ZI(n){return n.tag==="g"?n.children:[n]}var ek={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?bc(t.split(" ").map(s=>s.trim())):w1();return r.prefix||(r.prefix=Or()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:s,mask:i,maskId:a,transform:o}=e;const{width:l,icon:c}=s,{width:u,icon:d}=i,f=WC({transform:o,containerWidth:u,iconWidth:l}),h={tag:"rect",attributes:K(K({},gu),{},{fill:"white"})},p=c.children?{children:c.children.map(Tg)}:{},m={tag:"g",attributes:K({},f.inner),children:[Tg(K({tag:c.tag,attributes:K(K({},c.attributes),f.path)},p))]},g={tag:"g",attributes:K({},f.outer),children:[m]},v="mask-".concat(a||pa()),w="clip-".concat(a||pa()),y={tag:"mask",attributes:K(K({},gu),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,g]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:ZI(d)},y]};return t.push(S,{tag:"rect",attributes:K({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(v,")")},gu)}),{children:t,attributes:r}}}},tk={provides(n){let e=!1;_r.matchMedia&&(e=_r.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:K(K({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=K(K({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:K(K({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:K(K({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:K(K({},i),{},{values:"1;0;1;1;0;1;"})}),t.push(a),t.push({tag:"path",attributes:K(K({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:K(K({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:K(K({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:K(K({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},nk={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return n.symbol=r,n}}}},rk=[qC,BI,UI,zI,HI,XI,QI,JI,ek,tk,nk];hI(rk,{mixoutsTo:Ot});Ot.noAuto;Ot.config;Ot.library;Ot.dom;const ff=Ot.parse;Ot.findIconDefinition;Ot.toHtml;const sk=Ot.icon;Ot.layer;Ot.text;Ot.counter;var C1={exports:{}},ik="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ak=ik,ok=ak;function I1(){}function k1(){}k1.resetWarningCache=I1;var lk=function(){function n(r,s,i,a,o,l){if(l!==ok){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:k1,resetWarningCache:I1};return t.PropTypes=t,t};C1.exports=lk();var ck=C1.exports;const fe=Vl(ck);function Ag(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function yn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ag(Object(t),!0).forEach(function(r){js(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ag(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Il(n){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(n)}function js(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uk(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function dk(n,e){if(n==null)return{};var t=uk(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function hf(n){return fk(n)||hk(n)||pk(n)||mk()}function fk(n){if(Array.isArray(n))return pf(n)}function hk(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pk(n,e){if(n){if(typeof n=="string")return pf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pf(n,e)}}function pf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gk(n){var e,t=n.beat,r=n.fade,s=n.beatFade,i=n.bounce,a=n.shake,o=n.flash,l=n.spin,c=n.spinPulse,u=n.spinReverse,d=n.pulse,f=n.fixedWidth,h=n.inverse,p=n.border,m=n.listItem,g=n.flip,v=n.size,w=n.rotation,y=n.pull,S=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":f,"fa-inverse":h,"fa-border":p,"fa-li":m,"fa-flip":g===!0,"fa-flip-horizontal":g==="horizontal"||g==="both","fa-flip-vertical":g==="vertical"||g==="both"},js(e,"fa-".concat(v),typeof v<"u"&&v!==null),js(e,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),js(e,"fa-pull-".concat(y),typeof y<"u"&&y!==null),js(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(S).map(function(b){return S[b]?b:null}).filter(function(b){return b})}function xk(n){return n=n-0,n===n}function R1(n){return xk(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var yk=["style"];function vk(n){return n.charAt(0).toUpperCase()+n.slice(1)}function wk(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),s=R1(t.slice(0,r)),i=t.slice(r+1).trim();return s.startsWith("webkit")?e[vk(s)]=i:e[s]=i,e},{})}function N1(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return N1(n,l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.attrs.className=u,delete e.attributes.class;break;case"style":l.attrs.style=wk(u);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=u:l.attrs[R1(c)]=u}return l},{attrs:{}}),i=t.style,a=i===void 0?{}:i,o=dk(t,yk);return s.attrs.style=yn(yn({},s.attrs.style),a),n.apply(void 0,[e.tag,yn(yn({},s.attrs),o)].concat(hf(r)))}var D1=!1;try{D1=!0}catch{}function bk(){if(!D1&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function Lg(n){if(n&&Il(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(ff.icon)return ff.icon(n);if(n===null)return null;if(n&&Il(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function xu(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?js({},n,e):{}}var Cg={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},oe=be.forwardRef(function(n,e){var t=yn(yn({},Cg),n),r=t.icon,s=t.mask,i=t.symbol,a=t.className,o=t.title,l=t.titleId,c=t.maskId,u=Lg(r),d=xu("classes",[].concat(hf(gk(t)),hf((a||"").split(" ")))),f=xu("transform",typeof t.transform=="string"?ff.transform(t.transform):t.transform),h=xu("mask",Lg(s)),p=sk(u,yn(yn(yn(yn({},d),f),h),{},{symbol:i,title:o,titleId:l,maskId:c}));if(!p)return bk("Could not find icon",u),null;var m=p.abstract,g={ref:e};return Object.keys(t).forEach(function(v){Cg.hasOwnProperty(v)||(g[v]=t[v])}),Sk(m[0],g)});oe.displayName="FontAwesomeIcon";oe.propTypes={beat:fe.bool,border:fe.bool,beatFade:fe.bool,bounce:fe.bool,className:fe.string,fade:fe.bool,flash:fe.bool,mask:fe.oneOfType([fe.object,fe.array,fe.string]),maskId:fe.string,fixedWidth:fe.bool,inverse:fe.bool,flip:fe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:fe.oneOfType([fe.object,fe.array,fe.string]),listItem:fe.bool,pull:fe.oneOf(["right","left"]),pulse:fe.bool,rotation:fe.oneOf([0,90,180,270]),shake:fe.bool,size:fe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:fe.bool,spinPulse:fe.bool,spinReverse:fe.bool,symbol:fe.oneOfType([fe.bool,fe.string]),title:fe.string,titleId:fe.string,transform:fe.oneOfType([fe.string,fe.object]),swapOpacity:fe.bool};var Sk=N1.bind(null,be.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Ek={prefix:"fas",iconName:"backward",icon:[512,512,[9194],"f04a","M459.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29l0-320c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4L288 214.3l0 41.7 0 41.7L459.5 440.6zM256 352l0-96 0-128 0-32c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160C4.2 237.5 0 246.5 0 256s4.2 18.5 11.5 24.6l192 160c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29l0-64z"]},Tk={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},P1={prefix:"fas",iconName:"film",icon:[512,512,[127902],"f008","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM48 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM48 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM48 112l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16L64 96c-8.8 0-16 7.2-16 16zM416 96c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM160 128l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32L192 96c-17.7 0-32 14.3-32 32zm32 160c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-128 0z"]},Ak={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},_1={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},Lk={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},O1=Lk,Nn={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"]},Ck={prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]},Ik=Ck,kk={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9l0 176c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},Rk={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Dn={prefix:"fas",iconName:"closed-captioning",icon:[576,512,[],"f20a","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM200 208c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48s21.5-48 48-48zm144 48c0-26.5 21.5-48 48-48c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48z"]},Nk={prefix:"fas",iconName:"forward",icon:[512,512,[9193],"f04e","M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416L0 96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4L224 214.3l0 41.7 0 41.7L52.5 440.6zM256 352l0-96 0-128 0-32c0-12.4 7.2-23.7 18.4-29s24.5-3.6 34.1 4.4l192 160c7.3 6.1 11.5 15.1 11.5 24.6s-4.2 18.5-11.5 24.6l-192 160c-9.5 7.9-22.8 9.7-34.1 4.4s-18.4-16.6-18.4-29l0-64z"]},Dk={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},hs={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},Wh={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Pk={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},_k={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Ok={prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]},Mk=Ok,Fk={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M96 32l0 32L48 64C21.5 64 0 85.5 0 112l0 48 448 0 0-48c0-26.5-21.5-48-48-48l-48 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32L160 64l0-32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192L0 192 0 464c0 26.5 21.5 48 48 48l352 0c26.5 0 48-21.5 48-48l0-272z"]},jk={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};var M1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ig=be.createContext&&be.createContext(M1),$k=["attr","size","title"];function Bk(n,e){if(n==null)return{};var t=Uk(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Uk(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function kl(){return kl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kl.apply(this,arguments)}function kg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Rl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(t),!0).forEach(function(r){zk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kg(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zk(n,e,t){return e=Hk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hk(n){var e=Gk(n,"string");return typeof e=="symbol"?e:e+""}function Gk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function F1(n){return n&&n.map((e,t)=>be.createElement(e.tag,Rl({key:t},e.attr),F1(e.child)))}function j1(n){return e=>be.createElement(Vk,kl({attr:Rl({},n.attr)},e),F1(n.child))}function Vk(n){var e=t=>{var{attr:r,size:s,title:i}=n,a=Bk(n,$k),o=s||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),be.createElement("svg",kl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:l,style:Rl(Rl({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&be.createElement("title",null,i),n.children)};return Ig!==void 0?be.createElement(Ig.Consumer,null,t=>e(t)):e(M1)}function Ec(n){return j1({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function ys(n){return j1({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function Wk({item:n,index:e}){var r,s;const{language:t}=un();return x.jsxs("section",{className:"spotlight w-full h-full",children:[x.jsx("img",{src:n.poster,alt:n.title,className:"absolute right-0 object-cover h-full w-[80%] bg-auto max-[1200px]:w-full max-[1200px]:bottom-0"}),x.jsx("div",{className:"spotlight-overlay"}),x.jsxs("div",{className:"absolute flex flex-col left-0 bottom-[50px] w-[55%] p-4 z-10 max-[1390px]:w-[45%] max-[1390px]:bottom-[10px] max-[1300px]:w-[600px] max-[1120px]:w-[60%] max-md:w-[90%] max-[300px]:w-full",children:[x.jsxs("p",{className:"text-[#ffbade] font-semibold text-[20px] w-fit max-[1300px]:text-[15px]",children:["#",e+1," Spotlight"]}),x.jsx("h3",{className:"text-white line-clamp-2 text-5xl font-bold mt-6 text-left max-[1390px]:text-[45px] max-[1300px]:text-3xl max-[1300px]:mt-4 max-md:text-2xl max-md:mt-1 max-[575px]:text-[22px] max-sm:leading-6 max-sm:w-[80%] max-[320px]:w-full ",children:t==="EN"?n.title:n.japanese_title}),x.jsx("div",{className:"flex h-fit justify-center items-center w-fit space-x-5 mt-8 max-[1300px]:mt-6 max-md:hidden",children:n.tvInfo&&x.jsxs(x.Fragment,{children:[n.tvInfo.showType&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center",children:[x.jsx(oe,{icon:hs,className:"text-[8px] bg-white px-[4px] py-[3px] rounded-full"}),x.jsx("p",{className:"text-white text-[16px]",children:n.tvInfo.showType})]}),n.tvInfo.duration&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center",children:[x.jsx(oe,{icon:Rk,className:"text-white text-[14px]"}),x.jsx("p",{className:"text-white text-[17px]",children:n.tvInfo.duration})]}),n.tvInfo.releaseDate&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center",children:[x.jsx(oe,{icon:Fk,className:"text-white text-[14px]"}),x.jsx("p",{className:"text-white text-[16px]",children:n.tvInfo.releaseDate})]}),x.jsxs("div",{className:"flex space-x-3 w-fit",children:[n.tvInfo.quality&&x.jsx("div",{className:"bg-[#ffbade] py-[1px] px-[6px] rounded-md w-fit text-[11px] font-bold h-fit",children:n.tvInfo.quality}),x.jsxs("div",{className:"flex space-x-[1px] rounded-r-[5px] rounded-l-[5px] w-fit py-[1px] overflow-hidden",children:[((r=n.tvInfo.episodeInfo)==null?void 0:r.sub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B0E3AF] px-[4px]",children:[x.jsx(oe,{icon:Dn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:n.tvInfo.episodeInfo.sub})]}),((s=n.tvInfo.episodeInfo)==null?void 0:s.dub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B9E7FF] px-[4px]",children:[x.jsx(oe,{icon:Nn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-semibold",children:n.tvInfo.episodeInfo.dub})]})]})]})]})}),x.jsx("p",{className:"text-white text-[17px] font-sm mt-6 text-left line-clamp-3 max-[1200px]:line-clamp-2 max-[1300px]:w-[500px] max-[1120px]:w-[90%] max-md:hidden",children:n.description}),x.jsxs("div",{className:"flex gap-x-5 mt-10 max-md:mt-6 max-sm:w-full max-[320px]:flex-col max-[320px]:space-y-3",children:[x.jsxs("button",{className:"flex justify-center items-center bg-[#ffbade] px-4 py-2 rounded-3xl gap-x-2 max-[320px]:w-fit ",children:[x.jsx(oe,{icon:hs,className:"text-[8px] bg-[#000000] px-[6px] py-[6px] rounded-full text-[#ffbade] max-[320px]:text-[6px]"}),x.jsx(Ee,{to:`/watch/${n.id}`,className:"max-[1000px]:text-[15px] font-semibold max-[320px]:text-[12px]",children:"Watch Now"})]}),x.jsxs(Ee,{to:`/${n.id}`,className:"flex bg-[#3B3A52] justify-center items-center px-4 py-2 rounded-3xl gap-x-2 max-[320px]:w-fit max-[320px]:px-3",children:[x.jsx("p",{className:"text-white max-[1000px]:text-[15px] font-semibold max-[320px]:text-[12px]",children:"Detail"}),x.jsx(ys,{className:"text-white max-[320px]:text-[10px]"})]})]})]})]})}const Kk=({spotlights:n})=>x.jsx(x.Fragment,{children:x.jsxs("div",{className:"relative h-[600px] max-[1390px]:h-[530px] max-[1300px]:h-[500px] max-md:h-[420px]",children:[x.jsxs("div",{className:"absolute right-[10px] bottom-0 flex flex-col space-y-2 z-10 max-[575px]:hidden",children:[x.jsx("div",{className:"button-next"}),x.jsx("div",{className:"button-prev"})]}),n&&n.length>0?x.jsx(x.Fragment,{children:x.jsx(gc,{spaceBetween:0,slidesPerView:1,loop:!0,allowTouchMove:!1,navigation:{nextEl:".button-next",prevEl:".button-prev"},pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},modules:[Ph,rC,_h],className:"h-[600px] max-[1390px]:h-full",children:n.map((e,t)=>x.jsx(xc,{className:"text-black relative",children:x.jsx(Wk,{item:e,index:t})},t))})}):x.jsx("p",{children:"No spotlights to show."})]})}),Yk=({trending:n})=>{const{language:e}=un(),t=gt();return x.jsxs("div",{className:"mt-6 max-[1200px]:px-4 max-md:px-0",children:[x.jsx("h1",{className:"text-[#ffbade] text-2xl font-bold max-md:pl-4",children:"Trending"}),x.jsxs("div",{className:"pr-[60px] relative mx-auto overflow-hidden z-[1] mt-6 max-[759px]:pr-0",children:[x.jsx(gc,{className:"w-full h-full",slidesPerView:3,spaceBetween:2,breakpoints:{479:{spaceBetween:15},575:{spaceBetween:15},640:{slidesPerView:3,spaceBetween:15},900:{slidesPerView:4,spaceBetween:15},1300:{slidesPerView:6,spaceBetween:15}},modules:[_h,Ph],navigation:{nextEl:".btn-next",prevEl:".btn-prev"},children:n&&n.map((r,s)=>x.jsx(xc,{className:"text-center flex text-[18px] justify-center items-center",onClick:()=>t(`/watch/${r.id}`),children:x.jsxs("div",{className:"w-full h-auto pb-[115%] relative inline-block overflow-hidden max-[575px]:pb-[150%]",children:[x.jsxs("div",{className:"absolute left-0 top-0 bottom-0 overflow-hidden w-[40px] text-center font-semibold bg-[#201F31] max-[575px]:top-0 max-[575px]:h-[30px] max-[575px]:z-[9] max-[575px]:bg-white",children:[x.jsx("span",{className:"absolute left-0 right-0 bottom-0 text-[24px] leading-[1.1em] text-center z-[9] transform -rotate-90 max-[575px]:transform max-[575px]:rotate-0 max-[575px]:text-[#111] max-[575px]:text-[18px] max-[575px]:leading-[30px]",children:r.number}),x.jsx("div",{className:"w-[150px] h-fit text-left transform -rotate-90 absolute bottom-[100px] left-[-55px] leading-[40px] text-ellipsis whitespace-nowrap overflow-hidden text-white text-[16px] font-medium",children:e==="EN"?r.title:r.japanese_title})]}),x.jsx(Ee,{to:`/${r.id}`,className:"inline-block bg-[#2a2c31] absolute w-auto left-[40px] right-0 top-0 bottom-0 max-[575px]:left-0 max-[575px]:top-0 max-[575px]:bottom-0",children:x.jsx("img",{src:r.poster,alt:r.title,className:"block w-full h-full object-cover hover:cursor-pointer",title:r.title})})]})},s))}),x.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-[45px] flex flex-col space-y-2 max-[759px]:hidden",children:[x.jsx("div",{className:"btn-next bg-[#383747] h-[50%] flex justify-center items-center rounded-[8px] cursor-pointer transition-all duration-300 ease-out hover:bg-[#ffbade] hover:text-[#383747]",children:x.jsx(ys,{})}),x.jsx("div",{className:"btn-prev bg-[#383747] h-[50%] flex justify-center items-center rounded-[8px] cursor-pointer transition-all duration-300 ease-out hover:bg-[#ffbade] hover:text-[#383747]",children:x.jsx(Ec,{})})]})]})]})},Tc=(n,e)=>{const t=D.useRef([]),[r,s]=D.useState("top-1/2"),[i,a]=D.useState("left-1/2"),o=()=>{if(n!==null){const l=e.findIndex((u,d)=>u.id+d===n),c=t.current[l];if(c){const{top:u,height:d,left:f,width:h}=c.getBoundingClientRect(),p=u+d/2-64,m=window.innerHeight-p;p<m?s("top-1/2"):s("bottom-1/2");const g=f+h/2;window.innerWidth-g>320?a("left-1/2"):a("right-1/2")}}};return D.useEffect(()=>{o();const l=()=>{o()};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[n,e]),{tooltipPosition:r,tooltipHorizontalPosition:i,cardRefs:t}},si=()=>x.jsxs("div",{className:"bouncing-loading flex gap-x-[5px]",children:[x.jsx("div",{className:"span1"}),x.jsx("div",{className:"span2"}),x.jsx("div",{className:"span3"})]}),qk=async n=>{const e="https://worker1.workers.dev,https://worker2.workers.dev,https://worker3.workers.dev,...".split(",");try{return(await ve.get(`${e[Math.floor(Math.random()*(e==null?void 0:e.length))]}/qtip/${n.split("-").pop()}`)).data.results}catch(t){return console.error("Error fetching genre info:",t),t}};function ga({id:n}){const[e,t]=D.useState(null),[r,s]=D.useState(!0),[i,a]=D.useState(null);return D.useEffect(()=>{(async()=>{s(!0);try{const l=await qk(n);t(l)}catch(l){console.error("Error fetching anime info:",l),a(l)}finally{s(!1)}})()},[n]),x.jsx("div",{className:"w-[320px] h-fit rounded-xl p-4 flex justify-center items-center bg-[#3e3c50] bg-opacity-70 backdrop-blur-[10px] z-50",children:r||i?x.jsx(si,{}):x.jsxs("div",{className:"w-full flex flex-col justify-start gap-y-2",children:[x.jsx("h1",{className:"text-xl font-semibold text-white text-[13px] leading-6",children:e.title}),x.jsxs("div",{className:"w-full flex items-center relative mt-2",children:[(e==null?void 0:e.rating)&&x.jsxs("div",{className:"flex gap-x-2 items-center",children:[x.jsx(oe,{icon:_1,className:"text-[#ffc107]"}),x.jsx("p",{className:"text-[#b7b7b8]",children:e.rating})]}),x.jsxs("div",{className:"flex ml-4 gap-x-[1px] overflow-hidden rounded-md items-center h-fit",children:[(e==null?void 0:e.quality)&&x.jsx("div",{className:"bg-[#ffbade] px-[7px] w-fit flex justify-center items-center py-[1px] text-black",children:x.jsx("p",{className:"text-[12px] font-semibold",children:e.quality})}),x.jsxs("div",{className:"flex gap-x-[1px] w-fit items-center py-[1px]",children:[(e==null?void 0:e.subCount)&&x.jsxs("div",{className:"flex gap-x-1 justify-center items-center bg-[#B0E3AF] px-[7px] text-black",children:[x.jsx(oe,{icon:Dn,className:"text-[13px]"}),x.jsx("p",{className:"text-[13px] font-semibold",children:e.subCount})]}),(e==null?void 0:e.dubCount)&&x.jsxs("div",{className:"flex gap-x-1 justify-center items-center bg-[#B9E7FF] px-[7px] text-black",children:[x.jsx(oe,{icon:Nn,className:"text-[13px]"}),x.jsx("p",{className:"text-[13px] font-semibold",children:e.dubCount})]}),(e==null?void 0:e.episodeCount)&&x.jsx("div",{className:"flex gap-x-1 justify-center items-center bg-[#a199a3] px-[7px] text-black",children:x.jsx("p",{className:"text-[13px] font-semibold",children:e.episodeCount})})]}),(e==null?void 0:e.type)&&x.jsx("div",{className:"absolute right-0 top-0 justify-center items-center rounded-sm bg-[#ffbade] px-[6px] text-black",children:x.jsx("p",{className:"font-semibold text-[13px]",children:e.type})})]})]}),(e==null?void 0:e.description)&&x.jsx("p",{className:"text-[#d7d7d8] text-[13px] leading-4 font-light line-clamp-3 mt-1",children:e.description}),x.jsxs("div",{className:"flex flex-col mt-1",children:[(e==null?void 0:e.japaneseTitle)&&x.jsxs("div",{className:"leading-4",children:[x.jsx("span",{className:"text-[#b7b7b8] text-[13px]",children:"Japanese:"}),x.jsx("span",{className:"text-[13px]",children:e.japaneseTitle})]}),(e==null?void 0:e.Synonyms)&&x.jsxs("div",{className:"leading-4",children:[x.jsx("span",{className:"text-[#b7b7b8] text-[13px]",children:"Synonyms:"}),x.jsx("span",{className:"text-[13px]",children:e.Synonyms})]}),(e==null?void 0:e.airedDate)&&x.jsxs("div",{className:"leading-4",children:[x.jsx("span",{className:"text-[#b7b7b8] text-[13px]",children:"Aired:"}),x.jsx("span",{className:"text-[13px]",children:e.airedDate})]}),(e==null?void 0:e.status)&&x.jsxs("div",{className:"leading-4",children:[x.jsx("span",{className:"text-[#b7b7b8] text-[13px]",children:"Status:"}),x.jsx("span",{className:"text-[13px]",children:e.status})]}),(e==null?void 0:e.genres)&&x.jsxs("div",{className:"leading-4 flex flex-wrap text-wrap",children:[x.jsx("span",{className:"text-[#b7b7b8] text-[13px]",children:"Genres:"}),e.genres.map((o,l)=>x.jsx(Ee,{to:`/genre/${o}`,className:"text-[13px] hover:text-[#ffbade]",children:x.jsxs("span",{children:[o,l===e.genres.length-1?"":",",""]})},l))]})]}),x.jsxs(Ee,{to:e.watchLink,className:"w-[80%] flex mt-4 justify-center items-center gap-x-2 bg-[#ffbade] py-[9px] rounded-3xl",children:[x.jsx(oe,{icon:hs,className:"text-[14px] text-black"}),x.jsx("p",{className:"text-[14px] font-semibold text-black",children:"Watch Now"})]})]})})}function no({label:n,data:e,path:t}){const{language:r}=un(),s=gt(),[i,a]=D.useState(null),[o,l]=D.useState(null),{tooltipPosition:c,tooltipHorizontalPosition:u,cardRefs:d}=Tc(i,e),f=(p,m)=>{const g=setTimeout(()=>{a(p.id+m)},300);l(g)},h=()=>{clearTimeout(o),a(null)};return x.jsxs("div",{className:"flex flex-col w-1/4 space-y-7 max-[1200px]:w-full",children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade] max-md:text-xl",children:n}),x.jsxs("div",{className:"w-full space-y-4 flex flex-col",children:[e&&e.slice(0,5).map((p,m)=>{var g,v;return x.jsxs("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, .075)"},className:"flex pb-4 items-center relative",ref:w=>d.current[m]=w,children:[x.jsx("img",{src:p.poster,alt:p.title,className:"flex-shrink-0 w-[60px] h-[75px] rounded-md object-cover cursor-pointer",onClick:()=>s(`/watch/${p.id}`),onMouseEnter:()=>f(p,m),onMouseLeave:h}),i===p.id+m&&window.innerWidth>1024&&x.jsx("div",{className:`absolute ${c} ${u} 
            ${u==="left-1/2"?"translate-x-[-100px]":"translate-x-[-200px]"} 
            z-[100000] transform transition-all duration-300 ease-in-out 
            ${i===p.id+m?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:x.jsx(ga,{id:p.id})}),x.jsxs("div",{className:"flex flex-col ml-4 space-y-2 w-full",children:[x.jsx(Ee,{to:`/${p.id}`,className:"w-full line-clamp-2 text-[1em] font-[500] hover:cursor-pointer hover:text-[#ffbade] transform transition-all ease-out max-[1200px]:text-[14px]",children:r==="EN"?p.title:p.japanese_title}),x.jsxs("div",{className:"flex items-center flex-wrap w-fit space-x-1",children:[((g=p.tvInfo)==null?void 0:g.sub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B0E3AF] rounded-[4px] px-[4px] text-black py-[2px]",children:[x.jsx(oe,{icon:Dn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:p.tvInfo.sub})]}),((v=p.tvInfo)==null?void 0:v.dub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B9E7FF] rounded-[4px] px-[8px] text-black py-[2px]",children:[x.jsx(oe,{icon:Nn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:p.tvInfo.dub})]}),x.jsxs("div",{className:"flex items-center w-fit pl-1 gap-x-1",children:[x.jsx("div",{className:"dot"}),x.jsx("p",{className:"text-[14px] text-[#D2D2D3]",children:p.tvInfo.showType})]})]})]})]},m)}),x.jsxs(Ee,{to:`/${t}`,className:"flex w-fit items-baseline rounded-3xl gap-x-2 group",children:[x.jsx("p",{className:"text-white text-[17px] h-fit leading-4 group-hover:text-[#ffbade] transform transition-all ease-out",children:"View more"}),x.jsx(ys,{className:"text-white text-[10px] group-hover:text-[#ffbade] transform transition-all ease-out"})]})]})]})}const kn=be.memo(({label:n,data:e,showViewMore:t=!0,className:r,categoryPage:s=!1,cardStyle:i,path:a,limit:o})=>{const{language:l}=un(),c=gt(),[u,d]=D.useState(!1);o&&(e=e.slice(0,o));const[f,h]=D.useState({firstRow:[],remainingItems:[]}),p=D.useCallback(()=>{if(s){const E=window.innerWidth>758&&e.length>4?e.slice(0,4):[],A=window.innerWidth>758&&e.length>4?e.slice(4):e.slice(0);return{firstRow:E,remainingItems:A}}return{firstRow:[],remainingItems:e.slice(0)}},[s,e]);D.useEffect(()=>{const E=()=>{h(p())},A=p();return h(L=>JSON.stringify(L.firstRow)!==JSON.stringify(A.firstRow)||JSON.stringify(L.remainingItems)!==JSON.stringify(A.remainingItems)?A:L),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[p]);const[m,g]=D.useState(null),[v,w]=D.useState(null),{tooltipPosition:y,tooltipHorizontalPosition:S,cardRefs:b}=Tc(m,e),T=(E,A)=>{const L=setTimeout(()=>{g(E.id+A),d(!0)},400);w(L)},I=()=>{clearTimeout(v),g(null),d(!1)};return x.jsxs("div",{className:`w-full ${r}`,children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px] capitalize",children:n}),t&&x.jsxs(Ee,{to:`/${a}`,className:"flex w-fit items-baseline h-fit rounded-3xl gap-x-1 group",children:[x.jsx("p",{className:"text-white text-[12px] font-semibold h-fit leading-0 group-hover:text-[#ffbade] transition-all ease-out",children:"View more"}),x.jsx(ys,{className:"text-white text-[10px] group-hover:text-[#ffbade] transition-all ease-out"})]})]}),x.jsxs(x.Fragment,{children:[s&&x.jsx("div",{className:`grid grid-cols-4 gap-x-3 gap-y-8 transition-all duration-300 ease-in-out ${s&&f.firstRow.length>0?"mt-8 max-[758px]:hidden":""}`,children:f.firstRow.map((E,A)=>{var L,k,R,N,P,_,$;return x.jsxs("div",{className:"flex flex-col transition-transform duration-300 ease-in-out",style:{height:"fit-content"},ref:H=>b.current[A]=H,children:[x.jsxs("div",{className:"w-full relative group hover:cursor-pointer",onClick:()=>c(`/watch/${E.id}`),onMouseEnter:()=>T(E,A),onMouseLeave:I,children:[m===E.id+A&&u&&x.jsx(oe,{icon:hs,className:"text-[40px] text-white absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[10000]"}),x.jsx("div",{className:"overlay"}),x.jsx("div",{className:"overflow-hidden",children:x.jsx("img",{src:E.poster,alt:E.title,className:`w-full h-[320px] object-cover max-[1200px]:h-[35vw] max-[758px]:h-[45vw] max-[478px]:h-[60vw] group-hover:blur-[7px] transform transition-all duration-300 ease-in-out ultra-wide:h-[400px] ${i}`})}),(((L=E.tvInfo)==null?void 0:L.rating)==="18+"||(E==null?void 0:E.adultContent)===!0)&&x.jsx("div",{className:"text-white px-2 rounded-md bg-[#FF5700] absolute top-2 left-2 flex items-center justify-center text-[14px] font-bold",children:"18+"}),x.jsxs("div",{className:"absolute left-2 bottom-3 flex items-center justify-center w-fit space-x-1 z-[100] max-[270px]:flex-col max-[270px]:gap-y-[3px]",children:[((k=E.tvInfo)==null?void 0:k.sub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B0E3AF] rounded-[2px] px-[4px] text-black py-[2px]",children:[x.jsx(oe,{icon:Dn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:E.tvInfo.sub})]}),((R=E.tvInfo)==null?void 0:R.dub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B9E7FF] rounded-[2px] px-[8px] text-black py-[2px]",children:[x.jsx(oe,{icon:Nn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:E.tvInfo.dub})]}),((N=E.tvInfo)==null?void 0:N.eps)&&x.jsx("div",{className:"flex space-x-1 justify-center items-center bg-[#a9a6b16f] rounded-[2px] px-[8px] text-white py-[2px]",children:x.jsx("p",{className:"text-[12px] font-extrabold",children:E.tvInfo.eps})})]}),m===E.id+A&&window.innerWidth>1024&&x.jsx("div",{className:`absolute ${y} ${S} z-[100000] transform transition-all duration-300 ease-in-out ${m===E.id+A?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:x.jsx(ga,{id:E.id})})]}),x.jsx(Ee,{to:`/${E.id}`,className:"text-white font-semibold mt-1 item-title hover:text-[#FFBADE] hover:cursor-pointer line-clamp-1",children:l==="EN"?E.title:E.japanese_title}),E.description&&x.jsx("div",{className:"line-clamp-3 text-[13px] font-extralight text-[#b1b0b0] max-[1200px]:hidden",children:E.description}),x.jsxs("div",{className:"flex items-center gap-x-2 w-full mt-2 overflow-hidden",children:[x.jsx("div",{className:"text-gray-400 text-[14px] text-nowrap overflow-hidden text-ellipsis",children:E.tvInfo.showType.split(" ").shift()}),x.jsx("div",{className:"dot"}),x.jsx("div",{className:"text-gray-400 text-[14px] text-nowrap overflow-hidden text-ellipsis",children:((P=E.tvInfo)==null?void 0:P.duration)==="m"||((_=E.tvInfo)==null?void 0:_.duration)==="?"||E.duration==="m"||E.duration==="?"?"N/A":(($=E.tvInfo)==null?void 0:$.duration)||E.duration||"N/A"})]})]},A)})}),x.jsx("div",{className:"grid grid-cols-6 gap-x-3 gap-y-8 mt-6 transition-all duration-300 ease-in-out max-[1400px]:grid-cols-4 max-[758px]:grid-cols-3 max-[478px]:grid-cols-2",children:f.remainingItems.map((E,A)=>{var L,k,R,N,P,_;return x.jsxs("div",{className:"flex flex-col transition-transform duration-300 ease-in-out",style:{height:"fit-content"},ref:$=>b.current[A]=$,children:[x.jsxs("div",{className:"w-full relative group hover:cursor-pointer",onClick:()=>c(`/watch/${E.id}`),onMouseEnter:()=>T(E,A),onMouseLeave:I,children:[m===E.id+A&&u&&x.jsx(oe,{icon:hs,className:"text-[40px] text-white absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[10000]"}),x.jsx("div",{className:"overlay"}),x.jsx("div",{className:"overflow-hidden",children:x.jsx("img",{src:E.poster,alt:E.title,className:`w-full h-[250px] object-cover max-[1200px]:h-[35vw] max-[758px]:h-[45vw] max-[478px]:h-[60vw] ${i} group-hover:blur-[7px] transform transition-all duration-300 ease-in-out `})}),(((L=E.tvInfo)==null?void 0:L.rating)==="18+"||(E==null?void 0:E.adultContent)===!0)&&x.jsx("div",{className:"text-white px-2 rounded-md bg-[#FF5700] absolute top-2 left-2 flex items-center justify-center text-[14px] font-bold",children:"18+"}),x.jsxs("div",{className:"absolute left-2 bottom-4 flex items-center justify-center w-fit space-x-1 z-[100] max-[270px]:flex-col max-[270px]:gap-y-[3px]",children:[((k=E.tvInfo)==null?void 0:k.sub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B0E3AF] rounded-[2px] px-[4px] text-black py-[2px]",children:[x.jsx(oe,{icon:Dn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:E.tvInfo.sub})]}),((R=E.tvInfo)==null?void 0:R.dub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B9E7FF] rounded-[2px] px-[8px] text-black py-[2px]",children:[x.jsx(oe,{icon:Nn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:E.tvInfo.dub})]})]}),m===E.id+A&&window.innerWidth>1024&&x.jsx("div",{className:`absolute ${y} ${S} z-[100000] transform transition-all duration-300 ease-in-out ${m===E.id+A?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:x.jsx(ga,{id:E.id})})]}),x.jsx(Ee,{to:`/${E.id}`,className:"text-white font-semibold mt-1 item-title hover:text-[#FFBADE] hover:cursor-pointer line-clamp-1",children:l==="EN"?E.title:E.japanese_title}),x.jsxs("div",{className:"flex items-center gap-x-2 w-full mt-2 overflow-hidden",children:[x.jsx("div",{className:"text-gray-400 text-[14px] text-nowrap overflow-hidden text-ellipsis",children:E.tvInfo.showType.split(" ").shift()}),x.jsx("div",{className:"dot"}),x.jsx("div",{className:"text-gray-400 text-[14px] text-nowrap overflow-hidden text-ellipsis",children:((N=E.tvInfo)==null?void 0:N.duration)==="m"||((P=E.tvInfo)==null?void 0:P.duration)==="?"||E.duration==="m"||E.duration==="?"?"N/A":((_=E.tvInfo)==null?void 0:_.duration)||E.duration||"N/A"})]})]},A)})})]})]})});kn.displayName="CategoryCard";function Xk({data:n}){const e=["#A4B389","#FFBADE","#935C5F","#AD92BC","#ABCCD8","#D8B2AB","#85E1CD","#B7C996"],[t,r]=D.useState(!1),s=()=>{r(i=>!i)};return x.jsxs("div",{className:"flex flex-col w-full",children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade]",children:"Genres"}),x.jsxs("div",{className:"bg-[#373646] py-6 px-4 mt-6 max-[478px]:bg-transparent max-[478px]:px-0",children:[x.jsx("div",{className:"grid grid-cols-3 grid-rows-2 gap-x-4 gap-y-3 w-full max-[478px]:flex max-[478px]:flex-wrap max-[478px]:gap-2",children:n&&(t?n:n.slice(0,24)).map((i,a)=>{const o=e[a%e.length];return x.jsx(Ee,{to:`/genre/${i}`,className:"rounded-[4px] py-2 px-3 hover:bg-[#555462] hover:cursor-pointer max-[478px]:bg-[#373646] max-[478px]:py-[6px]",style:{color:o},children:x.jsx("div",{className:"overflow-hidden text-left text-ellipsis text-nowrap font-bold",children:i.charAt(0).toUpperCase()+i.slice(1)})},a)})}),x.jsx("button",{className:"w-full bg-[#555462d3] py-3 mt-4 hover:bg-[#555462] rounded-md font-bold transform transition-all ease-out",onClick:s,children:t?"Show less":"Show more"})]})]})}const Ac=be.memo(Xk);function Qk({data:n,className:e}){const{language:t}=un(),[r,s]=D.useState("today"),i=w=>{s(w)},a=gt(),o=w=>{a(`/${w}`),window.scrollTo({top:0,behavior:"smooth"})},[l,c]=D.useState(null),u=r==="today"?n.today:r==="week"?n.week:n.month,{tooltipPosition:d,tooltipHorizontalPosition:f,cardRefs:h}=Tc(l,u),[p,m]=D.useState(null),g=(w,y)=>{const S=setTimeout(()=>{c(w.id+y)},400);m(S)},v=()=>{clearTimeout(p),c(null)};return x.jsxs("div",{className:`flex flex-col space-y-6 ${e}`,children:[x.jsxs("div",{className:"flex justify-between items-center max-[350px]:flex-col max-[350px]:gap-y-2 max-[350px]:items-start",children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade]",children:"Top 10"}),x.jsxs("ul",{className:"flex justify-between w-fit bg-[#373646] rounded-[4px] text-sm font-bold",children:[x.jsx("li",{className:`cursor-pointer p-2 px-3 ${r==="today"?"bg-[#ffbade] text-[#555462] rounded-l-[4px]":"text-white"} ${r!=="today"?"hover:text-[#ffbade]":""}`,onClick:()=>i("today"),children:"Today"}),x.jsx("li",{className:`cursor-pointer p-2 px-3 ${r==="week"?"bg-[#ffbade] text-[#555462]":"text-white"} ${r!=="week"?"hover:text-[#ffbade]":""}`,onClick:()=>i("week"),children:"Week"}),x.jsx("li",{className:`cursor-pointer p-2 px-3 ${r==="month"?"bg-[#ffbade] text-[#555462] rounded-r-[4px]":"text-white"} ${r!=="month"?"hover:text-[#ffbade]":""}`,onClick:()=>i("month"),children:"Month"})]})]}),x.jsx("div",{className:"flex flex-col space-y-4 bg-[#2B2A3C] p-4 pt-8 ",children:u&&u.map((w,y)=>{var S,b;return x.jsxs("div",{className:"flex items-center gap-x-4",ref:T=>h.current[y]=T,children:[x.jsx("h1",{className:`font-bold text-2xl  ${y+1<4?"pb-1 text-white border-b-[3px] border-[#ffbade]":"text-[#777682]"} max-[350px]:hidden`,children:`${y+1<10?"0":""}${y+1}`}),x.jsxs("div",{style:{borderBottom:y+1<10?"1px solid rgba(255, 255, 255, .075)":"none"},className:"flex pb-4 relative container items-center",children:[x.jsx("img",{src:w.poster,alt:w.title,className:"w-[60px] h-[75px] rounded-md object-cover flex-shrink-0 cursor-pointer",onClick:()=>a(`/watch/${w.id}`),onMouseEnter:()=>g(w,y),onMouseLeave:v}),l===w.id+y&&window.innerWidth>1024&&x.jsx("div",{className:`absolute ${d} ${f} ${d==="top-1/2"?"translate-y-[50px]":"translate-y-[-50px]"} z-[100000] transform transition-all duration-300 ease-in-out ${l===w.id+y?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:x.jsx(ga,{id:w.id})}),x.jsxs("div",{className:"flex flex-col ml-4 space-y-2",children:[x.jsx(Ee,{to:`/${w.id}`,className:"text-[1em] font-[500] hover:cursor-pointer hover:text-[#ffbade] transform transition-all ease-out line-clamp-1 max-[478px]:line-clamp-2 max-[478px]:text-[14px]",onClick:()=>o(w.id),children:t==="EN"?w.title:w.japanese_title}),x.jsxs("div",{className:"flex flex-wrap items-center w-fit space-x-1 max-[350px]:gap-y-[3px]",children:[((S=w.tvInfo)==null?void 0:S.sub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B0E3AF] rounded-[4px] px-[4px] text-black py-[2px]",children:[x.jsx(oe,{icon:Dn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:w.tvInfo.sub})]}),((b=w.tvInfo)==null?void 0:b.dub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B9E7FF] rounded-[4px] px-[8px] text-black py-[2px]",children:[x.jsx(oe,{icon:Nn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:w.tvInfo.dub})]})]})]})]})]},y)})})]})}const Kh=be.memo(Qk);function $1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=$1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Jk(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=$1(n))&&(r&&(r+=" "),r+=e);return r}const Yh="-",Zk=n=>{const e=t3(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(Yh);return o[0]===""&&o.length!==1&&o.shift(),B1(o,e)||e3(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},B1=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?B1(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(Yh);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},Rg=/^\[(.+)\]$/,e3=n=>{if(Rg.test(n)){const e=Rg.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},t3=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return r3(Object.entries(n.classGroups),t).forEach(([i,a])=>{mf(a,r,i,e)}),r},mf=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ng(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(n3(s)){mf(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,a])=>{mf(a,Ng(e,i),t,r)})})},Ng=(n,e)=>{let t=n;return e.split(Yh).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},n3=n=>n.isThemeGetter,r3=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[t,s]}):n,s3=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,a)=>{t.set(i,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){t.has(i)?t.set(i,a):s(i,a)}}},U1="!",i3=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,a=o=>{const l=[];let c=0,u=0,d;for(let g=0;g<o.length;g++){let v=o[g];if(c===0){if(v===s&&(r||o.slice(g,g+i)===e)){l.push(o.slice(u,g)),u=g+i;continue}if(v==="/"){d=g;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?o:o.substring(u),h=f.startsWith(U1),p=h?f.substring(1):f,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}};return t?o=>t({className:o,parseClassName:a}):a},a3=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},o3=n=>({cache:s3(n.cacheSize),parseClassName:i3(n),...Zk(n)}),l3=/\s+/,c3=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=n.trim().split(l3);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=t(c);let p=!!h,m=r(p?f.substring(0,h):f);if(!m){if(!p){o=c+(o.length>0?" "+o:o);continue}if(m=r(f),!m){o=c+(o.length>0?" "+o:o);continue}p=!1}const g=a3(u).join(":"),v=d?g+U1:g,w=v+m;if(i.includes(w))continue;i.push(w);const y=s(m,p);for(let S=0;S<y.length;++S){const b=y[S];i.push(v+b)}o=c+(o.length>0?" "+o:o)}return o};function u3(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=z1(e))&&(r&&(r+=" "),r+=t);return r}const z1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=z1(n[r]))&&(t&&(t+=" "),t+=e);return t};function d3(n,...e){let t,r,s,i=a;function a(l){const c=e.reduce((u,d)=>d(u),n());return t=o3(c),r=t.cache.get,s=t.cache.set,i=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=c3(l,t);return s(l,u),u}return function(){return i(u3.apply(null,arguments))}}const Ne=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},H1=/^\[(?:([a-z-]+):)?(.+)\]$/i,f3=/^\d+\/\d+$/,h3=new Set(["px","full","screen"]),p3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,g3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fn=n=>Ys(n)||h3.has(n)||f3.test(n),cr=n=>gi(n,"length",L3),Ys=n=>!!n&&!Number.isNaN(Number(n)),yu=n=>gi(n,"number",Ys),Ci=n=>!!n&&Number.isInteger(Number(n)),v3=n=>n.endsWith("%")&&Ys(n.slice(0,-1)),de=n=>H1.test(n),ur=n=>p3.test(n),w3=new Set(["length","size","percentage"]),b3=n=>gi(n,w3,G1),S3=n=>gi(n,"position",G1),E3=new Set(["image","url"]),T3=n=>gi(n,E3,I3),A3=n=>gi(n,"",C3),Ii=()=>!0,gi=(n,e,t)=>{const r=H1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},L3=n=>m3.test(n)&&!g3.test(n),G1=()=>!1,C3=n=>x3.test(n),I3=n=>y3.test(n),k3=()=>{const n=Ne("colors"),e=Ne("spacing"),t=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),i=Ne("borderRadius"),a=Ne("borderSpacing"),o=Ne("borderWidth"),l=Ne("contrast"),c=Ne("grayscale"),u=Ne("hueRotate"),d=Ne("invert"),f=Ne("gap"),h=Ne("gradientColorStops"),p=Ne("gradientColorStopPositions"),m=Ne("inset"),g=Ne("margin"),v=Ne("opacity"),w=Ne("padding"),y=Ne("saturate"),S=Ne("scale"),b=Ne("sepia"),T=Ne("skew"),I=Ne("space"),E=Ne("translate"),A=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",de,e],R=()=>[de,e],N=()=>["",Fn,cr],P=()=>["auto",Ys,de],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",de],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Ys,de];return{cacheSize:500,separator:":",theme:{colors:[Ii],spacing:[Fn,cr],blur:["none","",ur,de],brightness:V(),borderColor:[n],borderRadius:["none","","full",ur,de],borderSpacing:R(),borderWidth:N(),contrast:V(),grayscale:O(),hueRotate:V(),invert:O(),gap:R(),gradientColorStops:[n],gradientColorStopPositions:[v3,cr],inset:k(),margin:k(),opacity:V(),padding:R(),saturate:V(),scale:V(),sepia:O(),skew:V(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[ur]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),de]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ci,de]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Ci,de]}],"grid-cols":[{"grid-cols":[Ii]}],"col-start-end":[{col:["auto",{span:["full",Ci,de]},de]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Ii]}],"row-start-end":[{row:["auto",{span:[Ci,de]},de]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[ur]},ur]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ur,cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yu]}],"font-family":[{font:[Ii]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Ys,yu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fn,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fn,cr]}],"underline-offset":[{"underline-offset":["auto",Fn,de]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),S3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T3]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Fn,de]}],"outline-w":[{outline:[Fn,cr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Fn,cr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ur,A3]}],"shadow-color":[{shadow:[Ii]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ur,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ci,de]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Fn,cr,yu]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},R3=d3(k3);function N3(...n){return R3(Jk(n))}function se({className:n,animation:e=!0,...t}){return x.jsx("div",{className:N3("bg-gray-400 rounded-3xl",e?"shimmer-effect":"",n),...t})}function qn({className:n,showLabelSkeleton:e=!0}){return x.jsxs("div",{className:`w-full ${n}`,children:[e&&x.jsx(se,{className:"w-[200px] h-[20px] max-[320px]:w-[70px]"}),x.jsx("div",{className:"grid grid-cols-6 gap-x-3 gap-y-8 mt-6 max-[1400px]:grid-cols-4 max-[758px]:grid-cols-3 max-[478px]:grid-cols-2",children:[...Array(12)].map((t,r)=>x.jsxs("div",{className:"flex flex-col",style:{height:"fit-content"},children:[x.jsxs("div",{className:"w-full relative",children:[x.jsx(se,{className:"w-full h-[250px] object-cover max-[1200px]:h-[35vw] max-[758px]:h-[45vw] max-[478px]:h-[60vw] rounded-none"}),x.jsxs("div",{className:"absolute left-2 bottom-4 flex items-center justify-center w-fit space-x-1 z-20 max-[320px]:w-[80%] max-[320px]:left-0",children:[x.jsx(se,{className:"w-[50px] h-[15px] bg-gray-600 max-[320px]:w-[40%]"}),x.jsx(se,{className:"w-[50px] h-[15px] bg-gray-600 max-[320px]:w-[40%]"})]})]}),x.jsx(se,{className:"mt-1 w-[90%] h-[15px]"}),x.jsxs("div",{className:"flex items-center gap-x-2 w-full mt-2",children:[x.jsx(se,{className:"w-[40%] h-[12px]"}),x.jsx(se,{className:"w-[40%] h-[12px]"})]})]},r))})]})}function nr({className:n}){return x.jsxs("div",{className:`flex flex-col space-y-6 ${n}`,children:[x.jsx(se,{className:"w-[200px] h-[15px]"}),x.jsx("div",{className:"flex flex-col space-y-4 bg-[#2B2A3C] p-4 pt-8 w-full",children:[...Array(10)].map((e,t)=>x.jsx("div",{className:"flex items-center gap-x-4",children:x.jsxs("div",{className:"flex pb-4 relative container items-center",children:[x.jsx(se,{className:"w-[60px] h-[75px] rounded-md"}),x.jsxs("div",{className:"flex flex-col ml-4 space-y-2 w-[60%]",children:[x.jsx(se,{className:"w-[90%] h-[15px]"}),x.jsxs("div",{className:"flex flex-wrap items-center space-x-1",children:[x.jsx(se,{className:"w-[30%] h-[15px]"}),x.jsx(se,{className:"w-[30%] h-[15px]"})]})]})]})},t))})]})}const dr=({count:n,className:e})=>[...Array(n)].map((t,r)=>x.jsx(se,{className:e},r));function D3(){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative grid grid-cols-[minmax(0,75%),minmax(0,25%)] h-fit w-full overflow-hidden mt-[64px] max-[1200px]:flex max-[1200px]:flex-col max-md:mt-[50px]",children:[x.jsx(se,{className:"absolute inset-0 w-full h-full blur-lg z-[-900] bg-gray-500",animation:!1}),x.jsxs("div",{className:"flex items-start z-10 px-14 py-[70px] bg-[#252434] bg-opacity-70 gap-x-8 max-[1024px]:px-6 max-[1024px]:py-10 max-[1024px]:gap-x-4 max-[575px]:flex-col max-[575px]:items-center max-[575px]:justify-center",children:[x.jsx(se,{className:"w-[200px] h-[270px] rounded-none"}),x.jsxs("div",{className:"flex flex-col ml-4 gap-y-5 w-full max-[575px]:items-center max-[575px]:justify-center max-[575px]:mt-0",children:[x.jsx("ul",{className:"flex gap-x-2 items-center w-fit max-[1200px]:hidden",children:x.jsx(dr,{count:3,className:"w-[40px] h-[15px] rounded-xl "})}),x.jsx("div",{className:"flex flex-col gap-y-2",children:x.jsx(dr,{count:2,className:"w-[50%] h-[20px] rounded-xl "})}),x.jsx("div",{className:"flex gap-x-[3px]",children:x.jsx(dr,{count:6,className:"w-[30px] h-[20px] rounded-sm"})}),x.jsx(se,{className:"w-[150px] h-[40px] rounded-3xl mt-4"}),x.jsx("div",{className:"flex flex-col gap-y-2 mt-5 max-[575px]:hidden",children:x.jsx(dr,{count:3,className:"w-[80%] h-[15px] rounded-3xl "})}),x.jsxs("div",{className:"flex gap-x-4 items-center mt-4",children:[x.jsx(se,{className:"w-[60px] h-[60px] rounded-full bg-gray-500 max-[575px]:hidden"}),x.jsx("div",{className:"flex flex-col w-fit gap-y-2",children:x.jsx(dr,{count:2,className:"w-[150px] h-[10px] rounded-xl "})})]})]})]}),x.jsx("div",{className:"bg-[#4c4b57c3] flex items-center px-8 max-[1200px]:py-10 max-[1200px]:bg-[#363544e0] max-[575px]:p-4",children:x.jsxs("div",{className:"w-full flex flex-col h-fit gap-y-4",children:[x.jsx(dr,{count:6,className:"w-full h-[15px] rounded-xl"}),x.jsxs("div",{className:"flex gap-x-4 py-2 mt-4",children:[x.jsx(se,{className:"w-[50px] h-[20px] "}),x.jsx("div",{className:"flex flex-wrap gap-1",children:x.jsx(dr,{count:4,className:"w-[30px] h-[20px] rounded-sm bg-gray-500"})})]}),x.jsx(dr,{count:2,className:"w-[90%] h-[15px] rounded-xl  "})]})})]}),x.jsxs("div",{className:"w-full grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex flex-col px-4",children:[x.jsx(qn,{className:"mt-[60px]"}),x.jsx(nr,{className:"mt-[60px]"})]})]})}const P3=({count:n,className:e})=>[...Array(n)].map((t,r)=>x.jsx(se,{className:e},r));function ro(){return x.jsxs("div",{className:"flex flex-col w-1/4 space-y-7 max-[1200px]:w-full",children:[x.jsx(se,{className:"w-[200px] h-[20px]"}),x.jsx("div",{className:"w-full space-y-4 flex flex-col ",children:[...Array(5)].map((n,e)=>x.jsxs("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, .075)"},className:"flex pb-4 items-center",children:[x.jsx(se,{className:"w-[60px] h-[75px] rounded-none"}),x.jsxs("div",{className:"flex flex-col ml-4 space-y-2 w-full",children:[x.jsx(se,{className:"w-[90%] h-[15px]"}),x.jsx("div",{className:"flex items-center w-fit space-x-1",children:x.jsx(P3,{count:3,className:"w-[30px] h-[15px]"})})]})]},e))}),x.jsx(se,{className:"w-[100px] h-[30px]"})]})}const Dg=({count:n,className:e})=>[...Array(n)].map((t,r)=>x.jsx(se,{className:e},r));function _3(){return x.jsx("section",{className:"w-full h-[600px] max-[1390px]:h-[530px] max-[1300px]:h-[500px] max-md:h-[420px] relative",children:x.jsxs("div",{className:"absolute flex flex-col left-0 bottom-[100px] w-[55%] p-4 z-10 max-[1390px]:w-[45%] max-[1390px]:bottom-[10px] max-[1300px]:w-[600px] max-[1120px]:w-[60%] max-md:w-[90%] max-[300px]:w-full",children:[x.jsx(se,{className:"w-[400px] h-[20px] max-md:w-[180px]"}),x.jsx(se,{className:"w-[70%] h-[20px] mt-6 text-left max-[1300px]:mt-4  max-sm:w-[80%] max-[320px]:w-full "}),x.jsxs("div",{className:"flex h-fit justify-center items-center w-fit space-x-5 mt-8 max-[1300px]:mt-6 max-md:hidden",children:[x.jsx(Dg,{count:2,className:"w-[30px] h-[15px]"}),x.jsxs("div",{className:"flex space-x-3 w-fit",children:[x.jsx(se,{className:"w-[80px] h-[15px]"}),x.jsx("div",{className:"flex space-x-[1px] rounded-r-[5px] rounded-l-[5px] w-fit py-[1px] overflow-hidden",children:x.jsx(Dg,{count:2,className:"w-[30px] h-[15px]"})})]})]}),x.jsxs("div",{className:"mt-6 max-[1300px]:w-[500px] flex flex-col gap-y-2 max-[1120px]:w-[90%] max-md:hidden",children:[x.jsx(se,{className:"w-full h-[13px]"}),x.jsx(se,{className:"w-[85%] h-[13px]"}),x.jsx(se,{className:"w-[70%] h-[13px]"})]}),x.jsxs("div",{className:"flex gap-x-5 mt-10 max-md:mt-6 max-sm:w-full max-[320px]:flex-col max-[320px]:space-y-3",children:[x.jsx(se,{className:"w-[170px] h-[40px] max-[575px]:w-[120px] max-[575px]:h-[30px]"}),x.jsx(se,{className:"w-[150px] h-[40px] max-[575px]:w-[120px] max-[575px]:h-[30px]"})]})]})})}function O3(){const[n,e]=D.useState(()=>window.innerWidth<720?3:window.innerWidth<1300?4:6);return D.useEffect(()=>{const t=()=>{window.innerWidth<720?e(3):window.innerWidth<1300?e(4):e(6)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),x.jsxs("div",{className:"flex flex-col w-full mt-10 max-[1200px]:px-4",children:[x.jsx(se,{className:"w-[150px] h-[20px] max-[400px]:w-[100px]"}),x.jsx("div",{className:"w-full h-[250px] overflow-hidden flex mt-6 justify-around max-[1300px]:h-fit",children:[...Array(n)].map((t,r)=>x.jsx("div",{children:x.jsx(se,{className:"w-[200px] h-full rounded-none max-[1300px]:w-[22vw] max-[1300px]:h-[30vw] max-[720px]:w-[25vw] max-[720px]:h-[35vw]"})},r))})]})}function M3(){return x.jsxs("div",{className:"px-4 w-full h-full  max-[1200px]:px-0 bg-[#3a395100]",children:[x.jsx(_3,{}),x.jsx(O3,{}),x.jsxs("div",{className:"mt-16 flex gap-6 max-[1200px]:px-4 max-[1200px]:grid max-[1200px]:grid-cols-2 max-[1200px]:mt-12 max-[1200px]:gap-y-10 max-[680px]:grid-cols-1",children:[x.jsx(ro,{}),x.jsx(ro,{}),x.jsx(ro,{}),x.jsx(ro,{})]}),x.jsxs("div",{className:"w-full grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex flex-col max-[1200px]:px-4",children:[x.jsxs("div",{children:[x.jsx(qn,{className:"mt-[60px]"}),x.jsx(qn,{className:"mt-[60px]"}),x.jsx(qn,{className:"mt-[60px]"})]}),x.jsxs("div",{className:"w-full mt-[60px]",children:[x.jsx(nr,{}),x.jsx(nr,{})]})]})]})}function F3(){return x.jsxs("div",{className:"w-full flex flex-col gap-y-4 mt-[64px] max-md:mt-[50px]",children:[x.jsxs("div",{className:"flex gap-x-4 items-center p-5 mt-4",children:[x.jsx(se,{className:"w-[60px] h-[60px] rounded-full bg-gray-500 max-[575px]:hidden"}),x.jsxs("div",{className:"flex flex-col w-fit gap-y-2",children:[x.jsx(se,{className:"w-[150px] h-[10px] rounded-xl "}),x.jsx(se,{className:"w-[150px] h-[10px] rounded-xl "})]})]}),x.jsxs("div",{className:"w-full px-4 grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex max-[1200px]:flex-col max-[1200px]:gap-y-10",children:[x.jsx(qn,{className:"mt-[0px]"}),x.jsx(nr,{})]})]})}const j3=({count:n,className:e})=>[...Array(n)].map((t,r)=>x.jsx(se,{className:e},r));function $3(){return x.jsxs("div",{className:"max-w-[1260px] mx-auto px-[15px] flex flex-col mt-[64px] max-md:mt-[50px]",children:[x.jsxs("ul",{className:"flex gap-x-4 mt-[50px] items-center w-fit max-[1200px]:hidden",children:[x.jsx(se,{className:"w-[50px] h-[15px]"}),x.jsx(se,{className:"w-[70px] h-[15px]"})]}),x.jsxs("div",{className:"flex flex-col gap-y-5 mt-6",children:[x.jsx(se,{className:"w-[200px] h-[15px]"}),x.jsx("div",{className:"flex gap-x-[7px] flex-wrap justify-start gap-y-2 max-md:justify-start",children:x.jsx(j3,{count:20,className:"w-[40px] h-[20px] rounded-sm"})})]}),x.jsx(qn,{showLabelSkeleton:!1})]})}function B3(){return x.jsx("div",{className:"w-full mt-[100px] flex flex-col gap-y-4 max-md:mt-[50px]",children:x.jsxs("div",{className:"w-full px-4 grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex max-[1200px]:flex-col max-[1200px]:gap-y-10",children:[x.jsx(qn,{className:"mt-[0px]"}),x.jsx(nr,{})]})})}const Da=({type:n})=>{switch(n){case"home":return x.jsx(M3,{});case"animeInfo":return x.jsx(D3,{});case"category":return x.jsx(F3,{});case"producer":return x.jsx(B3,{});case"AtoZ":return x.jsx($3,{});default:return x.jsx("div",{className:"loading-skeleton default-skeleton"})}};function Gt({error:n}){const e=gt();return x.jsx("div",{className:"bg-[#201F31] w-full h-screen flex justify-center items-center",children:x.jsxs("div",{className:"flex flex-col w-fit h-fit items-center justify-center",children:[x.jsx("img",{src:"https://s1.gifyu.com/images/SBlOe.png",alt:"",className:"w-[300px] h-[300px] max-[500px]:w-[200px] max-[500px]:h-[200px]"}),x.jsx("h1",{className:"text-white text-[35px] leading-5 mt-7",children:n==="404"?"404 Error":"Error"}),x.jsx("p",{className:"mt-5",children:"Oops! We couldn't find this page."}),x.jsxs("button",{className:"bg-[#ffbade] py-2 px-4 w-fit rounded-3xl text-black text-light flex items-center gap-x-2 mt-7",children:[x.jsx(Ec,{className:"text-[#ffbade] w-[20px] h-[20px] rounded-full p-1 bg-black"}),x.jsx("p",{onClick:()=>e("/"),className:"text-[18px]",children:"Back to homepage"})]})]})})}async function U3(n){try{return(await ve.get(`https://zenime-api--nu.vercel.app/api/schedule?date=${n}`)).data.results}catch(e){return console.error(e),e}}const z3=()=>{const[n,e]=D.useState([]),[t,r]=D.useState(!1),[s,i]=D.useState(null),[a,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState([]),[f,h]=D.useState(new Date),p=D.useRef([]),m=D.useRef(null),g=new Date,v=g.getFullYear(),w=g.getMonth(),y=g.toLocaleString("default",{month:"short"}),S=new Date(v,w+1,0).getDate(),b=`GMT ${new Date().getTimezoneOffset()>0?"-":"+"}${String(Math.floor(Math.abs(new Date().getTimezoneOffset())/60)).padStart(2,"0")}:${String(Math.abs(new Date().getTimezoneOffset())%60).padStart(2,"0")}`,T=[];D.useEffect(()=>{for(let k=1;k<=S;k++){const R=new Date(v,w,k),N=R.toLocaleString("default",{weekday:"short"}),P=R.getFullYear(),_=String(R.getMonth()+1).padStart(2,"0"),$=String(R.getDate()).padStart(2,"0"),H=`${P}-${_}-${$}`;T.push({day:k,monthName:y,dayname:N,fulldate:H})}e(T);const L=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(L)},[]),D.useEffect(()=>{const L=n.findIndex(k=>k.fulldate===`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`);L!==-1&&(c(L),E(L))},[n]);const I=async L=>{try{r(!0);const k=localStorage.getItem(`schedule-${L}`);if(k)d(JSON.parse(k));else{const R=await U3(L);d(R),R?localStorage.setItem(`schedule-${L}`,JSON.stringify(R)):localStorage.setItem(`schedule-${L}`,JSON.stringify([]))}}catch(k){console.error("Error fetching Sched info:",k),i(k)}finally{r(!1)}},E=L=>{p.current.forEach(k=>{k&&k.classList.remove("active")}),p.current[L]&&(p.current[L].classList.add("active"),n[L]&&n[L].fulldate&&I(n[L].fulldate),c(L))},A=()=>{o(!a)};return D.useEffect(()=>{o(!1),l!==null&&m.current&&m.current.slideTo(l)},[l]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-full mt-[60px] max-[480px]:mt-[40px]",children:x.jsxs("div",{className:"flex items-center justify-between max-[570px]:flex-col max-[570px]:items-start max-[570px]:gap-y-2",children:[x.jsx("div",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px]",children:"Estimated Schedule"}),x.jsxs("p",{className:"leading-[28px] px-[10px] bg-white text-black rounded-full my-[6px] text-[16px] font-bold max-[478px]:text-[12px] max-[275px]:text-[10px]",children:["(",b,") ",f.toLocaleDateString()," ",f.toLocaleTimeString()]})]})}),x.jsx("div",{className:"w-full overflow-x-scroll space-x-4 scrollbar-hide pt-10 px-6 max-[480px]:px-4 max-[478px]:pt-4",children:x.jsxs("div",{className:"relative w-full",children:[x.jsx(gc,{slidesPerView:3,spaceBetween:2,breakpoints:{250:{slidesPerView:3,spaceBetween:10},640:{slidesPerView:4,spaceBetween:10},768:{slidesPerView:5,spaceBetween:10},1024:{slidesPerView:7,spaceBetween:10},1300:{slidesPerView:7,spaceBetween:15}},modules:[_h,Ph],navigation:{nextEl:".next",prevEl:".prev"},onSwiper:L=>m.current=L,children:n&&n.map((L,k)=>x.jsx(xc,{children:x.jsxs("div",{ref:R=>p.current[k]=R,onClick:()=>E(k),className:`h-[70px] flex flex-col justify-center items-center w-full text-center rounded-xl shadow-lg cursor-pointer ${l===k?"bg-[#ffbade] text-black":"bg-white bg-opacity-5 text-[#ffffff] hover:bg-[#373646] transition-all duration-300 ease-in-out"}`,children:[x.jsx("div",{className:"text-[18px] font-bold max-[400px]:text-[14px] max-[350px]:text-[12px]",children:L.dayname}),x.jsxs("div",{className:`text-[14px] max-[400px]:text-[12px] ${l===k?"text-black":"text-gray-400"} max-[350px]:text-[10px]`,children:[L.monthName," ",L.day]})]})},k))}),x.jsx("button",{className:"next absolute top-1/2 right-[-15px] transform -translate-y-1/2 flex justify-center items-center cursor-pointer",children:x.jsx(ys,{className:"text-[12px]"})}),x.jsx("button",{className:"prev absolute top-1/2 left-[-15px] transform -translate-y-1/2 flex justify-center items-center cursor-pointer",children:x.jsx(Ec,{className:"text-[12px]"})})]})}),t?x.jsx("div",{className:"w-full h-[70px] flex justify-center items-center",children:x.jsx(si,{})}):u?u.length===0?x.jsx("div",{className:"w-full h-[70px] flex justify-center items-center mt-5 text-xl",children:"No data to display"}):s?x.jsx("div",{className:"w-full h-[70px] flex justify-center items-center mt-5 text-xl",children:"Something went wrong"}):x.jsxs("div",{className:"flex flex-col mt-5 items-start",children:[(a?u:u.slice(0,7)).map((L,k)=>x.jsxs(Ee,{to:`/${L.id}`,className:"w-full flex justify-between py-4 border-[#FFFFFF0D] border-b-[1px] group cursor-pointer max-[325px]:py-2",children:[x.jsxs("div",{className:"flex items-center max-w-[500px] gap-x-7 max-[400px]:gap-x-2",children:[x.jsx("div",{className:`text-lg font-semibold text-[#ffffff59] group-hover:text-[#ffbade] transition-all duration-300 ease-in-out max-[600px]:text-[14px]
          max-[275px]:text-[12px]`,children:L.time||"N/A"}),x.jsx("h3",{className:`text-[17px] font-semibold line-clamp-1 group-hover:text-[#ffbade] transition-all duration-300 ease-in-out max-[600px]:text-[14px]
          max-[275px]:text-[12px]`,children:L.title||"N/A"})]}),x.jsxs("button",{className:"max-w-[150px] flex items-center py-1 px-4 rounded-lg gap-x-2 group-hover:bg-[#ffbade] transition-all duration-300 ease-in-out",children:[x.jsx(oe,{icon:hs,className:"mt-[1px] text-[10px] max-[320px]:text-[8px] group-hover:text-black transition-all duration-300 ease-in-out"}),x.jsxs("p",{className:"text-[14px] text-white group-hover:text-black transition-all duration-300 ease-in-out max-[275px]:text-[12px]",children:["Episode ",L.episode_no||"N/A"]})]})]},k)),u.length>7&&x.jsx("button",{onClick:A,className:"text-white py-4 hover:text-[#ffbade] font-semibold transition-all duration-300 ease-in-out max-sm:text-[13px]",children:a?"Show Less":"Show More"})]}):x.jsx("div",{className:"w-full h-[70px] flex justify-center items-center mt-5 text-xl",children:"No data to display"})]})};function H3(){const{homeInfo:n,homeInfoLoading:e,error:t}=pi();return e?x.jsx(Da,{type:"home"}):t?x.jsx(Gt,{}):n?x.jsx(x.Fragment,{children:x.jsxs("div",{className:"px-4 w-full max-[1200px]:px-0",children:[x.jsx(Kk,{spotlights:n.spotlights}),x.jsx(Yk,{trending:n.trending}),x.jsxs("div",{className:"mt-10 flex gap-6 max-[1200px]:px-4 max-[1200px]:grid max-[1200px]:grid-cols-2 max-[1200px]:mt-12 max-[1200px]:gap-y-10 max-[680px]:grid-cols-1",children:[x.jsx(no,{label:"Top Airing",data:n.top_airing,path:"top-airing"}),x.jsx(no,{label:"Most Popular",data:n.most_popular,path:"most-popular"}),x.jsx(no,{label:"Most Favorite",data:n.most_favorite,path:"most-favorite"}),x.jsx(no,{label:"Latest Completed",data:n.latest_completed,path:"completed"})]}),x.jsxs("div",{className:"w-full grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex flex-col max-[1200px]:px-4",children:[x.jsxs("div",{children:[x.jsx(kn,{label:"Latest Episode",data:n.latest_episode,className:"mt-[60px]",path:"recently-updated",limit:12}),x.jsx(kn,{label:`New On ${St}`,data:n.recently_added,className:"mt-[60px]",path:"recently-added",limit:12}),x.jsx(z3,{}),x.jsx(kn,{label:"Top Upcoming",data:n.top_upcoming,className:"mt-[30px]",path:"top-upcoming",limit:12})]}),x.jsxs("div",{className:"w-full mt-[60px]",children:[x.jsx(Ac,{data:n.genres}),x.jsx(Kh,{data:n.topten,className:"mt-12"})]})]})]})}):x.jsx(Gt,{error:"404"})}async function V1(n,e=!1){const t="https://zenime-api--nu.vercel.app/api";try{if(e){const r=await ve.get(`${t}/random/id`);return(await ve.get(`${t}/info?id=${r.data.results}`)).data.results}else return(await ve.get(`${t}/info?id=${n}`)).data.results}catch(r){return console.error("Error fetching anime info:",r),r}}function G3({data:n,label:e,className:t,limit:r}){const{language:s}=un(),i=gt(),[a,o]=D.useState(!1),[l,c]=D.useState(null),u=(y,S)=>{const b=setTimeout(()=>{m(y.id+S)},400);c(b)},d=()=>{clearTimeout(l),m(null)},f=()=>{o(y=>!y)},h=r?n.slice(0,r):a?n:n.slice(0,6),[p,m]=D.useState(null),{tooltipPosition:g,tooltipHorizontalPosition:v,cardRefs:w}=Tc(p,n);return x.jsxs("div",{className:`flex flex-col space-y-6 ${t}`,children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade]",children:e}),x.jsxs("div",{className:"flex flex-col space-y-4 bg-[#2B2A3C] p-4 pt-8",children:[n&&h.map((y,S)=>{var b,T,I;return x.jsx("div",{className:"flex items-center gap-x-4",ref:E=>w.current[S]=E,children:x.jsxs("div",{style:{borderBottom:S+1<h.length?"1px solid rgba(255, 255, 255, .075)":"none"},className:"flex pb-4 relative container items-center",children:[p===y.id+S&&window.innerWidth>1024&&x.jsx("div",{className:`absolute ${g} ${v} ${g==="top-1/2"?"translate-y-[50px]":"translate-y-[-50px]"} z-[100000] transform transition-all duration-300 ease-in-out ${p===y.id+S?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:x.jsx(ga,{id:y.id})}),x.jsx("img",{src:y.poster,alt:y.title,className:"flex-shrink-0 w-[60px] h-[75px] rounded-md object-cover cursor-pointer",onClick:()=>i(`/watch/${y.id}`),onMouseEnter:()=>u(y,S),onMouseLeave:d}),x.jsxs("div",{className:"flex flex-col ml-4 space-y-2",children:[x.jsx(Ee,{to:`/${y.id}`,className:"text-[1em] font-[500] hover:cursor-pointer hover:text-[#ffbade] transform transition-all ease-out line-clamp-1 max-[478px]:line-clamp-2 max-[478px]:text-[14px]",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:s==="EN"?y.title:y.japanese_title}),x.jsxs("div",{className:"flex flex-wrap items-center w-fit space-x-1 max-[320px]:gap-y-2",children:[((b=y.tvInfo)==null?void 0:b.sub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B0E3AF] rounded-[4px] px-[4px] text-black py-[2px]",children:[x.jsx(oe,{icon:Dn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:y.tvInfo.sub})]}),((T=y.tvInfo)==null?void 0:T.dub)&&x.jsxs("div",{className:"flex space-x-1 justify-center items-center bg-[#B9E7FF] rounded-[4px] px-[8px] text-black py-[2px]",children:[x.jsx(oe,{icon:Nn,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px] font-bold",children:y.tvInfo.dub})]}),((I=y.tvInfo)==null?void 0:I.showType)&&x.jsxs("div",{className:"flex items-center gap-x-2",children:[x.jsx("div",{className:"dot ml-[4px]"}),x.jsx("p",{className:"text-[15px] font-light",children:y.tvInfo.showType})]})]})]})]})},S)}),!r&&n.length>6&&x.jsx("button",{className:"w-full bg-[#555462d3] py-3 mt-4 hover:bg-[#555462] rounded-md font-bold transform transition-all ease-out",onClick:f,children:a?"Show less":"Show more"})]})]})}const xa=be.memo(G3);async function V3(n,e){const t="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${t}/character/list/${n}?page=${e}`)).data.results}catch(r){return console.error("Error fetching anime info:",r),r}}function W3(){return x.jsx("div",{className:"w-full h-fit grid grid-cols-2 gap-4 overflow-y-hidden max-sm:gap-2 max-md:h-[400px] max-md:flex max-md:flex-col",children:[...Array(10)].map((n,e)=>x.jsx("div",{className:"h-[80px] p-4 rounded-md bg-[#444445]",children:x.jsxs("div",{className:"flex h-full items-center gap-x-2",children:[x.jsx(se,{className:"w-[45px] h-[45px] rounded-full max-sm:w-[30px] max-sm:h-[30px]"}),x.jsxs("div",{className:"flex flex-col gap-y-1",children:[x.jsx(se,{className:"h-[10px] w-[100px] rounded-md max-[300px]:w-[50px] max-[300px]:h-[8px]"}),x.jsx(se,{className:"h-[10px] w-[70px] rounded-md max-[300px]:w-[20px] max-[300px]:h-[8px]"})]})]})},e))})}function W1(n){const e=()=>window.innerWidth-document.documentElement.clientWidth,t=document.body;if(n){const r=e();t.style.paddingRight=`${r}px`,t.classList.add("overflow-y-hidden");const s=document.createElement("style");s.id="hide-scrollbar",s.innerHTML="::-webkit-scrollbar { display: none; }",document.head.appendChild(s)}else{t.style.paddingRight="0",t.classList.remove("overflow-y-hidden");const r=document.getElementById("hide-scrollbar");r&&r.remove()}}function K1(){const n=document.body;n.style.paddingRight="0",n.classList.remove("overflow-y-hidden");const e=document.getElementById("hide-scrollbar");e&&e.remove()}function Pa({page:n,totalPages:e,handlePageChange:t,start:r=!1,style:s}){const i=()=>{const a=[];if(e===1)return null;if(e<=3)for(let o=1;o<=e;o++)a.push(o);else n===1?a.push(1,2,3):n===2?a.push(1,2,3,4):n===e?a.push(e-2,e-1,e):n===e-1?a.push(e-3,e-2,e-1,e):a.push(n-2,n-1,n,n+1,n+2);return a.map(o=>x.jsx("button",{onClick:()=>t(o),className:`w-[40px] text-[15px] mx-1 flex justify-center items-center p-2 rounded-full font-bold ${n===o?"bg-[#ffbade] text-[#2B2A3C] cursor-default":"bg-[#2B2A3C]  text-[#999] hover:text-[#ffbade]"} ${r?"bg-[#353537]":"bg-[#2B2A3C]"} `,children:o},o))};return x.jsx("div",{className:`w-full flex ${r?"justify-start":"justify-center"} items-center mt-12 overflow-hidden`,style:s,children:x.jsxs("div",{className:"flex justify-center mt-4 w-fit",children:[n>1&&e>2&&x.jsx("button",{onClick:()=>t(1),className:`w-[40px] mx-1 p-2 ${r?"bg-[#353537]":"bg-[#2B2A3C]"} rounded-full text-[#999] text-[8px] hover:text-[#ffbade]`,children:x.jsx(oe,{icon:Mk})}),n>1&&x.jsx("button",{onClick:()=>{n>0&&t(n-1)},className:`w-[40px] mx-1 p-2 ${r?"bg-[#353537]":"bg-[#2B2A3C]"} rounded-full text-[#999] text-[8px] hover:text-[#ffbade]`,children:x.jsx(oe,{icon:Pk})}),i(),n<e&&x.jsx("button",{onClick:()=>{n<e&&t(n+1)},className:`w-[40px] mx-1 p-2 ${r?"bg-[#353537]":"bg-[#2B2A3C]"} rounded-full text-[#999] text-[8px] hover:text-[#ffbade]`,children:x.jsx(oe,{icon:_k})}),n<e&&e>2&&x.jsx("button",{onClick:()=>t(e),className:`w-[40px] mx-1 p-2 ${r?"bg-[#353537]":"bg-[#2B2A3C]"} rounded-full text-[#999] text-[8px] hover:text-[#ffbade]`,children:x.jsx(oe,{icon:Ik})})]})})}function K3({id:n,isOpen:e,onClose:t}){const[r,s]=D.useState(!0),[i,a]=D.useState(1),[o,l]=D.useState(1),[c,u]=D.useState(null),[d,f]=D.useState([]),h=gt();return D.useEffect(()=>(W1(e),()=>{K1()}),[e]),D.useEffect(()=>{(async()=>{s(!0);try{const m=await V3(n,i);f(m.data),l(m.totalPages),s(!1)}catch(m){u(m),console.error("Error fetching category info:",m)}})()},[i]),c?(h("/error-page"),x.jsx(Gt,{})):d?x.jsx("div",{className:"fixed top-0 left-0 w-screen h-screen overflow-y-auto bg-black/80 z-50 flex justify-center py-10  max-[575px]:py-3",style:{zIndex:1e6,pointerEvents:"auto"},children:x.jsxs("div",{className:`w-[920px] h-fit flex flex-col relative backdrop-blur-[10px] rounded-lg p-6 bg-white/10 ${r?"h-fit":""} max-[1000px]:w-[80vw] max-md:w-[90vw] max-[480px]:p-3`,style:{pointerEvents:"auto"},children:[!r&&x.jsx("h2",{className:"text-2xl font-bold col-span-2 max-[480px]:text-lg",children:"Characters & Voice Actors"}),r?x.jsx(W3,{}):x.jsx("div",{className:"w-full grid grid-cols-2 gap-4 mt-5 max-[1000px]:grid-cols-1",children:d.map((p,m)=>{var g;return x.jsxs("div",{className:"flex p-4 items-center justify-between py-2 bg-[#444445] rounded-lg h-[80px] max-[480px]:p-1 max-[480px]:bg-transparent max-[480px]:rounded-none max-[480px]:border-b-[1px] border-dotted max-[480px]:h-[60px] max-[480px]:pb-4",children:[x.jsxs("div",{className:"flex gap-x-2 items-center w-[50%] overflow-hidden",children:[x.jsx("img",{src:p.character.poster,className:"w-[45px] h-[45px] rounded-full flex-shrink-0 object-cover hover:cursor-pointer max-[480px]:w-[30px] max-[480px]:h-[30px]",loading:"lazy",onError:v=>{v.target.src="https://i.postimg.cc/HnHKvHpz/no-avatar.jpg"}}),x.jsxs("div",{className:"flex flex-col text-left gap-y-1 w-full",children:[p.character.name&&x.jsx("h1",{className:"text-[13px] font-semibold max-[480px]:text-[11px]",children:p.character.name}),p.character.cast&&x.jsx("p",{className:"text-[12px] font-light max-[480px]:text-[10px]",children:p.character.cast})]})]}),p.voiceActors&&p.voiceActors.length>0&&(p.voiceActors.length>1?x.jsx("div",{className:"flex flex-wrap gap-x-[4px] items-center justify-end w-[50%] max-sm:flex-nowrap max-sm:overflow-auto max-[350px]:justify-start max-sm:py-3",children:p.voiceActors.map((v,w)=>x.jsx("img",{src:v.poster,className:"w-[41px] h-[41px] opacity-70 cursor-pointer rounded-full flex-shrink-0 object-cover grayscale hover:grayscale-0 hover:opacity-100 max-[480px]:w-[30px] max-[480px]:h-[30px] transition-all duration-300 ease-in-out",title:v.name,style:{border:"4px solid rgba(105, 108, 117, 0.8)"},onError:y=>{y.target.src="https://i.postimg.cc/HnHKvHpz/no-avatar.jpg"}},w))}):x.jsxs("div",{className:"flex items-center justify-end gap-x-2 w-[50%] overflow-hidden max-[480px]:flex-wrap max-[480px]:flex-col-reverse max-[480px]:items-end max-[480px]:gap-y-1",children:[((g=p==null?void 0:p.voiceActors[0])==null?void 0:g.name)&&x.jsx("p",{className:"text-right text-[13px] max-[480px]:text-[11px]",children:p.voiceActors[0].name}),x.jsx("img",{src:p.voiceActors[0].poster,alt:"",title:p.voiceActors.name,loading:"lazy",className:"w-[45px] h-[45px] rounded-full opacity-70 flex-shrink-0 object-cover grayscale hover:grayscale-0 hover:opacity-100 max-[480px]:w-[30px] max-[480px]:h-[30px] transition-all duration-300 ease-in-out",onError:v=>{v.target.src="https://i.postimg.cc/HnHKvHpz/no-avatar.jpg"}})]}))]},m)})}),x.jsx("div",{className:"bg-white w-[30px] h-[30px] p-2 rounded-full text-3xl absolute z-[1000] top-[-14px] right-[-14px] hover:text-[#FFBADE] cursor-pointer transform transition-all ease-in-out duration-300 flex items-center justify-center hover:bg-[#ffbade] max-md:top-0 max-md:right-0 max-md:rounded-none max-md:rounded-bl-lg max-md:rounded-tr-lg",onClick:t,children:x.jsx("button",{className:"text-black mb-[6px] font-semibold",children:""})}),x.jsx(Pa,{page:i,totalPages:o,handlePageChange:a,start:!0,style:{marginTop:"10px"}})]})}):(h("/404-not-found-page"),null)}function Y1({animeInfo:n,className:e}){const[t,r]=D.useState(!1);return x.jsxs("div",{className:`w-full mt-8 flex flex-col gap-y-4 ${e}`,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px] capitalize",children:"Characters & Voice Actors"}),x.jsxs("button",{className:"flex w-fit items-baseline h-fit rounded-3xl gap-x-1 group",children:[x.jsx("p",{className:"text-white text-[12px] font-semibold h-fit leading-0",onClick:()=>{r(!0)},children:"View more"}),x.jsx(ys,{className:"text-white text-[10px]"})]})]}),x.jsx("div",{className:"w-full grid grid-cols-3 max-[1024px]:grid-cols-2 max-[758px]:grid-cols-1 gap-4",children:n.charactersVoiceActors.slice(0,6).map((s,i)=>x.jsxs("div",{className:"flex justify-between items-center px-3 py-4 rounded-md bg-[#373646]",children:[s.character&&x.jsx("div",{className:"w-[50%] float-left overflow-hidden max-[350px]:w-[45%]",children:x.jsxs("div",{className:"w-full flex gap-x-3",children:[s.character.poster&&x.jsx("img",{src:s.character.poster,title:s.character.name||"Character",alt:s.character.name||"Character",onError:a=>{a.target.src="https://i.postimg.cc/HnHKvHpz/no-avatar.jpg"},className:"w-[45px] h-[45px] flex-shrink-0 rounded-full object-cover",loading:"lazy"}),x.jsxs("div",{className:"flex justify-center flex-col",children:[s.character.name&&x.jsx("h4",{className:"text-[13px] text-left leading-[1.3em] font-[400] mb-0 overflow-hidden -webkit-box -webkit-line-clamp-2 -webkit-box-orient-vertical",children:s.character.name}),s.character.cast&&x.jsx("p",{className:"text-[11px] mt-[3px]",children:s.character.cast})]})]})}),s.voiceActors.length>0&&s.voiceActors[0]&&x.jsx("div",{className:"w-[50%] float-right overflow-hidden max-[350px]:w-[45%]",children:x.jsxs("div",{className:"w-full flex justify-end gap-x-2",children:[x.jsx("div",{className:"flex flex-col justify-center ",children:s.voiceActors[0].name&&x.jsx("span",{className:"text-[13px] text-right leading-[1.3em] font-[400] mb-0 overflow-hidden -webkit-box -webkit-line-clamp-2 -webkit-box-orient-vertical w-fit",children:s.voiceActors[0].name})}),s.voiceActors[0].poster&&x.jsx("img",{src:s.voiceActors[0].poster,title:s.voiceActors[0].name||"Voice Actor",alt:s.voiceActors[0].name||"Voice Actor",loading:"lazy",onError:a=>{a.target.src="https://i.postimg.cc/HnHKvHpz/no-avatar.jpg"},className:"w-[45px] h-[45px] rounded-full object-cover grayscale hover:grayscale-0 hover:cursor-pointer flex-shrink-0 transition-all duration-300 ease-in-out"})]})})]},i))}),t&&x.jsx(K3,{id:n.id,isOpen:t,onClose:()=>r(!1)})]})}function Pg({label:n,value:e,isProducer:t=!0}){return e&&x.jsxs("div",{className:"text-[14px] font-bold",children:[`${n}: `,x.jsx("span",{className:"font-light",children:Array.isArray(e)?e.map((r,s)=>t?x.jsxs(Ee,{to:`/producer/${r.replace(/[&'"^%$#@!()+=<>:;,.?/\\|{}[\]`~*_]/g,"").split(" ").join("-").replace(/-+/g,"-")}`,className:"cursor-pointer hover:text-[#ffbade]",children:[r,s<e.length-1&&", "]},s):x.jsx("span",{className:"cursor-pointer",children:r},s)):t?x.jsx(Ee,{to:`/producer/${e.replace(/[&'"^%$#@!()+=<>:;,.?/\\|{}[\]`~*_]/g,"").split(" ").join("-").replace(/-+/g,"-")}`,className:"cursor-pointer hover:text-[#ffbade]",children:e}):x.jsx("span",{className:"cursor-pointer",children:e})})]})}function Y3({bgColor:n,index:e,icon:t,text:r}){return x.jsxs("div",{className:`flex space-x-1 justify-center items-center px-[4px] py-[1px] text-black font-bold text-[13px] ${e===0?"rounded-l-[4px]":"rounded-none"}`,style:{backgroundColor:n},children:[t&&x.jsx(oe,{icon:t,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px]",children:r})]})}function _g({random:n=!1}){var T,I,E,A,L,k,R,N;const{language:e}=un(),{id:t}=xl(),r=n?null:t,[s,i]=D.useState(!1),[a,o]=D.useState(null),[l,c]=D.useState(null),[u,d]=D.useState(!0),[f,h]=D.useState(null),{homeInfo:p}=pi(),{id:m}=xl(),g=gt();if(D.useEffect(()=>{if(r==="404-not-found-page")return console.log("404 got!"),null;(async()=>{d(!0);try{const _=await V1(r,n);c(_==null?void 0:_.seasons),o(_.data)}catch(_){console.error("Error fetching anime info:",_),h(_)}finally{d(!1)}})(),window.scrollTo({top:0,behavior:"smooth"})},[r,n]),D.useEffect(()=>(a&&location.pathname===`/${a.id}`&&(document.title=`Watch ${a.title} English Sub/Dub online Free on ${St}`),()=>{document.title=`${St} | Free anime streaming platform`}),[a]),u)return x.jsx(Da,{type:"animeInfo"});if(f)return x.jsx(Gt,{});if(!a){g("/404-not-found-page");return}const{title:v,japanese_title:w,poster:y,animeInfo:S}=a,b=[{condition:(T=S.tvInfo)==null?void 0:T.rating,bgColor:"#ffffff",text:S.tvInfo.rating},{condition:(I=S.tvInfo)==null?void 0:I.quality,bgColor:"#FFBADE",text:S.tvInfo.quality},{condition:(E=S.tvInfo)==null?void 0:E.sub,icon:Dn,bgColor:"#B0E3AF",text:S.tvInfo.sub},{condition:(A=S.tvInfo)==null?void 0:A.dub,icon:Nn,bgColor:"#B9E7FF",text:S.tvInfo.dub}];return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative grid grid-cols-[minmax(0,75%),minmax(0,25%)] h-fit w-full overflow-hidden text-white mt-[64px] max-[1200px]:flex max-[1200px]:flex-col max-md:mt-[50px]",children:[x.jsx("img",{src:y,alt:`${v} Poster`,className:"absolute inset-0 object-cover w-full h-full filter grayscale blur-lg z-[-900]"}),x.jsxs("div",{className:"flex items-start z-10 px-14 py-[70px] bg-[#252434] bg-opacity-70 gap-x-8 max-[1024px]:px-6 max-[1024px]:py-10 max-[1024px]:gap-x-4 max-[575px]:flex-col max-[575px]:items-center max-[575px]:justify-center",children:[x.jsxs("div",{className:"relative w-[180px] h-[270px] max-[575px]:w-[140px] max-[575px]:h-[200px] flex-shrink-0",children:[x.jsx("img",{src:y,alt:`${v} Poster`,className:"w-full h-full object-cover object-center flex-shrink-0"}),a.adultContent&&x.jsx("div",{className:"text-white px-2 rounded-md bg-[#FF5700] absolute top-2 left-2 flex items-center justify-center text-[14px] font-bold",children:"18+"})]}),x.jsxs("div",{className:"flex flex-col ml-4 gap-y-5 max-[575px]:items-center max-[575px]:justify-center max-[575px]:mt-6 max-[1200px]:ml-0",children:[x.jsxs("ul",{className:"flex gap-x-2 items-center w-fit max-[1200px]:hidden",children:[[["Home",""],[(L=S.tvInfo)==null?void 0:L.showType,(k=S.tvInfo)==null?void 0:k.showType]].map(([P,_],$)=>x.jsxs("li",{className:"flex gap-x-3 items-center",children:[x.jsx(Ee,{to:`/${_}`,className:"text-white hover:text-[#FFBADE] text-[15px] font-semibold",children:P}),x.jsx("div",{className:"dot mt-[1px] bg-white"})]},$)),x.jsx("p",{className:"font-light text-[15px] text-gray-300 line-clamp-1 max-[575px]:leading-5",children:e==="EN"?v:w})]}),x.jsx("h1",{className:"text-4xl font-semibold max-[1200px]:text-3xl max-[575px]:text-2xl max-[575px]:text-center  max-[575px]:leading-7",children:e==="EN"?v:w}),x.jsxs("div",{className:"flex flex-wrap w-fit gap-x-[2px] mt-3 max-[575px]:mx-auto max-[575px]:mt-0 gap-y-[3px] max-[320px]:justify-center",children:[b.map(({condition:P,icon:_,bgColor:$,text:H},F)=>P&&x.jsx(Y3,{index:F,bgColor:$,icon:_,text:H},F)),x.jsx("div",{className:"flex w-fit items-center ml-1",children:[(R=S.tvInfo)==null?void 0:R.showType,(N=S.tvInfo)==null?void 0:N.duration].map((P,_)=>P&&x.jsxs("div",{className:"px-1 h-fit flex items-center gap-x-2 w-fit",children:[x.jsx("div",{className:"dot mt-[2px]"}),x.jsx("p",{className:"text-[14px]",children:P})]},_))})]}),x.jsxs(Ee,{to:`/watch/${a.id}`,className:"flex gap-x-2 px-6 py-2 bg-[#FFBADE] w-fit text-black items-center rounded-3xl mt-5",children:[x.jsx(oe,{icon:hs,className:"text-[14px] mt-[1px]"}),x.jsx("p",{className:"text-lg font-medium",children:"Watch Now"})]}),(S==null?void 0:S.Overview)&&x.jsx("div",{className:"text-[14px] mt-2 max-[575px]:hidden",children:S.Overview.length>270?x.jsxs(x.Fragment,{children:[s?S.Overview:`${S.Overview.slice(0,270)}...`,x.jsx("span",{className:"text-[13px] font-bold hover:cursor-pointer",onClick:()=>i(!s),children:s?"- Less":"+ More"})]}):S.Overview}),x.jsxs("p",{className:"text-[14px] max-[575px]:hidden",children:[`${St} is the best site to watch `,x.jsx("span",{className:"font-bold",children:v})," SUB online, or you can even watch ",x.jsx("span",{className:"font-bold",children:v})," DUB in HD quality."]}),x.jsxs("div",{className:"flex gap-x-4 items-center mt-4 max-[575px]:w-full max-[575px]:justify-center max-[320px]:hidden",children:[x.jsx("img",{src:"https://i.postimg.cc/d34WWyNQ/share-icon.gif",alt:"Share Anime",className:"w-[60px] h-auto rounded-full max-[1024px]:w-[40px]"}),x.jsxs("div",{className:"flex flex-col w-fit",children:[x.jsx("p",{className:"text-[15px] font-bold text-[#FFBADE]",children:"Share Anime"}),x.jsx("p",{className:"text-[16px] text-white",children:"to your friends"})]})]})]})]}),x.jsx("div",{className:"bg-[#4c4b57c3] flex items-center px-8 max-[1200px]:py-10 max-[1200px]:bg-[#363544e0] max-[575px]:p-4",children:x.jsxs("div",{className:"w-full flex flex-col h-fit gap-y-3",children:[(S==null?void 0:S.Overview)&&x.jsxs("div",{className:"custom-xl:hidden max-h-[150px] overflow-hidden",children:[x.jsx("p",{className:"text-[13px] font-bold",children:"Overview:"}),x.jsx("div",{className:"max-h-[110px] mt-2 overflow-y-scroll",children:x.jsx("p",{className:"text-[14px] font-light",children:S.Overview})})]}),[{label:"Japanese",value:S==null?void 0:S.Japanese},{label:"Synonyms",value:S==null?void 0:S.Synonyms},{label:"Aired",value:S==null?void 0:S.Aired},{label:"Premiered",value:S==null?void 0:S.Premiered},{label:"Duration",value:S==null?void 0:S.Duration},{label:"Status",value:S==null?void 0:S.Status},{label:"MAL Score",value:S==null?void 0:S["MAL Score"]}].map(({label:P,value:_},$)=>x.jsx(Pg,{label:P,value:_,isProducer:!1},$)),(S==null?void 0:S.Genres)&&x.jsxs("div",{className:"flex gap-x-2 py-2 custom-xl:border-t custom-xl:border-b custom-xl:border-white/20 max-[1200px]:border-none",children:[x.jsx("p",{children:"Genres:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:S.Genres.map((P,_)=>x.jsx(Ee,{to:`/genre/${P.split(" ").join("-")}`,className:"text-[14px] font-semibold px-2 py-[1px] border border-gray-400 rounded-2xl hover:text-[#ffbade]",children:P},_))})]}),[{label:"Studios",value:S==null?void 0:S.Studios},{label:"Producers",value:S==null?void 0:S.Producers}].map(({label:P,value:_},$)=>x.jsx(Pg,{label:P,value:_},$)),x.jsxs("p",{className:"text-[14px] mt-4 custom-xl:hidden",children:[`${St} is the best site to watch `,x.jsx("span",{className:"font-bold",children:v})," SUB online, or you can even watch ",x.jsx("span",{className:"font-bold",children:v})," DUB in HD quality."]})]})})]}),x.jsxs("div",{className:"w-full px-4 grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex flex-col",children:[x.jsxs("div",{children:[l.length>0&&x.jsxs("div",{className:"flex flex-col gap-y-7 mt-8",children:[x.jsx("h1",{className:"w-fit text-2xl text-[#ffbade] max-[478px]:text-[18px] font-bold",children:"More Seasons"}),x.jsx("div",{className:"flex flex-wrap gap-4 max-[575px]:grid max-[575px]:grid-cols-3 max-[575px]:gap-3 max-[480px]:grid-cols-2",children:l.map((P,_)=>x.jsxs(Ee,{to:`/${P.id}`,className:`relative w-[20%] h-[60px] rounded-lg overflow-hidden cursor-pointer group ${m===String(P.id)?"border border-[#ffbade]":""} max-[1200px]:w-[140px] max-[575px]:w-full`,children:[x.jsx("p",{className:`text-[13px] text-center font-bold absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full px-2 z-30 line-clamp-2 group-hover:text-[#ffbade] ${m===String(P.id)?"text-[#ffbade]":"text-white"}`,children:P.season}),x.jsx("div",{className:"absolute inset-0 z-10 bg-[url('https://i.postimg.cc/pVGY6RXd/thumb.png')] bg-repeat"}),x.jsx("img",{src:P.season_poster,alt:"",className:"w-full h-full object-cover blur-[3px] opacity-50"})]},_))})]}),(a==null?void 0:a.charactersVoiceActors.length)>0&&x.jsx(Y1,{animeInfo:a}),a.recommended_data.length>0&&x.jsx(kn,{label:"Recommended for you",data:a.recommended_data,limit:a.recommended_data.length,showViewMore:!1,className:"mt-8"})]}),x.jsxs("div",{children:[a.related_data.length>0&&x.jsx(xa,{label:"Related Anime",data:a.related_data,className:"mt-8"}),p&&p.most_popular&&x.jsx(xa,{label:"Most Popular",data:p.most_popular.slice(0,10),className:"mt-[40px]",limit:10})]})]})]})}const Mo="AnimeZia",q3=({isOpen:n,onClose:e})=>{const{language:t,toggleLanguage:r}=un(),s=_n();return D.useEffect(()=>(W1(n),()=>{K1()}),[n]),D.useEffect(()=>{e()},[s]),x.jsxs(x.Fragment,{children:[n&&x.jsx("div",{className:`fixed top-0 left-0 bottom-0 right-0 w-screen h-screen transform transition-all duration-400 ease-in-out ${n?"backdrop-blur-lg":"backdrop-blur-none"}`,onClick:e,style:{zIndex:1e6,background:"rgba(32, 31, 49, .8)"}}),x.jsx("div",{className:`fixed h-full top-0 left-0 z-50 flex transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,style:{zIndex:1000200},children:x.jsxs("div",{className:"bg-white/10 w-[260px] py-8 h-full flex flex-col items-start max-[575px]:w-56 overflow-y-auto sidebar",style:{zIndex:300,borderRight:"1px solid rgba(0, 0, 0, .1)"},children:[x.jsx("div",{className:"px-4 w-full",children:x.jsxs("button",{onClick:e,className:"w-full text-white flex items-baseline h-fit gap-x-1 z-[100] px-3 py-2 bg-[#4f4d6e] rounded-3xl",children:[x.jsx(Ec,{className:"text-sm font-bold"}),x.jsx("p",{children:"Close menu"})]})}),x.jsxs("div",{className:"flex gap-x-7 w-full py-3 justify-center px-auto mt-8 bg-black/10 max-[575px]:gap-x-4 lg:hidden",children:[[{icon:O1,label:"Random"},{icon:P1,label:"Movie"}].map((i,a)=>x.jsxs(Ee,{to:`/${i.label}`,className:"flex flex-col gap-y-1 items-center",children:[x.jsx(oe,{icon:i.icon,className:"text-[#ffbade] text-xl font-bold max-[575px]:text-[15px]"}),x.jsx("p",{className:"text-[15px] max-[575px]:text-[13px]",children:i.label})]},a)),x.jsxs("div",{className:"flex flex-col gap-y-1 items-center w-auto justify-center",children:[x.jsx("div",{className:"flex",children:["EN","JP"].map((i,a)=>x.jsx("button",{onClick:()=>r(i),className:`px-1 py-[1px] text-xs font-bold ${a===0?"rounded-l-[3px]":"rounded-r-[3px]"} ${t===i?"bg-[#ffbade] text-black":"bg-gray-600 text-white"} max-[575px]:text-[9px] max-[575px]:py-0`,children:i},i))}),x.jsx("div",{className:"w-full",children:x.jsx("p",{className:"whitespace-nowrap text-[15px] max-[575px]:text-[13px]",children:"Anime name"})})]})]}),x.jsx("ul",{className:"text-white mt-8 w-full",children:[{name:"Home",path:"/"},{name:"Subbed Anime",path:"/subbed-anime"},{name:"Dubbed Anime",path:"/dubbed-anime"},{name:"Most Popular",path:"/most-popular"},{name:"Movies",path:"/movie"},{name:"TV Series",path:"/tv"},{name:"OVAs",path:"/ova"},{name:"ONAs",path:"/ona"},{name:"Specials",path:"/special"}].map((i,a)=>x.jsx("li",{className:"py-4 w-full font-semibold",style:{borderBottom:"1px solid rgba(255, 255, 255, .08)"},children:x.jsx(Ee,{to:i.path,className:"px-4 hover:text-[#ffbade] hover:cursor-pointer w-fit line-clamp-1",children:i.name})},a))})]})})]})},q1=D.createContext();function X3({children:n}){const[e,t]=D.useState(!1);return x.jsx(q1.Provider,{value:{isSearchVisible:e,setIsSearchVisible:t},children:n})}const Q3=()=>D.useContext(q1),J3=async n=>{const e="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${e}/search/suggest?keyword=${n}`)).data.results}catch(t){return console.error("Error fetching genre info:",t),t}};function X1({keyword:n,className:e}){const[t,r]=D.useState([]),[s,i]=D.useState(!1),[a,o]=D.useState(null),[l,c]=D.useState(!1);return D.useEffect(()=>{(async()=>{if(n){i(!0),c(!1);try{const d=await J3(n);r(d),c(!0)}catch(d){console.error("Error fetching search suggestion info:",d),o(d)}finally{i(!1)}}})()},[n]),x.jsx("div",{className:`bg-[#2d2b44] ${e} flex ${s?"justify-center py-7":"justify-start"} ${t?"justify-start":"p-3"} items-center`,style:{boxShadow:"0 20px 20px rgba(0, 0, 0, .3)"},children:s?x.jsx(si,{}):a&&!t?x.jsx("div",{children:"Error loading suggestions"}):t&&l?x.jsxs("div",{className:"w-full flex flex-col pt-2 overflow-y-auto",children:[t.map((u,d)=>x.jsxs(Ee,{to:`/${u.id}`,className:"group py-2 flex items-start gap-x-3 hover:bg-[#3c3a5e] cursor-pointer px-[10px]",style:{borderBottom:d===t.length-1?"none":"1px dashed rgba(255, 255, 255, .075)"},children:[x.jsx("img",{src:u.imgData,className:"w-[50px] h-[75px] flex-shrink-0 object-cover",alt:"",onError:f=>{f.target.src="https://i.postimg.cc/HnHKvHpz/no-avatar.jpg"}}),x.jsxs("div",{className:"flex flex-col gap-y-[2px]",children:[(u==null?void 0:u.title)&&x.jsx("h1",{className:"line-clamp-1 leading-5 font-bold text-[15px] group-hover:text-[#ffbade]",children:u.title||"N/A"}),(u==null?void 0:u.japanese_title)&&x.jsx("h1",{className:"line-clamp-1 leading-5 text-[13px] font-light text-[#aaaaaa]",children:u.japanese_title||"N/A"}),((u==null?void 0:u.releaseDate)||(u==null?void 0:u.showType)||(u==null?void 0:u.duration))&&x.jsxs("div",{className:"flex gap-x-[5px] items-center w-full justify-start mt-[4px]",children:[x.jsx("p",{className:"leading-5 text-[13px] font-light text-[#aaaaaa]",children:u.releaseDate||"N/A"}),x.jsx("span",{className:"dot"}),x.jsx("p",{className:"leading-5 text-[13px] font-medium group-hover:text-[#ffbade]",children:u.showType||"N/A"}),x.jsx("span",{className:"dot"}),x.jsx("p",{className:"leading-5 text-[13px] font-light text-[#aaaaaa]",children:u.duration||"N/A"})]})]})]},d)),!s&&l&&x.jsx(Ee,{className:"w-full flex py-4 justify-center items-center bg-[#ffbade]",to:`/search?keyword=${encodeURIComponent(n)}`,children:x.jsxs("div",{className:"flex w-fit items-center gap-x-2",children:[x.jsx("p",{className:"text-[17px] font-light text-black",children:"View all results"}),x.jsx(ys,{className:"text-black text-[12px] font-black mt-[2px]"})]})})]}):l?x.jsx("p",{className:"text-[17px]",children:"No results found!"}):null})}const Q1=()=>{const{isSearchVisible:n,setIsSearchVisible:e}=Q3(),[t,r]=D.useState(""),[s,i]=D.useState(!1),[a,o]=D.useState(""),l=D.useRef([]),c=_n();D.useEffect(()=>{const d=setTimeout(()=>{o(t)},500);return()=>{clearTimeout(d)}},[t]),D.useEffect(()=>{e(!1),r(""),o("")},[c,e]),D.useEffect(()=>{const d=f=>{const h=l.current.some(m=>m&&m.contains(f.target)),p=document.activeElement===f.target;!h&&!p&&i(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const u=D.useCallback(d=>{d&&!l.current.includes(d)&&l.current.push(d)},[]);return{isSearchVisible:n,setIsSearchVisible:e,searchValue:t,setSearchValue:r,isFocused:s,setIsFocused:i,debouncedValue:a,suggestionRefs:l,addSuggestionRef:u}};function Z3(){const n=gt(),{setIsSearchVisible:e,searchValue:t,setSearchValue:r,isFocused:s,setIsFocused:i,debouncedValue:a,suggestionRefs:o,addSuggestionRef:l}=Q1(),c=()=>{window.innerWidth<=600&&e(u=>!u),t.trim()&&window.innerWidth>600&&n(`/search?keyword=${encodeURIComponent(t)}`)};return x.jsxs("div",{className:"flex items-center relative w-[380px] max-[600px]:w-fit",children:[x.jsx("input",{type:"text",className:"bg-white px-4 py-2 text-black focus:outline-none w-full max-[600px]:hidden",placeholder:"Search anime...",value:t,onChange:u=>r(u.target.value),onFocus:()=>i(!0),onBlur:()=>{setTimeout(()=>{o.current.some(d=>d&&d.contains(document.activeElement))||i(!1)},100)},onKeyDown:u=>{u.key==="Enter"&&t.trim()&&n(`/search?keyword=${encodeURIComponent(t)}`)}}),x.jsx("button",{className:"bg-white p-2 max-[600px]:bg-transparent focus:outline-none max-[600px]:p-0",onClick:c,children:x.jsx(oe,{icon:Wh,className:"text-lg text-black hover:text-[#ffbade] max-[600px]:text-white max-[600px]:text-2xl max-[575px]:text-xl max-[600px]:mt-[7px]"})}),t.trim()&&s&&x.jsx("div",{ref:l,className:"absolute z-[100000] top-full w-full",children:x.jsx(X1,{keyword:a,className:"w-full"})})]})}function eR(){const n=gt(),{isSearchVisible:e,searchValue:t,setSearchValue:r,isFocused:s,setIsFocused:i,debouncedValue:a,suggestionRefs:o,addSuggestionRef:l}=Q1(),c=()=>{t.trim()&&window.innerWidth<=600&&n(`/search?keyword=${encodeURIComponent(t)}`)};return x.jsx(x.Fragment,{children:e&&x.jsxs("div",{className:"flex w-full mt-2 relative custom-md:hidden ",children:[x.jsx("input",{type:"text",className:"bg-white px-4 py-2 text-black focus:outline-none w-full rounded-l-md",placeholder:"Search anime...",value:t,onChange:u=>r(u.target.value),onFocus:()=>i(!0),onBlur:()=>{setTimeout(()=>{o.current.some(d=>d&&d.contains(document.activeElement))||i(!1)},100)},onKeyDown:u=>{u.key==="Enter"&&c()}}),x.jsx("button",{className:"flex items-center justify-center p-2 bg-white rounded-r-md",onClick:c,children:x.jsx(oe,{icon:Wh,className:"text-black text-lg"})}),t.trim()&&s&&x.jsx("div",{ref:l,className:"absolute z-[100000] top-full w-full",children:x.jsx(X1,{keyword:a,className:"w-full"})})]})})}function tR(){const n=_n(),{language:e,toggleLanguage:t}=un(),[r,s]=D.useState(n.pathname!=="/"),[i,a]=D.useState(!1),[o,l]=D.useState(!1);D.useEffect(()=>{const f=()=>{a(window.scrollY>0)};return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]);const c=()=>{l(!0)},u=()=>{l(!1)},d=()=>{n.pathname==="/random"&&window.location.reload()};return D.useEffect(()=>{s(n.pathname!=="/")},[n.pathname]),x.jsxs(X3,{children:[x.jsxs("nav",{className:`fixed top-0 left-0 w-full h-16 z-[1000000] flex p-4 py-8 items-center justify-between transition-all duration-300 ease-in-out ${r?"bg-[#201F31]":"bg-opacity-0"} ${i?"bg-[#2D2B44] bg-opacity-90 backdrop-blur-md":""} max-[600px]:h-fit max-[600px]:flex-col max-[1200px]:bg-opacity-100 max-[600px]:py-2`,children:[x.jsxs("div",{className:"flex gap-x-6 items-center w-fit max-lg:w-full max-lg:justify-between",children:[x.jsxs("div",{className:"flex gap-x-6 items-center w-fit",children:[x.jsx(oe,{icon:Tk,className:"text-2xl text-white mt-1 cursor-pointer",onClick:c}),x.jsxs(Ee,{to:"/",className:"text-4xl font-bold max-[575px]:text-3xl cursor-pointer",children:[Mo.slice(0,5),x.jsx("span",{className:"text-[#FFBADE]",children:Mo.slice(5,6)}),Mo.slice(6)]})]}),x.jsx(Z3,{})]}),x.jsxs("div",{className:"flex gap-x-7 items-center max-lg:hidden",children:[[{icon:O1,label:"Random",path:"/random"},{icon:P1,label:"Movie",path:"/movie"},{icon:_1,label:"Popular",path:"/most-popular"}].map(f=>x.jsxs(Ee,{to:f.path==="/random"?n.pathname==="/random"?"#":"/random":f.path,onClick:f.path==="/random"?d:void 0,className:"flex flex-col gap-y-1 items-center cursor-pointer",children:[x.jsx(oe,{icon:f.icon,className:"text-[#ffbade] text-xl font-bold"}),x.jsx("p",{className:"text-[15px]",children:f.label})]},f.path)),x.jsxs("div",{className:"flex flex-col gap-y-1 items-center w-auto",children:[x.jsx("div",{className:"flex",children:["EN","JP"].map((f,h)=>x.jsx("button",{onClick:()=>t(f),className:`px-1 py-[1px] text-xs font-bold ${h===0?"rounded-l-[3px]":"rounded-r-[3px]"} ${e===f?"bg-[#ffbade] text-black":"bg-gray-600 text-white"}`,children:f},f))}),x.jsx("div",{className:"w-full",children:x.jsx("p",{className:"whitespace-nowrap text-[15px]",children:"Anime name"})})]})]}),x.jsx(eR,{})]}),x.jsx(q3,{isOpen:o,onClose:u})]})}function nR(){return x.jsxs("footer",{className:"flex flex-col w-full mt-[100px] px-4 max-[500px]:px-0",children:[x.jsx("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, .075)"},className:"w-full text-left max-[500px]:hidden",children:x.jsx("img",{src:"https://raw.githubusercontent.com/warlordsnet/cdnzia/refs/heads/main/images/logo.webp",alt:Mo,className:"w-[200px] h-[100px]"})}),x.jsxs("div",{className:"flex py-5 flex-col w-full space-y-4 max-md:items-center max-[500px]:bg-[#373646]",children:[x.jsxs("div",{className:"flex w-fit items-center space-x-6 max-[500px]:hidden",children:[x.jsx("p",{className:"text-2xl font-bold max-md:text-lg",children:"A-Z LIST"}),x.jsx("p",{style:{borderLeft:"1px solid rgba(255, 255, 255, 0.6)"},className:"text-md font-semibold pl-6",children:"Searching anime order by alphabet name A to Z"})]}),x.jsx("div",{className:"flex gap-x-[7px] flex-wrap justify-start gap-y-2 max-md:justify-start max-[500px]:hidden",children:["All","#","0-9",...Array.from({length:26},(n,e)=>String.fromCharCode(65+e))].map((n,e)=>x.jsx(Ee,{to:`az-list/${n==="All"?"":n}`,className:"text-lg bg-[#373646] px-2 rounded-md font-bold hover:text-black hover:bg-[#FFBADE] hover:cursor-pointer transition-all ease-out",children:n},e))}),x.jsxs("div",{className:"flex flex-col w-full text-left space-y-2 pt-4 max-md:items-center max-[470px]:px-[5px]",children:[x.jsxs("p",{className:"text-[#9B9BA3] text-[16px] max-md:text-center max-md:text-[12px]",children:[St," does not host any files, it merely pulls streams from 3rd party services. Legal issues should be taken up with the file hosts and providers. ",St," is not responsible for any media files shown by the video providers."]}),x.jsxs("p",{className:"text-[#9B9BA3] max-md:text-[14px]",children:[" ",St,". All rights reserved."]})]})]})]})}const J1=async(n,e)=>{const t="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${t}/${n}?page=${e}`)).data.results}catch(r){return console.error("Error fetching genre info:",r),r}};function rR({path:n,label:e}){const[t,r]=cc(),[s,i]=D.useState(null),[a,o]=D.useState(!0),[l,c]=D.useState(null),[u,d]=D.useState(0),f=parseInt(t.get("page"))||1,{homeInfo:h,homeInfoLoading:p}=pi(),m=gt();if(D.useEffect(()=>{(async()=>{o(!0);try{const w=await J1(n,f);i(w.data),d(w.totalPages),o(!1)}catch(w){c(w),console.error("Error fetching category info:",w)}})(),window.scrollTo(0,0)},[n,f]),a)return x.jsx(Da,{type:"category"});if(l)return m("/error-page"),x.jsx(Gt,{});if(!s)return m("/404-not-found-page"),null;const g=v=>{r({page:v})};return x.jsxs("div",{className:"w-full flex flex-col gap-y-4 mt-[64px] max-md:mt-[50px]",children:[x.jsxs("div",{className:"w-full flex gap-x-4 items-center bg-[#191826] p-5 max-[575px]:px-3 max-[320px]:hidden",children:[x.jsx("img",{src:"https://i.postimg.cc/d34WWyNQ/share-icon.gif",alt:"Share Anime",className:"w-[60px] h-auto rounded-full max-[1024px]:w-[40px] max-[575px]:hidden"}),x.jsxs("div",{className:"flex flex-col w-fit",children:[x.jsx("p",{className:"text-[15px] font-bold text-[#FFBADE]",children:"Share Anime"}),x.jsx("p",{className:"text-[16px] text-white",children:"to your friends"})]})]}),s?x.jsxs("div",{className:"w-full px-4 grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex max-[1200px]:flex-col max-[1200px]:gap-y-10",children:[f>u?x.jsxs("p",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px] max-[300px]:leading-6",children:["You came a long way, go back ",x.jsx("br",{className:"max-[300px]:hidden"}),"nothing is here"]}):x.jsxs("div",{children:[s&&s.length>0&&x.jsx(kn,{label:e.split("/").pop(),data:s,showViewMore:!1,className:"mt-0",categoryPage:!0}),x.jsx(Pa,{page:f,totalPages:u,handlePageChange:g})]}),x.jsx("div",{className:"w-full flex flex-col gap-y-10",children:p?x.jsx(nr,{}):x.jsxs(x.Fragment,{children:[h&&h.topten&&x.jsx(Kh,{data:h.topten,className:"mt-0"}),(h==null?void 0:h.genres)&&x.jsx(Ac,{data:h.genres})]})})]}):x.jsx(Gt,{})]})}function sR({path:n}){const[e,t]=cc(),[r,s]=D.useState(null),[i,a]=D.useState(!0),[o,l]=D.useState(null),[c,u]=D.useState(0),d=parseInt(e.get("page"))||1,f=n.split("/").pop()||"";if(D.useEffect(()=>{(async()=>{a(!0);try{const m=await J1(n,d);s(m.data),u(m.totalPages),a(!1)}catch(m){l(m),a(!1),console.error("Error fetching category info:",m)}})(),window.scrollTo(0,0)},[n,d]),i)return x.jsx(Da,{type:"AtoZ"});if(o)return x.jsx(Gt,{});if(!r)return null;const h=p=>{t({page:p})};return x.jsxs("div",{className:"max-w-[1260px] mx-auto px-[15px] flex flex-col mt-[64px] max-md:mt-[50px]",children:[x.jsxs("ul",{className:"flex gap-x-2 mt-[50px] items-center w-fit max-[1200px]:hidden",children:[x.jsxs("li",{className:"flex gap-x-3 items-center",children:[x.jsx(Ee,{to:"/",className:"text-white hover:text-[#FFBADE] text-[17px]",children:"Home"}),x.jsx("div",{className:"dot mt-[1px] bg-white"})]}),x.jsx("li",{className:"font-light",children:"A-Z List"})]}),x.jsxs("div",{className:"flex flex-col gap-y-5 mt-6",children:[x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px]",children:"Sort By Letters"}),x.jsx("div",{className:"flex gap-x-[7px] flex-wrap justify-start gap-y-2 max-md:justify-start",children:["All","#","0-9",...Array.from({length:26},(p,m)=>String.fromCharCode(65+m))].map((p,m)=>{const g=p.toLowerCase()==="all"?"":p==="#"?"other":p,v=f==="az-list"&&p.toLowerCase()==="all"||f==="other"&&p==="#"||f===p.toLowerCase();return x.jsx(Ee,{to:`/az-list/${g}`,className:`text-md bg-[#373646] py-1 px-4 rounded-md font-bold hover:text-black hover:bg-[#FFBADE] hover:cursor-pointer transition-all ease-out ${v?"text-black bg-[#FFBADE]":""}`,children:p},m)})})]}),x.jsx("div",{className:"w-full flex flex-col gap-y-8",children:x.jsxs("div",{children:[r&&r.length>0&&x.jsx(kn,{data:r,limit:r.length,showViewMore:!1,className:"mt-0",cardStyle:"max-[1400px]:h-[35vw]"}),x.jsx(Pa,{page:d,totalPages:c,handlePageChange:h})]})})]})}const iR=["genre/action","genre/adventure","genre/cars","genre/comedy","genre/dementia","genre/demons","genre/drama","genre/ecchi","genre/fantasy","genre/game","genre/harem","genre/historical","genre/horror","genre/isekai","genre/josei","genre/kids","genre/magic","genre/martial-arts","genre/mecha","genre/military","genre/music","genre/mystery","genre/parody","genre/police","genre/psychological","genre/romance","genre/samurai","genre/school","genre/sci-fi","genre/seinen","genre/shoujo","genre/shoujo-ai","genre/shounen","genre/shounen-ai","genre/slice-of-life","genre/space","genre/sports","genre/super-power","genre/supernatural","genre/thriller","genre/vampire","top-airing","most-popular","most-favorite","completed","recently-updated","recently-added","top-upcoming","subbed-anime","dubbed-anime","movie","special","ova","ona","tv"],aR=["az-list","az-list/other","az-list/0-9","az-list/a","az-list/b","az-list/c","az-list/d","az-list/e","az-list/f","az-list/g","az-list/h","az-list/i","az-list/j","az-list/k","az-list/l","az-list/m","az-list/n","az-list/o","az-list/p","az-list/q","az-list/r","az-list/s","az-list/t","az-list/u","az-list/v","az-list/w","az-list/x","az-list/y","az-list/z"],oR=async n=>{const e="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${e}/search?keyword=${n}`)).data.results}catch(t){return console.error("Error fetching genre info:",t),t}};function lR(){const{homeInfo:n,homeInfoLoading:e}=pi(),[t,r]=cc(),s=t.get("keyword"),i=parseInt(t.get("page"),10)||1,[a,o]=D.useState(null),[l,c]=D.useState(0),[u,d]=D.useState(!0),[f,h]=D.useState(null);D.useEffect(()=>{(async()=>{d(!0);try{const g=await oR(s);o(g.data),c(g.totalPage),d(!1)}catch(g){console.error("Error fetching anime info:",g),h(g),d(!1)}})(),window.scrollTo({top:0,behavior:"smooth"})},[s,i]);const p=m=>{r({keyword:s,page:m})};return x.jsxs("div",{className:"w-full px-4 mt-[128px] grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex max-[1200px]:flex-col max-[1200px]:gap-y-10 max-custom-md:mt-[80px] max-[478px]:mt-[60px]",children:[u?x.jsx(qn,{className:"max-[478px]:mt-2"}):i>l?x.jsxs("p",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px] max-[300px]:leading-6",children:["You came a long way, go back ",x.jsx("br",{className:"max-[300px]:hidden"}),"nothing is here"]}):a&&a.length>0?x.jsxs("div",{children:[x.jsx(kn,{label:`Search results for: ${s}`,data:a,showViewMore:!1,className:"mt-0"}),x.jsx(Pa,{page:i,totalPages:l,handlePageChange:p})]}):f?x.jsx("p",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px]",children:"Couldn't get search result please try again"}):x.jsx("h1",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px]",children:`Search results for: ${s}`}),x.jsx("div",{className:"w-full flex flex-col gap-y-10",children:e?x.jsx(nr,{}):x.jsxs(x.Fragment,{children:[(n==null?void 0:n.most_popular)&&x.jsx(xa,{data:n.most_popular,className:"mt-0",label:"Most Popular"}),(n==null?void 0:n.genres)&&x.jsx(Ac,{data:n.genres})]})})]})}async function cR(n,e,t,r){const s="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${s}/stream?id=${n}?ep=${e}&server=${t}&type=${r}`)).data.results}catch(i){return console.error("Error fetching stream info:",i),i}}async function uR(n){const e="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${e}/episodes/${n}`)).data.results}catch(t){return console.error("Error fetching anime info:",t),t}}const dR=async n=>{const e="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${e}/schedule/${n}`)).data.results}catch(t){return console.error("Error fetching next episode schedule:",t),t}};async function fR(n,e){try{return(await ve.get(`https://zenime-api--nu.vercel.app/api/servers/${n}?ep=${e}`)).data.results}catch(t){return console.error(t),t}}const hR=(n,e)=>{const[t,r]=D.useState(null),[s,i]=D.useState(!0),[a,o]=D.useState(null),[l,c]=D.useState(null),[u,d]=D.useState(null),[f,h]=D.useState(!1),[p,m]=D.useState(null),[g,v]=D.useState(null),[w,y]=D.useState(null),[S,b]=D.useState(null),[T,I]=D.useState(!1),[E,A]=D.useState([]),[L,k]=D.useState(null),[R,N]=D.useState(null),[P,_]=D.useState(null),[$,H]=D.useState(e),[F,O]=D.useState(null),[M,V]=D.useState(null),[W,J]=D.useState(!0),[re,pe]=D.useState(null);return D.useEffect(()=>{(async ae=>{try{const Ie=await dR(ae);pe(Ie)}catch(Ie){console.error("Error fetching next episode schedule:",Ie)}})(n)},[n]),D.useEffect(()=>{(async()=>{h(!0);try{const ae=await V1(n,!1);c(ae==null?void 0:ae.data),v(ae==null?void 0:ae.seasons)}catch(ae){console.error("Error fetching anime info:",ae),r(ae.message||"An error occurred.")}finally{h(!1)}})()},[n]),D.useEffect(()=>{(async()=>{try{const Q=await uR(n);d(Q==null?void 0:Q.episodes),m(Q==null?void 0:Q.totalEpisodes)}catch(Q){console.error("Error fetching episodes:",Q),r(Q.message||"An error occurred.")}})()},[n]),D.useEffect(()=>{(async()=>{J(!0);try{const Q=await fR(n,$),ae=Q==null?void 0:Q.filter(we=>we.serverName==="HD-1"||we.serverName==="HD-2");y(ae);const Ie=Q.find(we=>we.type==="sub"&&we.serverName==="HD-1")||Q.find(we=>we.type==="sub"&&we.serverName==="HD-2")||Q.find(we=>we.type==="dub"&&we.serverName==="HD-1")||Q.find(we=>we.type==="dub"&&we.serverName==="HD-2");J(!1),V(Ie==null?void 0:Ie.data_id)}catch(Q){console.error("Error fetching servers:",Q),J(!1),r(Q.message||"An error occurred.")}})()},[n,$]),D.useEffect(()=>{if(!u||!$){O(null);return}const Q=u.find(Ie=>{const we=Ie.id.match(/ep=(\d+)/);return we&&we[1]===$}),ae=Q?Q.episode_no:null;F!==ae&&O(ae)},[$,u,F]),D.useEffect(()=>{(async()=>{var ae,Ie,we,Yt,qt,Xt,le,ge;if(!(!w||!M)){i(!0);try{const Ce=w.find(xe=>xe.data_id===M);if(Ce){const xe=await cR(n,$,Ce.serverName.toLowerCase(),Ce.type.toLowerCase());o(xe),b(((Ie=(ae=xe==null?void 0:xe.streamingLink)==null?void 0:ae.link)==null?void 0:Ie.file)||null),N(((we=xe==null?void 0:xe.streamingLink)==null?void 0:we.intro)||null),_(((Yt=xe==null?void 0:xe.streamingLink)==null?void 0:Yt.outro)||null);const ee=((Xt=(qt=xe==null?void 0:xe.streamingLink)==null?void 0:qt.tracks)==null?void 0:Xt.filter(ze=>ze.kind==="captions").map(({file:ze,label:Qt})=>({file:ze,label:Qt})))||[];A(ee);const On=(ge=(le=xe==null?void 0:xe.streamingLink)==null?void 0:le.tracks)==null?void 0:ge.find(ze=>ze.kind==="thumbnails"&&ze.file);On&&k(On.file)}else r("No server found with the activeServerId.")}catch(Ce){console.error("Error fetching stream info:",Ce),r(Ce.message||"An error occurred.")}finally{i(!1),J(!1)}}})()},[n,$,M,w]),{error:t,buffering:s,serverLoading:W,streamInfo:a,animeInfo:l,episodes:u,nextEpisodeSchedule:re,animeInfoLoading:f,totalEpisodes:p,seasons:g,servers:w,streamUrl:S,isFullOverview:T,setIsFullOverview:I,subtitles:E,thumbnail:L,intro:R,outro:P,episodeId:$,setEpisodeId:H,activeEpisodeNum:F,setActiveEpisodeNum:O,activeServerId:M,setActiveServerId:V}};function pR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Z1={exports:{}};(function(n,e){(function(t){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var f=o.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):c;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var p=s.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(m.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)m.path=h.path,f.params||(m.params=h.params,f.query||(m.query=h.query));else{var g=h.path,v=g.substring(0,g.lastIndexOf("/")+1)+f.path;m.path=o.normalizePath(v)}return m.path===null&&(m.path=u.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(m)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(i,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};n.exports=o})()})(Z1);var qh=Z1.exports;function Og(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Og(Object(t),!0).forEach(function(r){xR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Og(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gR(n){var e=mR(n,"string");return typeof e=="symbol"?e:String(e)}function xR(n,e,t){return e=gR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ve.apply(this,arguments)}const X=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},yR=Number.isSafeInteger||function(n){return typeof n=="number"&&Math.abs(n)<=vR},vR=Number.MAX_SAFE_INTEGER||9007199254740991;let C=function(n){return n.MEDIA_ATTACHING="hlsMediaAttaching",n.MEDIA_ATTACHED="hlsMediaAttached",n.MEDIA_DETACHING="hlsMediaDetaching",n.MEDIA_DETACHED="hlsMediaDetached",n.BUFFER_RESET="hlsBufferReset",n.BUFFER_CODECS="hlsBufferCodecs",n.BUFFER_CREATED="hlsBufferCreated",n.BUFFER_APPENDING="hlsBufferAppending",n.BUFFER_APPENDED="hlsBufferAppended",n.BUFFER_EOS="hlsBufferEos",n.BUFFER_FLUSHING="hlsBufferFlushing",n.BUFFER_FLUSHED="hlsBufferFlushed",n.MANIFEST_LOADING="hlsManifestLoading",n.MANIFEST_LOADED="hlsManifestLoaded",n.MANIFEST_PARSED="hlsManifestParsed",n.LEVEL_SWITCHING="hlsLevelSwitching",n.LEVEL_SWITCHED="hlsLevelSwitched",n.LEVEL_LOADING="hlsLevelLoading",n.LEVEL_LOADED="hlsLevelLoaded",n.LEVEL_UPDATED="hlsLevelUpdated",n.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",n.LEVELS_UPDATED="hlsLevelsUpdated",n.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",n.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",n.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",n.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",n.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",n.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",n.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",n.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",n.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",n.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",n.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",n.CUES_PARSED="hlsCuesParsed",n.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",n.INIT_PTS_FOUND="hlsInitPtsFound",n.FRAG_LOADING="hlsFragLoading",n.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",n.FRAG_LOADED="hlsFragLoaded",n.FRAG_DECRYPTED="hlsFragDecrypted",n.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",n.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",n.FRAG_PARSING_METADATA="hlsFragParsingMetadata",n.FRAG_PARSED="hlsFragParsed",n.FRAG_BUFFERED="hlsFragBuffered",n.FRAG_CHANGED="hlsFragChanged",n.FPS_DROP="hlsFpsDrop",n.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",n.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",n.ERROR="hlsError",n.DESTROYING="hlsDestroying",n.KEY_LOADING="hlsKeyLoading",n.KEY_LOADED="hlsKeyLoaded",n.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",n.BACK_BUFFER_REACHED="hlsBackBufferReached",n.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",n}({}),ie=function(n){return n.NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",n}({}),U=function(n){return n.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",n.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",n.KEY_SYSTEM_NO_SESSION="keySystemNoSession",n.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",n.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",n.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",n.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",n.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",n.MANIFEST_LOAD_ERROR="manifestLoadError",n.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",n.MANIFEST_PARSING_ERROR="manifestParsingError",n.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",n.LEVEL_EMPTY_ERROR="levelEmptyError",n.LEVEL_LOAD_ERROR="levelLoadError",n.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",n.LEVEL_PARSING_ERROR="levelParsingError",n.LEVEL_SWITCH_ERROR="levelSwitchError",n.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",n.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",n.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",n.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",n.FRAG_LOAD_ERROR="fragLoadError",n.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",n.FRAG_DECRYPT_ERROR="fragDecryptError",n.FRAG_PARSING_ERROR="fragParsingError",n.FRAG_GAP="fragGap",n.REMUX_ALLOC_ERROR="remuxAllocError",n.KEY_LOAD_ERROR="keyLoadError",n.KEY_LOAD_TIMEOUT="keyLoadTimeOut",n.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",n.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",n.BUFFER_APPEND_ERROR="bufferAppendError",n.BUFFER_APPENDING_ERROR="bufferAppendingError",n.BUFFER_STALLED_ERROR="bufferStalledError",n.BUFFER_FULL_ERROR="bufferFullError",n.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",n.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",n.INTERNAL_EXCEPTION="internalException",n.INTERNAL_ABORTED="aborted",n.UNKNOWN="unknown",n}({});const Vr=function(){},gf={trace:Vr,debug:Vr,log:Vr,warn:Vr,info:Vr,error:Vr};let Ki=gf;function wR(n){const e=self.console[n];return e?e.bind(self.console,`[${n}] >`):Vr}function bR(n,...e){e.forEach(function(t){Ki[t]=n[t]?n[t].bind(n):wR(t)})}function SR(n,e){if(typeof console=="object"&&n===!0||typeof n=="object"){bR(n,"debug","log","info","warn","error");try{Ki.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)}catch{Ki=gf}}else Ki=gf}const j=Ki,ER=/^(\d+)x(\d+)$/,Mg=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Me{constructor(e){typeof e=="string"&&(e=Me.parseAttrList(e)),Ve(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const r=new Uint8Array(t.length/2);for(let s=0;s<t.length/2;s++)r[s]=parseInt(t.slice(s*2,s*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const r=this[e];return r?parseFloat(r):t}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const t=ER.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t;const r={},s='"';for(Mg.lastIndex=0;(t=Mg.exec(e))!==null;){let i=t[2];i.indexOf(s)===0&&i.lastIndexOf(s)===i.length-1&&(i=i.slice(1,-1));const a=t[1].trim();r[a]=i}return r}}function TR(n){return n!=="ID"&&n!=="CLASS"&&n!=="START-DATE"&&n!=="DURATION"&&n!=="END-DATE"&&n!=="END-ON-NEXT"}function AR(n){return n==="SCTE35-OUT"||n==="SCTE35-IN"}class ew{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const r=t.attr;for(const s in r)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==r[s]){j.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=Ve(new Me({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);X(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(X(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&X(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Lc{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Ae={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class tw{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Ae.AUDIO]:null,[Ae.VIDEO]:null,[Ae.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,t){const r=e.split("@",2);let s;r.length===1?s=(t==null?void 0:t.byteRangeEndOffset)||0:s=parseInt(r[1]),this._byteRange=[s,parseInt(r[0])+s]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=qh.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class vu extends tw{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Lc,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!X(this.programDateTime))return null;const e=X(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),r=t.length;if(r>1||r===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,r,s,i,a=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:t,endPTS:r,startDTS:s,endDTS:i,partial:a};return}l.startPTS=Math.min(l.startPTS,t),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,s),l.endDTS=Math.max(l.endDTS,i)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Ae.AUDIO]=null,e[Ae.VIDEO]=null,e[Ae.AUDIOVIDEO]=null}}class LR extends tw{constructor(e,t,r,s,i){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Lc,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=s;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const CR=10;class IR{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?X(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||CR}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Xh(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function kR(n){const e=xf(n).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function RR(n){const e=function(r,s,i){const a=r[s];r[s]=r[i],r[i]=a};e(n,0,3),e(n,1,2),e(n,4,5),e(n,6,7)}function NR(n){const e=n.split(":");let t=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),s=r[r.length-1].split(",");if(s.length===2){const i=s[0]==="base64",a=s[1];i?(r.splice(-1,1),t=Xh(a)):t=kR(a)}}return t}function xf(n){return Uint8Array.from(unescape(encodeURIComponent(n)),e=>e.charCodeAt(0))}const ii=typeof self<"u"?self:void 0;var Te={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},wt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function wu(n){switch(n){case wt.FAIRPLAY:return Te.FAIRPLAY;case wt.PLAYREADY:return Te.PLAYREADY;case wt.WIDEVINE:return Te.WIDEVINE;case wt.CLEARKEY:return Te.CLEARKEY}}var so={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function bu(n){if(n===so.WIDEVINE)return Te.WIDEVINE;if(n===so.PLAYREADY)return Te.PLAYREADY;if(n===so.CENC||n===so.CLEARKEY)return Te.CLEARKEY}function Su(n){switch(n){case Te.FAIRPLAY:return wt.FAIRPLAY;case Te.PLAYREADY:return wt.PLAYREADY;case Te.WIDEVINE:return wt.WIDEVINE;case Te.CLEARKEY:return wt.CLEARKEY}}function io(n){const{drmSystems:e,widevineLicenseUrl:t}=n,r=e?[Te.FAIRPLAY,Te.WIDEVINE,Te.PLAYREADY,Te.CLEARKEY].filter(s=>!!e[s]):[];return!r[Te.WIDEVINE]&&t&&r.push(Te.WIDEVINE),r}const nw=function(n){return ii!=null&&(n=ii.navigator)!=null&&n.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function DR(n,e,t,r){let s;switch(n){case Te.FAIRPLAY:s=["cenc","sinf"];break;case Te.WIDEVINE:case Te.PLAYREADY:s=["cenc"];break;case Te.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${n}`)}return PR(s,e,t,r)}function PR(n,e,t,r){return[{initDataTypes:n,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(i=>({contentType:`audio/mp4; codecs="${i}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:t.map(i=>({contentType:`video/mp4; codecs="${i}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function rw(n){const e=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),r=t.substring(t.indexOf("<"),t.length),a=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(a){const o=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(o){const l=Xh(o).subarray(0,16);return RR(l),l}}return null}function ns(n,e,t){return Uint8Array.prototype.slice?n.slice(e,t):new Uint8Array(Array.prototype.slice.call(n,e,t))}const Qh=(n,e)=>e+10<=n.length&&n[e]===73&&n[e+1]===68&&n[e+2]===51&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,sw=(n,e)=>e+10<=n.length&&n[e]===51&&n[e+1]===68&&n[e+2]===73&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,ya=(n,e)=>{const t=e;let r=0;for(;Qh(n,e);){r+=10;const s=Cc(n,e+6);r+=s,sw(n,e+10)&&(r+=10),e+=r}if(r>0)return n.subarray(t,t+r)},Cc=(n,e)=>{let t=0;return t=(n[e]&127)<<21,t|=(n[e+1]&127)<<14,t|=(n[e+2]&127)<<7,t|=n[e+3]&127,t},_R=(n,e)=>Qh(n,e)&&Cc(n,e+6)+10<=n.length-e,Jh=n=>{const e=aw(n);for(let t=0;t<e.length;t++){const r=e[t];if(iw(r))return BR(r)}},iw=n=>n&&n.key==="PRIV"&&n.info==="com.apple.streaming.transportStreamTimestamp",OR=n=>{const e=String.fromCharCode(n[0],n[1],n[2],n[3]),t=Cc(n,4),r=10;return{type:e,size:t,data:n.subarray(r,r+t)}},aw=n=>{let e=0;const t=[];for(;Qh(n,e);){const r=Cc(n,e+6);e+=10;const s=e+r;for(;e+8<s;){const i=OR(n.subarray(e)),a=MR(i);a&&t.push(a),e+=i.size+10}sw(n,e)&&(e+=10)}return t},MR=n=>n.type==="PRIV"?FR(n):n.type[0]==="W"?$R(n):jR(n),FR=n=>{if(n.size<2)return;const e=Rn(n.data,!0),t=new Uint8Array(n.data.subarray(e.length+1));return{key:n.type,info:e,data:t.buffer}},jR=n=>{if(n.size<2)return;if(n.type==="TXXX"){let t=1;const r=Rn(n.data.subarray(t),!0);t+=r.length+1;const s=Rn(n.data.subarray(t));return{key:n.type,info:r,data:s}}const e=Rn(n.data.subarray(1));return{key:n.type,data:e}},$R=n=>{if(n.type==="WXXX"){if(n.size<2)return;let t=1;const r=Rn(n.data.subarray(t),!0);t+=r.length+1;const s=Rn(n.data.subarray(t));return{key:n.type,info:r,data:s}}const e=Rn(n.data);return{key:n.type,data:e}},BR=n=>{if(n.data.byteLength===8){const e=new Uint8Array(n.data),t=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,t&&(r+=4772185884e-2),Math.round(r)}},Rn=(n,e=!1)=>{const t=UR();if(t){const c=t.decode(n);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const r=n.length;let s,i,a,o="",l=0;for(;l<r;){if(s=n[l++],s===0&&e)return o;if(s===0||s===3)continue;switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(s);break;case 12:case 13:i=n[l++],o+=String.fromCharCode((s&31)<<6|i&63);break;case 14:i=n[l++],a=n[l++],o+=String.fromCharCode((s&15)<<12|(i&63)<<6|(a&63)<<0);break}}return o};let Eu;function UR(){if(!navigator.userAgent.includes("PlayStation 4"))return!Eu&&typeof self.TextDecoder<"u"&&(Eu=new self.TextDecoder("utf-8")),Eu}const xn={hexDump:function(n){let e="";for(let t=0;t<n.length;t++){let r=n[t].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},Nl=Math.pow(2,32)-1,zR=[].push,ow={video:1,audio:2,id3:3,text:4};function We(n){return String.fromCharCode.apply(null,n)}function lw(n,e){const t=n[e]<<8|n[e+1];return t<0?65536+t:t}function te(n,e){const t=cw(n,e);return t<0?4294967296+t:t}function Fg(n,e){let t=te(n,e);return t*=Math.pow(2,32),t+=te(n,e+4),t}function cw(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}function Tu(n,e,t){n[e]=t>>24,n[e+1]=t>>16&255,n[e+2]=t>>8&255,n[e+3]=t&255}function HR(n){const e=n.byteLength;for(let t=0;t<e;){const r=te(n,t);if(r>8&&n[t+4]===109&&n[t+5]===111&&n[t+6]===111&&n[t+7]===102)return!0;t=r>1?t+r:e}return!1}function ce(n,e){const t=[];if(!e.length)return t;const r=n.byteLength;for(let s=0;s<r;){const i=te(n,s),a=We(n.subarray(s+4,s+8)),o=i>1?s+i:r;if(a===e[0])if(e.length===1)t.push(n.subarray(s+8,o));else{const l=ce(n.subarray(s+8,o),e.slice(1));l.length&&zR.apply(t,l)}s=o}return t}function GR(n){const e=[],t=n[0];let r=8;const s=te(n,r);r+=4;let i=0,a=0;t===0?(i=te(n,r),a=te(n,r+4),r+=8):(i=Fg(n,r),a=Fg(n,r+8),r+=16),r+=2;let o=n.length+a;const l=lw(n,r);r+=2;for(let c=0;c<l;c++){let u=r;const d=te(n,u);u+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return j.warn("SIDX has hierarchical references (not supported)"),null;const p=te(n,u);u+=4,e.push({referenceSize:f,subsegmentDuration:p,info:{duration:p/s,start:o,end:o+f-1}}),o+=f,u+=4,r=u}return{earliestPresentationTime:i,timescale:s,version:t,referencesCount:l,references:e}}function uw(n){const e=[],t=ce(n,["moov","trak"]);for(let s=0;s<t.length;s++){const i=t[s],a=ce(i,["tkhd"])[0];if(a){let o=a[0];const l=te(a,o===0?12:20),c=ce(i,["mdia","mdhd"])[0];if(c){o=c[0];const u=te(c,o===0?12:20),d=ce(i,["mdia","hdlr"])[0];if(d){const f=We(d.subarray(8,12)),h={soun:Ae.AUDIO,vide:Ae.VIDEO}[f];if(h){const p=ce(i,["mdia","minf","stbl","stsd"])[0],m=VR(p);e[l]={timescale:u,type:h},e[h]=et({timescale:u,id:l},m)}}}}}return ce(n,["moov","mvex","trex"]).forEach(s=>{const i=te(s,4),a=e[i];a&&(a.default={duration:te(s,12),flags:te(s,20)})}),e}function VR(n){const e=n.subarray(8),t=e.subarray(86),r=We(e.subarray(4,8));let s=r;const i=r==="enca"||r==="encv";if(i){const o=ce(e,[r])[0].subarray(r==="enca"?28:78);ce(o,["sinf"]).forEach(c=>{const u=ce(c,["schm"])[0];if(u){const d=We(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const f=ce(c,["frma"])[0];f&&(s=We(f))}}})}switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const a=ce(t,["avcC"])[0];s+="."+ao(a[1])+ao(a[2])+ao(a[3]);break}case"mp4a":{const a=ce(e,[r])[0],o=ce(a.subarray(28),["esds"])[0];if(o&&o.length>12){let l=4;if(o[l++]!==3)break;l=Au(o,l),l+=2;const c=o[l++];if(c&128&&(l+=2),c&64&&(l+=o[l++]),o[l++]!==4)break;l=Au(o,l);const u=o[l++];if(u===64)s+="."+ao(u);else break;if(l+=12,o[l++]!==5)break;l=Au(o,l);const d=o[l++];let f=(d&248)>>3;f===31&&(f+=1+((d&7)<<3)+((o[l]&224)>>5)),s+="."+f}break}case"hvc1":case"hev1":{const a=ce(t,["hvcC"])[0],o=a[1],l=["","A","B","C"][o>>6],c=o&31,u=te(a,2),d=(o&32)>>5?"H":"L",f=a[12],h=a.subarray(6,12);s+="."+l+c,s+="."+u.toString(16).toUpperCase(),s+="."+d+f;let p="";for(let m=h.length;m--;){const g=h[m];(g||p)&&(p="."+g.toString(16).toUpperCase()+p)}s+=p;break}case"dvh1":case"dvhe":{const a=ce(t,["dvcC"])[0],o=a[2]>>1&127,l=a[2]<<5&32|a[3]>>3&31;s+="."+pn(o)+"."+pn(l);break}case"vp09":{const a=ce(t,["vpcC"])[0],o=a[4],l=a[5],c=a[6]>>4&15;s+="."+pn(o)+"."+pn(l)+"."+pn(c);break}case"av01":{const a=ce(t,["av1C"])[0],o=a[1]>>>5,l=a[1]&31,c=a[2]>>>7?"H":"M",u=(a[2]&64)>>6,d=(a[2]&32)>>5,f=o===2&&u?d?12:10:u?10:8,h=(a[2]&16)>>4,p=(a[2]&8)>>3,m=(a[2]&4)>>2,g=a[2]&3;s+="."+o+"."+pn(l)+c+"."+pn(f)+"."+h+"."+p+m+g+"."+pn(1)+"."+pn(1)+"."+pn(1)+"."+0;break}}return{codec:s,encrypted:i}}function Au(n,e){const t=e+5;for(;n[e++]&128&&e<t;);return e}function ao(n){return("0"+n.toString(16).toUpperCase()).slice(-2)}function pn(n){return(n<10?"0":"")+n}function WR(n,e){if(!n||!e)return n;const t=e.keyId;return t&&e.isCommonEncryption&&ce(n,["moov","trak"]).forEach(s=>{const a=ce(s,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=ce(a,["enca"]);const l=o.length>0;l||(o=ce(a,["encv"])),o.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);ce(u,["sinf"]).forEach(f=>{const h=dw(f);if(h){const p=h.subarray(8,24);p.some(m=>m!==0)||(j.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${xn.hexDump(p)} -> ${xn.hexDump(t)}`),h.set(t,8))}})})}),n}function dw(n){const e=ce(n,["schm"])[0];if(e){const t=We(e.subarray(4,8));if(t==="cbcs"||t==="cenc")return ce(n,["schi","tenc"])[0]}return null}function KR(n,e){return ce(e,["moof","traf"]).reduce((t,r)=>{const s=ce(r,["tfdt"])[0],i=s[0],a=ce(r,["tfhd"]).reduce((o,l)=>{const c=te(l,4),u=n[c];if(u){let d=te(s,4);if(i===1){if(d===Nl)return j.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;d*=Nl+1,d+=te(s,8)}const f=u.timescale||9e4,h=d/f;if(X(h)&&(o===null||h<o))return h}return o},null);return a!==null&&X(a)&&(t===null||a<t)?a:t},null)}function YR(n,e){let t=0,r=0,s=0;const i=ce(n,["moof","traf"]);for(let a=0;a<i.length;a++){const o=i[a],l=ce(o,["tfhd"])[0],c=te(l,4),u=e[c];if(!u)continue;const d=u.default,f=te(l,0)|(d==null?void 0:d.flags);let h=d==null?void 0:d.duration;f&8&&(f&2?h=te(l,12):h=te(l,8));const p=u.timescale||9e4,m=ce(o,["trun"]);for(let g=0;g<m.length;g++){if(t=qR(m[g]),!t&&h){const v=te(m[g],4);t=h*v}u.type===Ae.VIDEO?r+=t/p:u.type===Ae.AUDIO&&(s+=t/p)}}if(r===0&&s===0){let a=1/0,o=0,l=0;const c=ce(n,["sidx"]);for(let u=0;u<c.length;u++){const d=GR(c[u]);if(d!=null&&d.references){a=Math.min(a,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((h,p)=>h+p.info.duration||0,0);o=Math.max(o,f+d.earliestPresentationTime/d.timescale),l=o-a}}if(l&&X(l))return l}return r||s}function qR(n){const e=te(n,0);let t=8;e&1&&(t+=4),e&4&&(t+=4);let r=0;const s=te(n,4);for(let i=0;i<s;i++){if(e&256){const a=te(n,t);r+=a,t+=4}e&512&&(t+=4),e&1024&&(t+=4),e&2048&&(t+=4)}return r}function XR(n,e,t){ce(e,["moof","traf"]).forEach(r=>{ce(r,["tfhd"]).forEach(s=>{const i=te(s,4),a=n[i];if(!a)return;const o=a.timescale||9e4;ce(r,["tfdt"]).forEach(l=>{const c=l[0],u=t*o;if(u){let d=te(l,4);if(c===0)d-=u,d=Math.max(d,0),Tu(l,4,d);else{d*=Math.pow(2,32),d+=te(l,8),d-=u,d=Math.max(d,0);const f=Math.floor(d/(Nl+1)),h=Math.floor(d%(Nl+1));Tu(l,4,f),Tu(l,8,h)}}})})})}function QR(n){const e={valid:null,remainder:null},t=ce(n,["moof"]);if(t.length<2)return e.remainder=n,e;const r=t[t.length-1];return e.valid=ns(n,0,r.byteOffset-8),e.remainder=ns(n,r.byteOffset-8),e}function Kt(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function jg(n,e){const t=[],r=e.samples,s=e.timescale,i=e.id;let a=!1;return ce(r,["moof"]).map(l=>{const c=l.byteOffset-8;ce(l,["traf"]).map(d=>{const f=ce(d,["tfdt"]).map(h=>{const p=h[0];let m=te(h,4);return p===1&&(m*=Math.pow(2,32),m+=te(h,8)),m/s})[0];return f!==void 0&&(n=f),ce(d,["tfhd"]).map(h=>{const p=te(h,4),m=te(h,0)&16777215,g=(m&1)!==0,v=(m&2)!==0,w=(m&8)!==0;let y=0;const S=(m&16)!==0;let b=0;const T=(m&32)!==0;let I=8;p===i&&(g&&(I+=8),v&&(I+=4),w&&(y=te(h,I),I+=4),S&&(b=te(h,I),I+=4),T&&(I+=4),e.type==="video"&&(a=JR(e.codec)),ce(d,["trun"]).map(E=>{const A=E[0],L=te(E,0)&16777215,k=(L&1)!==0;let R=0;const N=(L&4)!==0,P=(L&256)!==0;let _=0;const $=(L&512)!==0;let H=0;const F=(L&1024)!==0,O=(L&2048)!==0;let M=0;const V=te(E,4);let W=8;k&&(R=te(E,W),W+=4),N&&(W+=4);let J=R+c;for(let re=0;re<V;re++){if(P?(_=te(E,W),W+=4):_=y,$?(H=te(E,W),W+=4):H=b,F&&(W+=4),O&&(A===0?M=te(E,W):M=cw(E,W),W+=4),e.type===Ae.VIDEO){let pe=0;for(;pe<H;){const Q=te(r,J);if(J+=4,ZR(a,r[J])){const ae=r.subarray(J,J+Q);fw(ae,a?2:1,n+M/s,t)}J+=Q,pe+=Q+4}}n+=_/s}}))})})}),t}function JR(n){if(!n)return!1;const e=n.indexOf("."),t=e<0?n:n.substring(0,e);return t==="hvc1"||t==="hev1"||t==="dvh1"||t==="dvhe"}function ZR(n,e){if(n){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function fw(n,e,t,r){const s=hw(n);let i=0;i+=e;let a=0,o=0,l=0;for(;i<s.length;){a=0;do{if(i>=s.length)break;l=s[i++],a+=l}while(l===255);o=0;do{if(i>=s.length)break;l=s[i++],o+=l}while(l===255);const c=s.length-i;let u=i;if(o<c)i+=o;else if(o>c){j.error(`Malformed SEI payload. ${o} is too small, only ${c} bytes left to parse.`);break}if(a===4){if(s[u++]===181){const f=lw(s,u);if(u+=2,f===49){const h=te(s,u);if(u+=4,h===1195456820){const p=s[u++];if(p===3){const m=s[u++],g=31&m,v=64&m,w=v?2+g*3:0,y=new Uint8Array(w);if(v){y[0]=m;for(let S=1;S<w;S++)y[S]=s[u++]}r.push({type:p,payloadType:a,pts:t,bytes:y})}}}}}else if(a===5&&o>16){const d=[];for(let p=0;p<16;p++){const m=s[u++].toString(16);d.push(m.length==1?"0"+m:m),(p===3||p===5||p===7||p===9)&&d.push("-")}const f=o-16,h=new Uint8Array(f);for(let p=0;p<f;p++)h[p]=s[u++];r.push({payloadType:a,pts:t,uuid:d.join(""),userData:Rn(h),userDataBytes:h})}}}function hw(n){const e=n.byteLength,t=[];let r=1;for(;r<e-2;)n[r]===0&&n[r+1]===0&&n[r+2]===3?(t.push(r+2),r+=2):r++;if(t.length===0)return n;const s=e-t.length,i=new Uint8Array(s);let a=0;for(r=0;r<s;a++,r++)a===t[0]&&(a++,t.shift()),i[r]=n[a];return i}function e4(n){const e=n[0];let t="",r="",s=0,i=0,a=0,o=0,l=0,c=0;if(e===0){for(;We(n.subarray(c,c+1))!=="\0";)t+=We(n.subarray(c,c+1)),c+=1;for(t+=We(n.subarray(c,c+1)),c+=1;We(n.subarray(c,c+1))!=="\0";)r+=We(n.subarray(c,c+1)),c+=1;r+=We(n.subarray(c,c+1)),c+=1,s=te(n,12),i=te(n,16),o=te(n,20),l=te(n,24),c=28}else if(e===1){c+=4,s=te(n,c),c+=4;const d=te(n,c);c+=4;const f=te(n,c);for(c+=4,a=2**32*d+f,yR(a)||(a=Number.MAX_SAFE_INTEGER,j.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=te(n,c),c+=4,l=te(n,c),c+=4;We(n.subarray(c,c+1))!=="\0";)t+=We(n.subarray(c,c+1)),c+=1;for(t+=We(n.subarray(c,c+1)),c+=1;We(n.subarray(c,c+1))!=="\0";)r+=We(n.subarray(c,c+1)),c+=1;r+=We(n.subarray(c,c+1)),c+=1}const u=n.subarray(c,n.byteLength);return{schemeIdUri:t,value:r,timeScale:s,presentationTime:a,presentationTimeDelta:i,eventDuration:o,id:l,payload:u}}function t4(n,...e){const t=e.length;let r=8,s=t;for(;s--;)r+=e[s].byteLength;const i=new Uint8Array(r);for(i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(n,4),s=0,r=8;s<t;s++)i.set(e[s],r),r+=e[s].byteLength;return i}function n4(n,e,t){if(n.byteLength!==16)throw new RangeError("Invalid system id");let r,s;r=0,s=new Uint8Array;let i;r>0?(i=new Uint8Array(4),e.length>0&&new DataView(i.buffer).setUint32(0,e.length,!1)):i=new Uint8Array;const a=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(a.buffer).setUint32(0,t.byteLength,!1),t4([112,115,115,104],new Uint8Array([r,0,0,0]),n,i,s,a,t||new Uint8Array)}function r4(n){const e=[];if(n instanceof ArrayBuffer){const t=n.byteLength;let r=0;for(;r+32<t;){const s=new DataView(n,r),i=s4(s);e.push(i),r+=i.size}}return e}function s4(n){const e=n.getUint32(0),t=n.byteOffset,r=n.byteLength;if(r<e)return{offset:t,size:r};if(n.getUint32(4)!==1886614376)return{offset:t,size:e};const i=n.getUint32(8)>>>24;if(i!==0&&i!==1)return{offset:t,size:e};const a=n.buffer,o=xn.hexDump(new Uint8Array(a,t+12,16)),l=n.getUint32(28);let c=null,u=null;if(i===0){if(e-32<l||l<22)return{offset:t,size:e};u=new Uint8Array(a,t+32,l)}else if(i===1){if(!l||r<t+32+l*16+16)return{offset:t,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(a,t+32+d*16,16))}return{version:i,systemId:o,kids:c,data:u,offset:t,size:e}}let oo={};class va{static clearKeyUriToKeyIdMap(){oo={}}constructor(e,t,r,s=[1],i=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=r,this.keyFormatVersions=s,this.iv=i,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case wt.FAIRPLAY:case wt.WIDEVINE:case wt.PLAYREADY:case wt.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&j.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=i4(e);return new va(this.method,this.uri,"identity",this.keyFormatVersions,r)}const t=NR(this.uri);if(t)switch(this.keyFormat){case wt.WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case wt.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=n4(r,null,t),this.keyId=rw(t);break}default:{let r=t.subarray(0,16);if(r.length!==16){const s=new Uint8Array(16);s.set(r,16-r.length),r=s}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=oo[this.uri];if(!r){const s=Object.keys(oo).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,s),oo[this.uri]=r}this.keyId=r}return this}}function i4(n){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=n>>8*(15-t)&255;return e}const pw=/\{\$([a-zA-Z0-9-_]+)\}/g;function $g(n){return pw.test(n)}function yt(n,e,t){if(n.variableList!==null||n.hasVariableRefs)for(let r=t.length;r--;){const s=t[r],i=e[s];i&&(e[s]=yf(n,i))}}function yf(n,e){if(n.variableList!==null||n.hasVariableRefs){const t=n.variableList;return e.replace(pw,r=>{const s=r.substring(2,r.length-1),i=t==null?void 0:t[s];return i===void 0?(n.playlistParsingError||(n.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${s}"`)),r):i})}return e}function Bg(n,e,t){let r=n.variableList;r||(n.variableList=r={});let s,i;if("QUERYPARAM"in e){s=e.QUERYPARAM;try{const a=new self.URL(t).searchParams;if(a.has(s))i=a.get(s);else throw new Error(`"${s}" does not match any query parameter in URI: "${t}"`)}catch(a){n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else s=e.NAME,i=e.VALUE;s in r?n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${s}"`)):r[s]=i||""}function a4(n,e,t){const r=e.IMPORT;if(t&&r in t){let s=n.variableList;s||(n.variableList=s={}),s[r]=t[r]}else n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function ps(n=!0){return typeof self>"u"?void 0:(n||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function o4(n){return typeof self<"u"&&n===self.ManagedMediaSource}const Dl={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function l4(n,e){const t=Dl[e];return!!t&&!!t[n.slice(0,4)]}function Lu(n,e,t=!0){return!n.split(",").some(r=>!mw(r,e,t))}function mw(n,e,t=!0){var r;const s=ps(t);return(r=s==null?void 0:s.isTypeSupported(wa(n,e)))!=null?r:!1}function wa(n,e){return`${e}/mp4;codecs="${n}"`}function Ug(n){if(n){const e=n.substring(0,4);return Dl.video[e]}return 2}function Pl(n){return n.split(",").reduce((e,t)=>{const r=Dl.video[t];return r?(r*2+e)/(e?3:2):(Dl.audio[t]+e)/(e?2:1)},0)}const Cu={};function c4(n,e=!0){if(Cu[n])return Cu[n];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[n];for(let r=0;r<t.length;r++)if(mw(t[r],"audio",e))return Cu[n]=t[r],t[r];return n}const u4=/flac|opus/i;function _l(n,e=!0){return n.replace(u4,t=>c4(t.toLowerCase(),e))}function zg(n,e){return n&&n!=="mp4a"?n:e&&e.split(",")[0]}function d4(n){const e=n.split(",");for(let t=0;t<e.length;t++){const r=e[t].split(".");if(r.length>2){let s=r.shift()+".";s+=parseInt(r.shift()).toString(16),s+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[t]=s}}return e.join(",")}const Hg=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Gg=/#EXT-X-MEDIA:(.*)/g,f4=/^#EXT(?:INF|-X-TARGETDURATION):/m,Vg=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),h4=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Tn{static findGroup(e,t){for(let r=0;r<e.length;r++){const s=e[r];if(s.id===t)return s}}static resolve(e,t){return qh.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return f4.test(e)}static parseMasterPlaylist(e,t){const r=$g(e),s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},i=[];Hg.lastIndex=0;let a;for(;(a=Hg.exec(e))!=null;)if(a[1]){var o;const c=new Me(a[1]);yt(s,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=yf(s,a[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:Tn.resolve(u,t)},f=c.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),p4(c.CODECS,d),(o=d.unknownCodecs)!=null&&o.length||i.push(d),s.levels.push(d)}else if(a[3]){const c=a[3],u=a[4];switch(c){case"SESSION-DATA":{const d=new Me(u);yt(s,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=d["DATA-ID"];f&&(s.sessionData===null&&(s.sessionData={}),s.sessionData[f]=d);break}case"SESSION-KEY":{const d=Wg(u,t,s);d.encrypted&&d.isSupported()?(s.sessionKeys===null&&(s.sessionKeys=[]),s.sessionKeys.push(d)):j.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new Me(u);yt(s,d,["NAME","VALUE","QUERYPARAM"]),Bg(s,d,t)}break}case"CONTENT-STEERING":{const d=new Me(u);yt(s,d,["SERVER-URI","PATHWAY-ID"]),s.contentSteering={uri:Tn.resolve(d["SERVER-URI"],t),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{s.startTimeOffset=Kg(u);break}}}const l=i.length>0&&i.length<s.levels.length;return s.levels=l?i:s.levels,s.levels.length===0&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(e,t,r){let s;const i={},a=r.levels,o={AUDIO:a.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:a.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(Gg.lastIndex=0;(s=Gg.exec(e))!==null;){const c=new Me(s[1]),u=c.TYPE;if(u){const d=o[u],f=i[u]||[];i[u]=f,yt(r,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const h=c.LANGUAGE,p=c["ASSOC-LANGUAGE"],m=c.CHANNELS,g=c.CHARACTERISTICS,v=c["INSTREAM-ID"],w={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||h||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:h,url:c.URI?Tn.resolve(c.URI,t):""};if(p&&(w.assocLang=p),m&&(w.channels=m),g&&(w.characteristics=g),v&&(w.instreamId=v),d!=null&&d.length){const y=Tn.findGroup(d,w.groupId)||d[0];Yg(w,y,"audioCodec"),Yg(w,y,"textCodec")}f.push(w)}}return i}static parseLevelPlaylist(e,t,r,s,i,a){const o=new IR(t),l=o.fragments;let c=null,u=0,d=0,f=0,h=0,p=null,m=new vu(s,t),g,v,w,y=-1,S=!1,b=null;for(Vg.lastIndex=0,o.m3u8=e,o.hasVariableRefs=$g(e);(g=Vg.exec(e))!==null;){S&&(S=!1,m=new vu(s,t),m.start=f,m.sn=u,m.cc=h,m.level=r,c&&(m.initSegment=c,m.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,b&&(m.setByteRange(b),b=null)));const A=g[1];if(A){m.duration=parseFloat(A);const L=(" "+g[2]).slice(1);m.title=L||null,m.tagList.push(L?["INF",A,L]:["INF",A])}else if(g[3]){if(X(m.duration)){m.start=f,w&&Qg(m,w,o),m.sn=u,m.level=r,m.cc=h,l.push(m);const L=(" "+g[3]).slice(1);m.relurl=yf(o,L),qg(m,p),p=m,f+=m.duration,u++,d=0,S=!0}}else if(g[4]){const L=(" "+g[4]).slice(1);p?m.setByteRange(L,p):m.setByteRange(L)}else if(g[5])m.rawProgramDateTime=(" "+g[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),y===-1&&(y=l.length);else{if(g=g[0].match(h4),!g){j.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<g.length&&!(typeof g[v]<"u");v++);const L=(" "+g[v]).slice(1),k=(" "+g[v+1]).slice(1),R=g[v+2]?(" "+g[v+2]).slice(1):"";switch(L){case"PLAYLIST-TYPE":o.type=k.toUpperCase();break;case"MEDIA-SEQUENCE":u=o.startSN=parseInt(k);break;case"SKIP":{const N=new Me(k);yt(o,N,["RECENTLY-REMOVED-DATERANGES"]);const P=N.decimalInteger("SKIPPED-SEGMENTS");if(X(P)){o.skippedSegments=P;for(let $=P;$--;)l.unshift(null);u+=P}const _=N.enumeratedString("RECENTLY-REMOVED-DATERANGES");_&&(o.recentlyRemovedDateranges=_.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt(k),1);break;case"VERSION":o.version=parseInt(k);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":(k||R)&&m.tagList.push(R?[k,R]:[k]);break;case"DISCONTINUITY":h++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([L]);break;case"BITRATE":m.tagList.push([L,k]);break;case"DATERANGE":{const N=new Me(k);yt(o,N,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),yt(o,N,N.clientAttrs);const P=new ew(N,o.dateRanges[N.ID]);P.isValid||o.skippedSegments?o.dateRanges[P.id]=P:j.warn(`Ignoring invalid DATERANGE tag: "${k}"`),m.tagList.push(["EXT-X-DATERANGE",k]);break}case"DEFINE":{{const N=new Me(k);yt(o,N,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in N?a4(o,N,a):Bg(o,N,t)}break}case"DISCONTINUITY-SEQUENCE":h=parseInt(k);break;case"KEY":{const N=Wg(k,t,o);if(N.isSupported()){if(N.method==="NONE"){w=void 0;break}w||(w={}),w[N.keyFormat]&&(w=Ve({},w)),w[N.keyFormat]=N}else j.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${k}"`);break}case"START":o.startTimeOffset=Kg(k);break;case"MAP":{const N=new Me(k);if(yt(o,N,["BYTERANGE","URI"]),m.duration){const P=new vu(s,t);Xg(P,N,r,w),c=P,m.initSegment=c,c.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=c.rawProgramDateTime)}else{const P=m.byteRangeEndOffset;if(P){const _=m.byteRangeStartOffset;b=`${P-_}@${_}`}else b=null;Xg(m,N,r,w),c=m,S=!0}break}case"SERVER-CONTROL":{const N=new Me(k);o.canBlockReload=N.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=N.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&N.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=N.optionalFloat("PART-HOLD-BACK",0),o.holdBack=N.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const N=new Me(k);o.partTarget=N.decimalFloatingPoint("PART-TARGET");break}case"PART":{let N=o.partList;N||(N=o.partList=[]);const P=d>0?N[N.length-1]:void 0,_=d++,$=new Me(k);yt(o,$,["BYTERANGE","URI"]);const H=new LR($,m,t,_,P);N.push(H),m.duration+=H.duration;break}case"PRELOAD-HINT":{const N=new Me(k);yt(o,N,["URI"]),o.preloadHint=N;break}case"RENDITION-REPORT":{const N=new Me(k);yt(o,N,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(N);break}default:j.warn(`line parsed but not handled: ${g}`);break}}}p&&!p.relurl?(l.pop(),f-=p.duration,o.partList&&(o.fragmentHint=p)):o.partList&&(qg(m,p),m.cc=h,o.fragmentHint=m,w&&Qg(m,w,o));const T=l.length,I=l[0],E=l[T-1];if(f+=o.skippedSegments*o.targetduration,f>0&&T&&E){o.averagetargetduration=f/T;const A=E.sn;o.endSN=A!=="initSegment"?A:0,o.live||(E.endList=!0),I&&(o.startCC=I.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(f+=o.fragmentHint.duration),o.totalduration=f,o.endCC=h,y>0&&m4(l,y),o}}function Wg(n,e,t){var r,s;const i=new Me(n);yt(t,i,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=(r=i.METHOD)!=null?r:"",o=i.URI,l=i.hexadecimalInteger("IV"),c=i.KEYFORMATVERSIONS,u=(s=i.KEYFORMAT)!=null?s:"identity";o&&i.IV&&!l&&j.error(`Invalid IV: ${i.IV}`);const d=o?Tn.resolve(o,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new va(a,d,u,f,l)}function Kg(n){const t=new Me(n).decimalFloatingPoint("TIME-OFFSET");return X(t)?t:null}function p4(n,e){let t=(n||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const s=t.filter(i=>l4(i,r));s.length&&(e[`${r}Codec`]=s.join(","),t=t.filter(i=>s.indexOf(i)===-1))}),e.unknownCodecs=t}function Yg(n,e,t){const r=e[t];r&&(n[t]=r)}function m4(n,e){let t=n[e];for(let r=e;r--;){const s=n[r];if(!s)return;s.programDateTime=t.programDateTime-s.duration*1e3,t=s}}function qg(n,e){n.rawProgramDateTime?n.programDateTime=Date.parse(n.rawProgramDateTime):e!=null&&e.programDateTime&&(n.programDateTime=e.endProgramDateTime),X(n.programDateTime)||(n.programDateTime=null,n.rawProgramDateTime=null)}function Xg(n,e,t,r){n.relurl=e.URI,e.BYTERANGE&&n.setByteRange(e.BYTERANGE),n.level=t,n.sn="initSegment",r&&(n.levelkeys=r),n.initSegment=null}function Qg(n,e,t){n.levelkeys=e;const{encryptedFragments:r}=t;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(s=>e[s].isCommonEncryption)&&r.push(n)}var ye={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},ne={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function Jg(n){const{type:e}=n;switch(e){case ye.AUDIO_TRACK:return ne.AUDIO;case ye.SUBTITLE_TRACK:return ne.SUBTITLE;default:return ne.MAIN}}function Iu(n,e){let t=n.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class g4{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.LEVEL_LOADING,this.onLevelLoading,this),e.on(C.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(C.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.LEVEL_LOADING,this.onLevelLoading,this),e.off(C.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(C.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const t=this.hls.config,r=t.pLoader,s=t.loader,i=r||s,a=new i(t);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:r}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:ye.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,t){const{id:r,level:s,pathwayId:i,url:a,deliveryDirectives:o}=t;this.load({id:r,level:s,pathwayId:i,responseType:"text",type:ye.LEVEL,url:a,deliveryDirectives:o})}onAudioTrackLoading(e,t){const{id:r,groupId:s,url:i,deliveryDirectives:a}=t;this.load({id:r,groupId:s,level:null,responseType:"text",type:ye.AUDIO_TRACK,url:i,deliveryDirectives:a})}onSubtitleTrackLoading(e,t){const{id:r,groupId:s,url:i,deliveryDirectives:a}=t;this.load({id:r,groupId:s,level:null,responseType:"text",type:ye.SUBTITLE_TRACK,url:i,deliveryDirectives:a})}load(e){var t;const r=this.hls.config;let s=this.getInternalLoader(e);if(s){const c=s.context;if(c&&c.url===e.url&&c.level===e.level){j.trace("[playlist-loader]: playlist request ongoing");return}j.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}let i;if(e.type===ye.MANIFEST?i=r.manifestLoadPolicy.default:i=Ve({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),X((t=e.deliveryDirectives)==null?void 0:t.part)){let c;if(e.type===ye.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===ye.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===ye.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const f=Math.max(u*3,d*.8)*1e3;i=Ve({},i,{maxTimeToFirstByteMs:Math.min(f,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,i.maxTimeToFirstByteMs)})}}}const a=i.errorRetry||i.timeoutRetry||{},o={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(c,u,d,f)=>{const h=this.getInternalLoader(d);this.resetInternalLoader(d.type);const p=c.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),f||null,u);return}u.parsing.start=performance.now(),Tn.isMediaPlaylist(p)?this.handleTrackOrLevelPlaylist(c,u,d,f||null,h):this.handleMasterPlaylist(c,u,d,f)},onError:(c,u,d,f)=>{this.handleNetworkError(u,d,!1,c,f)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};s.load(e,o,l)}handleMasterPlaylist(e,t,r,s){const i=this.hls,a=e.data,o=Iu(e,r),l=Tn.parseMasterPlaylist(a,o);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,s,t);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:p}=l;this.variableList=p;const{AUDIO:m=[],SUBTITLES:g,"CLOSED-CAPTIONS":v}=Tn.parseMasterPlaylistMedia(a,o,l);m.length&&!m.some(y=>!y.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(j.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Me({}),bitrate:0,url:""})),i.trigger(C.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:g,captions:v,contentSteering:c,url:o,stats:t,networkDetails:s,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:p})}handleTrackOrLevelPlaylist(e,t,r,s,i){const a=this.hls,{id:o,level:l,type:c}=r,u=Iu(e,r),d=0,f=X(l)?l:X(o)?o:0,h=Jg(r),p=Tn.parseLevelPlaylist(e.data,u,f,h,d,this.variableList);if(c===ye.MANIFEST){const m={attrs:new Me({}),bitrate:0,details:p,name:"",url:u};a.trigger(C.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:t,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),r.levelDetails=p,this.handlePlaylistLoaded(p,e,t,r,s,i)}handleManifestParsingError(e,t,r,s,i){this.hls.trigger(C.ERROR,{type:ie.NETWORK_ERROR,details:U.MANIFEST_PARSING_ERROR,fatal:t.type===ye.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:t,networkDetails:s,stats:i})}handleNetworkError(e,t,r=!1,s,i){let a=`A network ${r?"timeout":"error"+(s?" (status "+s.code+")":"")} occurred while loading ${e.type}`;e.type===ye.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===ye.AUDIO_TRACK||e.type===ye.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(a);j.warn(`[playlist-loader]: ${a}`);let l=U.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case ye.MANIFEST:l=r?U.MANIFEST_LOAD_TIMEOUT:U.MANIFEST_LOAD_ERROR,c=!0;break;case ye.LEVEL:l=r?U.LEVEL_LOAD_TIMEOUT:U.LEVEL_LOAD_ERROR,c=!1;break;case ye.AUDIO_TRACK:l=r?U.AUDIO_TRACK_LOAD_TIMEOUT:U.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case ye.SUBTITLE_TRACK:l=r?U.SUBTITLE_TRACK_LOAD_TIMEOUT:U.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:ie.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:o,networkDetails:t,stats:i};if(s){const f=(t==null?void 0:t.url)||e.url;d.response=et({url:f,data:void 0},s)}this.hls.trigger(C.ERROR,d)}handlePlaylistLoaded(e,t,r,s,i,a){const o=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:f}=s,h=Iu(t,s),p=Jg(s),m=typeof s.level=="number"&&p===ne.MAIN?c:void 0;if(!e.fragments.length){const v=new Error("No Segments found in Playlist");o.trigger(C.ERROR,{type:ie.NETWORK_ERROR,details:U.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:t,context:s,level:m,parent:p,networkDetails:i,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const g=e.playlistParsingError;if(g){o.trigger(C.ERROR,{type:ie.NETWORK_ERROR,details:U.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:t,context:s,level:m,parent:p,networkDetails:i,stats:r});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case ye.MANIFEST:case ye.LEVEL:o.trigger(C.LEVEL_LOADED,{details:e,level:m||0,id:u||0,stats:r,networkDetails:i,deliveryDirectives:f});break;case ye.AUDIO_TRACK:o.trigger(C.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:i,deliveryDirectives:f});break;case ye.SUBTITLE_TRACK:o.trigger(C.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:i,deliveryDirectives:f});break}}}function gw(n,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=n,e.dispatchEvent(t)}function xw(n,e){const t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues&&!n.cues.getCueById(e.id))try{if(n.addCue(e),!n.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){j.debug(`[texttrack-utils]: ${r}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,n.addCue(s)}catch(s){j.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${s}`)}}t==="disabled"&&(n.mode=t)}function $s(n){const e=n.mode;if(e==="disabled"&&(n.mode="hidden"),n.cues)for(let t=n.cues.length;t--;)n.removeCue(n.cues[t]);e==="disabled"&&(n.mode=e)}function vf(n,e,t,r){const s=n.mode;if(s==="disabled"&&(n.mode="hidden"),n.cues&&n.cues.length>0){const i=y4(n.cues,e,t);for(let a=0;a<i.length;a++)(!r||r(i[a]))&&n.removeCue(i[a])}s==="disabled"&&(n.mode=s)}function x4(n,e){if(e<n[0].startTime)return 0;const t=n.length-1;if(e>n[t].endTime)return-1;let r=0,s=t;for(;r<=s;){const i=Math.floor((s+r)/2);if(e<n[i].startTime)s=i-1;else if(e>n[i].startTime&&r<t)r=i+1;else return i}return n[r].startTime-e<e-n[s].startTime?r:s}function y4(n,e,t){const r=[],s=x4(n,e);if(s>-1)for(let i=s,a=n.length;i<a;i++){const o=n[i];if(o.startTime>=e&&o.endTime<=t)r.push(o);else if(o.startTime>t)return r}return r}function Fo(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(n[t])}return e}var an={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const v4=.25;function wf(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function Zg(n,e,t,r,s){let i=new n(e,t,"");try{i.value=r,s&&(i.type=s)}catch{i=new n(e,t,JSON.stringify(s?et({type:s},r):r))}return i}const lo=(()=>{const n=wf();try{n&&new n(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function ku(n,e){return n.getTime()/1e3-e}function w4(n){return Uint8Array.from(n.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class b4{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(C.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(C.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&($s(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const r=e[t];if(r.kind==="metadata"&&r.label==="id3")return gw(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:s}}}=this;if(!r&&!s)return;const{samples:i}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=wf();if(a)for(let o=0;o<i.length;o++){const l=i[o].type;if(l===an.emsg&&!r||!s)continue;const c=aw(i[o].data);if(c){const u=i[o].pts;let d=u+i[o].duration;d>lo&&(d=lo),d-u<=0&&(d=u+v4);for(let h=0;h<c.length;h++){const p=c[h];if(!iw(p)){this.updateId3CueEnds(u,l);const m=Zg(a,u,d,p,l);m&&this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,t){var r;const s=(r=this.id3Track)==null?void 0:r.cues;if(s)for(let i=s.length;i--;){const a=s[i];a.type===t&&a.startTime<e&&a.endTime===lo&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:r,type:s}){const{id3Track:i,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=a;if(i&&(o||l)){let c;s==="audio"?c=u=>u.type===an.audioId3&&l:s==="video"?c=u=>u.type===an.emsg&&o:c=u=>u.type===an.audioId3&&l||u.type===an.emsg&&o,vf(i,t,r,c)}}onLevelUpdated(e,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:s}=this,{dateRanges:i}=t,a=Object.keys(i);if(s){const u=Object.keys(r).filter(d=>!a.includes(d));for(let d=u.length;d--;){const f=u[d];Object.keys(r[f].cues).forEach(h=>{s.removeCue(r[f].cues[h])}),delete r[f]}}const o=t.fragments[t.fragments.length-1];if(a.length===0||!X(o==null?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=o.programDateTime/1e3-o.start,c=wf();for(let u=0;u<a.length;u++){const d=a[u],f=i[d],h=ku(f.startDate,l),p=r[d],m=(p==null?void 0:p.cues)||{};let g=(p==null?void 0:p.durationKnown)||!1,v=lo;const w=f.endDate;if(w)v=ku(w,l),g=!0;else if(f.endOnNext&&!g){const S=a.reduce((b,T)=>{if(T!==f.id){const I=i[T];if(I.class===f.class&&I.startDate>f.startDate&&(!b||f.startDate<b.startDate))return I}return b},null);S&&(v=ku(S.startDate,l),g=!0)}const y=Object.keys(f.attr);for(let S=0;S<y.length;S++){const b=y[S];if(!TR(b))continue;const T=m[b];if(T)g&&!p.durationKnown&&(T.endTime=v);else if(c){let I=f.attr[b];AR(b)&&(I=w4(I));const E=Zg(c,h,v,{key:b,data:I},an.dateRange);E&&(E.id=d,this.id3Track.addCue(E),m[b]=E)}}r[d]={cues:m,dateRange:f,durationKnown:g}}}}class S4{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:t}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:t,partHoldBack:r,targetduration:s}=e,{liveSyncDuration:i,liveSyncDurationCount:a,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let c=o&&r||t;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=i!==void 0?i:a*s);const u=s;return c+Math.min(this.stallCount*1,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(e===null||t===null||r===null)return null;const s=r.edge,i=e-t-this.edgeStalled,a=s-r.totalduration,o=s-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,i),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e,levelDetails:t}=this;if(!e||!t)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(C.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(C.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(C.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(C.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var r;t.details===U.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&j.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:i}=this.config;if(!s||i===1||!t.live)return;const a=this.targetLatency;if(a===null)return;const o=r-a,l=Math.min(this.maxLatency,a+t.targetduration);if(o<l&&o>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,i)),d=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const bf=["NONE","TYPE-0","TYPE-1",null];function E4(n){return bf.indexOf(n)>-1}const Ol=["SDR","PQ","HLG"];function T4(n){return!!n&&Ol.indexOf(n)>-1}var jo={No:"",Yes:"YES",v2:"v2"};function e0(n){const{canSkipUntil:e,canSkipDateRanges:t,age:r}=n,s=r<e/2;return e&&s?t?jo.v2:jo.Yes:jo.No}class t0{constructor(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class ai{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(t=>!!t).map(t=>t.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return n0(this._audioGroups,e)}hasSubtitleGroup(e){return n0(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(t)===-1&&r.push(t)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(t)===-1&&r.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function n0(n,e){return!e||!n?!1:n.indexOf(e)!==-1}function Ru(n,e){const t=e.startPTS;if(X(t)){let r=0,s;e.sn>n.sn?(r=t-n.start,s=n):(r=n.start-t,s=e),s.duration!==r&&(s.duration=r)}else e.sn>n.sn?n.cc===e.cc&&n.minEndPTS?e.start=n.start+(n.minEndPTS-n.start):e.start=n.start+n.duration:e.start=Math.max(n.start-e.duration,0)}function yw(n,e,t,r,s,i){r-t<=0&&(j.warn("Fragment should have a positive duration",e),r=t+e.duration,i=s+e.duration);let o=t,l=r;const c=e.startPTS,u=e.endPTS;if(X(c)){const g=Math.abs(c-t);X(e.deltaPTS)?e.deltaPTS=Math.max(g,e.deltaPTS):e.deltaPTS=g,o=Math.max(t,c),t=Math.min(t,c),s=Math.min(s,e.startDTS),l=Math.min(r,u),r=Math.max(r,u),i=Math.max(i,e.endDTS)}const d=t-e.start;e.start!==0&&(e.start=t),e.duration=r-e.start,e.startPTS=t,e.maxStartPTS=o,e.startDTS=s,e.endPTS=r,e.minEndPTS=l,e.endDTS=i;const f=e.sn;if(!n||f<n.startSN||f>n.endSN)return 0;let h;const p=f-n.startSN,m=n.fragments;for(m[p]=e,h=p;h>0;h--)Ru(m[h],m[h-1]);for(h=p;h<m.length-1;h++)Ru(m[h],m[h+1]);return n.fragmentHint&&Ru(m[m.length-1],n.fragmentHint),n.PTSKnown=n.alignedSliding=!0,d}function A4(n,e){let t=null;const r=n.fragments;for(let o=r.length-1;o>=0;o--){const l=r[o].initSegment;if(l){t=l;break}}n.fragmentHint&&delete n.fragmentHint.endPTS;let s;I4(n,e,(o,l,c,u)=>{if(e.skippedSegments&&l.cc!==o.cc){const d=o.cc-l.cc;for(let f=c;f<u.length;f++)u[f].cc+=d}X(o.startPTS)&&X(o.endPTS)&&(l.start=l.startPTS=o.startPTS,l.startDTS=o.startDTS,l.maxStartPTS=o.maxStartPTS,l.endPTS=o.endPTS,l.endDTS=o.endDTS,l.minEndPTS=o.minEndPTS,l.duration=o.endPTS-o.startPTS,l.duration&&(s=l),e.PTSKnown=e.alignedSliding=!0),l.elementaryStreams=o.elementaryStreams,l.loader=o.loader,l.stats=o.stats,o.initSegment&&(l.initSegment=o.initSegment,t=o.initSegment)});const i=e.fragments;if(t&&(e.fragmentHint?i.concat(e.fragmentHint):i).forEach(l=>{var c;l&&(!l.initSegment||l.initSegment.relurl===((c=t)==null?void 0:c.relurl))&&(l.initSegment=t)}),e.skippedSegments){if(e.deltaUpdateFailed=i.some(o=>!o),e.deltaUpdateFailed){j.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let o=e.skippedSegments;o--;)i.shift();e.startSN=i[0].sn}else e.canSkipDateRanges&&(e.dateRanges=L4(n.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));e.startCC=e.fragments[0].cc,e.endCC=i[i.length-1].cc}C4(n.partList,e.partList,(o,l)=>{l.elementaryStreams=o.elementaryStreams,l.stats=o.stats}),s?yw(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):vw(n,e),i.length&&(e.totalduration=e.edge-i[0].start),e.driftStartTime=n.driftStartTime,e.driftStart=n.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const o=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=o),e.driftEndTime=a,e.driftEnd=o}else e.driftEndTime=n.driftEndTime,e.driftEnd=n.driftEnd,e.advancedDateTime=n.advancedDateTime}function L4(n,e,t){const r=Ve({},n);return t&&t.forEach(s=>{delete r[s]}),Object.keys(e).forEach(s=>{const i=new ew(e[s].attr,r[s]);i.isValid?r[s]=i:j.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[s].attr)}"`)}),r}function C4(n,e,t){if(n&&e){let r=0;for(let s=0,i=n.length;s<=i;s++){const a=n[s],o=e[s+r];a&&o&&a.index===o.index&&a.fragment.sn===o.fragment.sn?t(a,o):r--}}}function I4(n,e,t){const r=e.skippedSegments,s=Math.max(n.startSN,e.startSN)-e.startSN,i=(n.fragmentHint?1:0)+(r?e.endSN:Math.min(n.endSN,e.endSN))-e.startSN,a=e.startSN-n.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments;for(let c=s;c<=i;c++){const u=l[a+c];let d=o[c];r&&!d&&c<r&&(d=e.fragments[c]=u),u&&d&&t(u,d,c,o)}}function vw(n,e){const t=e.startSN+e.skippedSegments-n.startSN,r=n.fragments;t<0||t>=r.length||Sf(e,r[t].start)}function Sf(n,e){if(e){const t=n.fragments;for(let r=n.skippedSegments;r<t.length;r++)t[r].start+=e;n.fragmentHint&&(n.fragmentHint.start+=e)}}function k4(n,e=1/0){let t=1e3*n.targetduration;if(n.updated){const r=n.fragments;if(r.length&&t*4>e){const i=r[r.length-1].duration*1e3;i<t&&(t=i)}}else t/=2;return Math.round(t)}function R4(n,e,t){if(!(n!=null&&n.details))return null;const r=n.details;let s=r.fragments[e-r.startSN];return s||(s=r.fragmentHint,s&&s.sn===e)?s:e<r.startSN&&t&&t.sn===e?t:null}function r0(n,e,t){var r;return n!=null&&n.details?ww((r=n.details)==null?void 0:r.partList,e,t):null}function ww(n,e,t){if(n)for(let r=n.length;r--;){const s=n[r];if(s.index===t&&s.fragment.sn===e)return s}return null}function bw(n){n.forEach((e,t)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(s=>{s.level=t})})}function Ml(n){switch(n.details){case U.FRAG_LOAD_TIMEOUT:case U.KEY_LOAD_TIMEOUT:case U.LEVEL_LOAD_TIMEOUT:case U.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function s0(n,e){const t=Ml(e);return n.default[`${t?"timeout":"error"}Retry`]}function Zh(n,e){const t=n.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*n.retryDelayMs,n.maxRetryDelayMs)}function i0(n){return et(et({},n),{errorRetry:null,timeoutRetry:null})}function Fl(n,e,t,r){if(!n)return!1;const s=r==null?void 0:r.code,i=e<n.maxNumRetry&&(N4(s)||!!t);return n.shouldRetry?n.shouldRetry(n,e,t,r,i):i}function N4(n){return n===0&&navigator.onLine===!1||!!n&&(n<400||n>499)}const Sw={search:function(n,e){let t=0,r=n.length-1,s=null,i=null;for(;t<=r;){s=(t+r)/2|0,i=n[s];const a=e(i);if(a>0)t=s+1;else if(a<0)r=s-1;else return i}return null}};function D4(n,e,t){if(e===null||!Array.isArray(n)||!n.length||!X(e))return null;const r=n[0].programDateTime;if(e<(r||0))return null;const s=n[n.length-1].endProgramDateTime;if(e>=(s||0))return null;t=t||0;for(let i=0;i<n.length;++i){const a=n[i];if(_4(e,t,a))return a}return null}function jl(n,e,t=0,r=0,s=.005){let i=null;if(n){i=e[n.sn-e[0].sn+1]||null;const o=n.endDTS-t;o>0&&o<15e-7&&(t+=15e-7)}else t===0&&e[0].start===0&&(i=e[0]);if(i&&((!n||n.level===i.level)&&Ef(t,r,i)===0||P4(i,n,Math.min(s,r))))return i;const a=Sw.search(e,Ef.bind(null,t,r));return a&&(a!==n||!i)?a:i}function P4(n,e,t){if(e&&e.start===0&&e.level<n.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((s,i)=>(i[0]==="INF"&&(s+=parseFloat(i[1])),s),t);return n.start<=r}return!1}function Ef(n=0,e=0,t){if(t.start<=n&&t.start+t.duration>n)return 0;const r=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-r<=n?1:t.start-r>n&&t.start?-1:0}function _4(n,e,t){const r=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-r>n}function O4(n,e){return Sw.search(n,t=>t.cc<e?1:t.cc>e?-1:0)}var nt={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},en={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class M4{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=j.log.bind(j,"[info]:"),this.warn=j.warn.bind(j,"[warning]:"),this.error=j.error.bind(j,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(C.ERROR,this.onError,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(C.ERROR,this.onError,this),e.off(C.ERROR,this.onErrorOut,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===ne.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var r,s;if(t.fatal)return;const i=this.hls,a=t.context;switch(t.details){case U.FRAG_LOAD_ERROR:case U.FRAG_LOAD_TIMEOUT:case U.KEY_LOAD_ERROR:case U.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case U.FRAG_PARSING_ERROR:if((r=t.frag)!=null&&r.gap){t.errorAction={action:nt.DoNothing,flags:en.None};return}case U.FRAG_GAP:case U.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=nt.SendAlternateToPenaltyBox;return}case U.LEVEL_EMPTY_ERROR:case U.LEVEL_PARSING_ERROR:{var o,l;const c=t.parent===ne.MAIN?t.level:i.loadLevel;t.details===U.LEVEL_EMPTY_ERROR&&((o=t.context)!=null&&(l=o.levelDetails)!=null&&l.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,c):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,c))}return;case U.LEVEL_LOAD_ERROR:case U.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level));return;case U.AUDIO_TRACK_LOAD_ERROR:case U.AUDIO_TRACK_LOAD_TIMEOUT:case U.SUBTITLE_LOAD_ERROR:case U.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const c=i.levels[i.loadLevel];if(c&&(a.type===ye.AUDIO_TRACK&&c.hasAudioGroup(a.groupId)||a.type===ye.SUBTITLE_TRACK&&c.hasSubtitleGroup(a.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=nt.SendAlternateToPenaltyBox,t.errorAction.flags=en.MoveAllAlternatesMatchingHost;return}}return;case U.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=i.levels[i.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?t.errorAction={action:nt.SendAlternateToPenaltyBox,flags:en.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(t)}return;case U.BUFFER_ADD_CODEC_ERROR:case U.REMUX_ALLOC_ERROR:case U.BUFFER_APPEND_ERROR:t.errorAction=this.getLevelSwitchAction(t,(s=t.level)!=null?s:i.loadLevel);return;case U.INTERNAL_EXCEPTION:case U.BUFFER_APPENDING_ERROR:case U.BUFFER_FULL_ERROR:case U.LEVEL_SWITCH_ERROR:case U.BUFFER_STALLED_ERROR:case U.BUFFER_SEEK_OVER_HOLE:case U.BUFFER_NUDGE_ON_STALL:t.errorAction={action:nt.DoNothing,flags:en.None};return}t.type===ie.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const r=this.hls,s=s0(r.config.playlistLoadPolicy,e),i=this.playlistError++;if(Fl(s,i,Ml(e),e.response))return{action:nt.RetryRequest,flags:en.None,retryConfig:s,retryCount:i};const o=this.getLevelSwitchAction(e,t);return s&&(o.retryConfig=s,o.retryCount=i),o}getFragRetryOrSwitchAction(e){const t=this.hls,r=this.getVariantLevelIndex(e.frag),s=t.levels[r],{fragLoadPolicy:i,keyLoadPolicy:a}=t.config,o=s0(e.details.startsWith("key")?a:i,e),l=t.levels.reduce((u,d)=>u+d.fragmentError,0);if(s&&(e.details!==U.FRAG_GAP&&s.fragmentError++,Fl(o,l,Ml(e),e.response)))return{action:nt.RetryRequest,flags:en.None,retryConfig:o,retryCount:l};const c=this.getLevelSwitchAction(e,r);return o&&(c.retryConfig=o,c.retryCount=l),c}getLevelSwitchAction(e,t){const r=this.hls;t==null&&(t=r.loadLevel);const s=this.hls.levels[t];if(s){var i,a;const c=e.details;s.loadError++,c===U.BUFFER_APPEND_ERROR&&s.fragmentError++;let u=-1;const{levels:d,loadLevel:f,minAutoLevel:h,maxAutoLevel:p}=r;r.autoLevelEnabled||(r.loadLevel=-1);const m=(i=e.frag)==null?void 0:i.type,v=(m===ne.AUDIO&&c===U.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===U.BUFFER_ADD_CODEC_ERROR||c===U.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:T})=>s.audioCodec!==T),y=e.sourceBufferName==="video"&&(c===U.BUFFER_ADD_CODEC_ERROR||c===U.BUFFER_APPEND_ERROR)&&d.some(({codecSet:T,audioCodec:I})=>s.codecSet!==T&&s.audioCodec===I),{type:S,groupId:b}=(a=e.context)!=null?a:{};for(let T=d.length;T--;){const I=(T+f)%d.length;if(I!==f&&I>=h&&I<=p&&d[I].loadError===0){var o,l;const E=d[I];if(c===U.FRAG_GAP&&m===ne.MAIN&&e.frag){const A=d[I].details;if(A){const L=jl(e.frag,A.fragments,e.frag.start);if(L!=null&&L.gap)continue}}else{if(S===ye.AUDIO_TRACK&&E.hasAudioGroup(b)||S===ye.SUBTITLE_TRACK&&E.hasSubtitleGroup(b))continue;if(m===ne.AUDIO&&(o=s.audioGroups)!=null&&o.some(A=>E.hasAudioGroup(A))||m===ne.SUBTITLE&&(l=s.subtitleGroups)!=null&&l.some(A=>E.hasSubtitleGroup(A))||v&&s.audioCodec===E.audioCodec||!v&&s.audioCodec!==E.audioCodec||y&&s.codecSet===E.codecSet)continue}u=I;break}}if(u>-1&&r.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:nt.SendAlternateToPenaltyBox,flags:en.None,nextAutoLevel:u}}return{action:nt.SendAlternateToPenaltyBox,flags:en.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var r;switch((r=t.errorAction)==null?void 0:r.action){case nt.DoNothing:break;case nt.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==U.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,r=e.errorAction;if(!r)return;const{flags:s,hdcpLevel:i,nextAutoLevel:a}=r;switch(s){case en.None:this.switchLevel(e,a);break;case en.MoveAllAlternatesMatchingHDCP:i&&(t.maxHdcpLevel=bf[bf.indexOf(i)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,a)}switchLevel(e,t){t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class ep{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=j.log.bind(j,`${t}:`),this.warn=j.warn.bind(j,`${t}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,r){const s=t==null?void 0:t.renditionReports;if(s){let i=-1;for(let a=0;a<s.length;a++){const o=s[a];let l;try{l=new self.URL(o.URI,t.url).href}catch(c){j.warn(`Could not construct new URL for Rendition Report: ${c}`),l=o.URI||""}if(l===e){i=a;break}else l===e.substring(0,l.length)&&(i=a)}if(i!==-1){const a=s[i],o=parseInt(a["LAST-MSN"])||(t==null?void 0:t.lastPartSn);let l=parseInt(a["LAST-PART"])||(t==null?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(t.age-t.partTarget,t.targetduration);l>=0&&u>t.partTarget&&(l+=1)}const c=r&&e0(r);return new t0(o,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,r){const{details:s,stats:i}=t,a=self.performance.now(),o=i.loading.first?Math.max(0,a-i.loading.first):0;if(s.advancedDateTime=Date.now()-o,s.live||r!=null&&r.live){if(s.reloaded(r),r&&this.log(`live playlist ${e} ${s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED"}`),r&&s.fragments.length>0&&A4(r,s),!this.canLoad||!s.live)return;let l,c,u;if(s.canBlockReload&&s.endSN&&s.advanced){const g=this.hls.config.lowLatencyMode,v=s.lastPartSn,w=s.endSN,y=s.lastPartIndex,S=y!==-1,b=v===w,T=g?0:y;S?(c=b?w+1:v,u=b?T:y+1):c=w+1;const I=s.age,E=I+s.ageHeader;let A=Math.min(E-s.partTarget,s.targetduration*1.5);if(A>0){if(r&&A>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${A} with playlist age: ${s.age}`),A=0;else{const L=Math.floor(A/s.targetduration);if(c+=L,u!==void 0){const k=Math.round(A%s.targetduration/s.partTarget);u+=k}this.log(`CDN Tune-in age: ${s.ageHeader}s last advanced ${I.toFixed(2)}s goal: ${A} skip sn ${L} to part ${u}`)}s.tuneInGoal=A}if(l=this.getDeliveryDirectives(s,t.deliveryDirectives,c,u),g||!b){this.loadPlaylist(l);return}}else(s.canBlockReload||s.canSkipUntil)&&(l=this.getDeliveryDirectives(s,t.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,h=(s.edge-f)*1e3,p=k4(s,h);s.updated&&a>this.requestScheduled+p&&(this.requestScheduled=i.loading.start),c!==void 0&&s.canBlockReload?this.requestScheduled=i.loading.first+p-(s.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+p<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=p);let m=this.requestScheduled-a;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),m)}else this.clearTimer()}getDeliveryDirectives(e,t,r,s){let i=e0(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,s=t.part,i=jo.No),new t0(r,s,i)}checkRetry(e){const t=e.details,r=Ml(e),s=e.errorAction,{action:i,retryCount:a=0,retryConfig:o}=s||{},l=!!s&&!!o&&(i===nt.RetryRequest||!s.resolved&&i===nt.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,a>=o.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const u=Zh(o,a);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${t}" in ${u}ms`)}e.levelRetry=!0,s.resolved=!0}return l}}class bs{constructor(e,t=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}sample(e,t){const r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class F4{constructor(e,t,r,s=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new bs(e),this.fast_=new bs(t),this.defaultTTFB_=s,this.ttfb_=new bs(e)}update(e,t){const{slow_:r,fast_:s,ttfb_:i}=this;r.halfLife!==e&&(this.slow_=new bs(e,r.getEstimate(),r.getTotalWeight())),s.halfLife!==t&&(this.fast_=new bs(t,s.getEstimate(),s.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new bs(e,i.getEstimate(),i.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const r=8*t,s=e/1e3,i=r/s;this.fast_.sample(s,i),this.slow_.sample(s,i)}sampleTTFB(e){const t=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Ew={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},a0={};function j4(n,e,t,r,s,i){const a=n.audioCodec?n.audioGroups:null,o=i==null?void 0:i.audioCodec,l=i==null?void 0:i.channels,c=l?parseInt(l):o?1/0:2;let u=null;if(a!=null&&a.length)try{a.length===1&&a[0]?u=e.groups[a[0]].channels:u=a.reduce((d,f)=>{if(f){const h=e.groups[f];if(!h)throw new Error(`Audio track group ${f} not found`);Object.keys(h.channels).forEach(p=>{d[p]=(d[p]||0)+h.channels[p]})}return d},{2:0})}catch{return!0}return n.videoCodec!==void 0&&(n.width>1920&&n.height>1088||n.height>1920&&n.width>1088||n.frameRate>Math.max(r,30)||n.videoRange!=="SDR"&&n.videoRange!==t||n.bitrate>Math.max(s,8e6))||!!u&&X(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function $4(n,e,t){const r=n.videoCodec,s=n.audioCodec;if(!r||!s||!t)return Promise.resolve(Ew);const i={width:n.width,height:n.height,bitrate:Math.ceil(Math.max(n.bitrate*.9,n.averageBitrate)),framerate:n.frameRate||30},a=n.videoRange;a!=="SDR"&&(i.transferFunction=a.toLowerCase());const o=r.split(",").map(l=>({type:"media-source",video:et(et({},i),{},{contentType:wa(l,"video")})}));return s&&n.audioGroups&&n.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",f=parseFloat(d);X(f)&&f>2&&o.push.apply(o,s.split(",").map(h=>({type:"media-source",audio:{contentType:wa(h,"audio"),channels:""+f}})))}}))}),Promise.all(o.map(l=>{const c=B4(l);return a0[c]||(a0[c]=t.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:o,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:o,decodingInfoResults:[],error:l}))}function B4(n){const{audio:e,video:t}=n,r=t||e;if(r){const s=r.contentType.split('"')[1];if(t)return`r${t.height}x${t.width}f${Math.ceil(t.framerate)}${t.transferFunction||"sd"}_${s}_${Math.ceil(t.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${s}`}return""}function U4(){if(typeof matchMedia=="function"){const n=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(n.media!==e.media)return n.matches===!0}return!1}function z4(n,e){let t=!1,r=[];return n&&(t=n!=="SDR",r=[n]),e&&(r=e.allowedVideoRanges||Ol.slice(0),t=e.preferHDR!==void 0?e.preferHDR:U4(),t?r=r.filter(s=>s!=="SDR"):r=["SDR"]),{preferHDR:t,allowedVideoRanges:r}}function H4(n,e,t,r,s){const i=Object.keys(n),a=r==null?void 0:r.channels,o=r==null?void 0:r.audioCodec,l=a&&parseInt(a)===2;let c=!0,u=!1,d=1/0,f=1/0,h=1/0,p=0,m=[];const{preferHDR:g,allowedVideoRanges:v}=z4(e,s);for(let b=i.length;b--;){const T=n[i[b]];c=T.channels[2]>0,d=Math.min(d,T.minHeight),f=Math.min(f,T.minFramerate),h=Math.min(h,T.minBitrate);const I=v.filter(E=>T.videoRanges[E]>0);I.length>0&&(u=!0,m=I)}d=X(d)?d:0,f=X(f)?f:0;const w=Math.max(1080,d),y=Math.max(30,f);return h=X(h)?h:t,t=Math.max(h,t),u||(e=void 0,m=[]),{codecSet:i.reduce((b,T)=>{const I=n[T];if(T===b)return b;if(I.minBitrate>t)return jn(T,`min bitrate of ${I.minBitrate} > current estimate of ${t}`),b;if(!I.hasDefaultAudio)return jn(T,"no renditions with default or auto-select sound found"),b;if(o&&T.indexOf(o.substring(0,4))%5!==0)return jn(T,`audio codec preference "${o}" not found`),b;if(a&&!l){if(!I.channels[a])return jn(T,`no renditions with ${a} channel sound found (channels options: ${Object.keys(I.channels)})`),b}else if((!o||l)&&c&&I.channels[2]===0)return jn(T,"no renditions with stereo sound found"),b;return I.minHeight>w?(jn(T,`min resolution of ${I.minHeight} > maximum of ${w}`),b):I.minFramerate>y?(jn(T,`min framerate of ${I.minFramerate} > maximum of ${y}`),b):m.some(E=>I.videoRanges[E]>0)?I.maxScore<p?(jn(T,`max score of ${I.maxScore} < selected max of ${p}`),b):b&&(Pl(T)>=Pl(b)||I.fragmentError>n[b].fragmentError)?b:(p=I.maxScore,T):(jn(T,`no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),b)},void 0),videoRanges:m,preferHDR:g,minFramerate:f,minBitrate:h}}function jn(n,e){j.log(`[abr] start candidates with "${n}" ignored because ${e}`)}function G4(n){return n.reduce((e,t)=>{let r=e.groups[t.groupId];r||(r=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(t);const s=t.channels||"2";return r.channels[s]=(r.channels[s]||0)+1,r.hasDefault=r.hasDefault||t.default,r.hasAutoSelect=r.hasAutoSelect||t.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function V4(n,e,t,r){return n.slice(t,r+1).reduce((s,i)=>{if(!i.codecSet)return s;const a=i.audioGroups;let o=s[i.codecSet];o||(s[i.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,i.bitrate);const l=Math.min(i.height,i.width);return o.minHeight=Math.min(o.minHeight,l),o.minFramerate=Math.min(o.minFramerate,i.frameRate),o.maxScore=Math.max(o.maxScore,i.score),o.fragmentError+=i.fragmentError,o.videoRanges[i.videoRange]=(o.videoRanges[i.videoRange]||0)+1,a&&a.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(o.hasDefaultAudio=o.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{o.channels[d]=(o.channels[d]||0)+u.channels[d]}))}),s},{})}function An(n,e,t){if("attrs"in n){const r=e.indexOf(n);if(r!==-1)return r}for(let r=0;r<e.length;r++){const s=e[r];if(rs(n,s,t))return r}return-1}function rs(n,e,t){const{groupId:r,name:s,lang:i,assocLang:a,default:o}=n,l=n.forced;return(r===void 0||e.groupId===r)&&(s===void 0||e.name===s)&&(i===void 0||e.lang===i)&&(i===void 0||e.assocLang===a)&&(o===void 0||e.default===o)&&(l===void 0||e.forced===l)&&(!("characteristics"in n)||W4(n.characteristics||"",e.characteristics))&&(t===void 0||t(n,e))}function W4(n,e=""){const t=n.split(","),r=e.split(",");return t.length===r.length&&!t.some(s=>r.indexOf(s)===-1)}function Wr(n,e){const{audioCodec:t,channels:r}=n;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function K4(n,e,t,r,s){const i=e[r],o=e.reduce((f,h,p)=>{const m=h.uri;return(f[m]||(f[m]=[])).push(p),f},{})[i.uri];o.length>1&&(r=Math.max.apply(Math,o));const l=i.videoRange,c=i.frameRate,u=i.codecSet.substring(0,4),d=o0(e,r,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==u)return!1;const h=f.audioGroups,p=t.filter(m=>!h||h.indexOf(m.groupId)!==-1);return An(n,p,s)>-1});return d>-1?d:o0(e,r,f=>{const h=f.audioGroups,p=t.filter(m=>!h||h.indexOf(m.groupId)!==-1);return An(n,p,s)>-1})}function o0(n,e,t){for(let r=e;r>-1;r--)if(t(n[r]))return r;for(let r=e+1;r<n.length;r++)if(t(n[r]))return r;return-1}class Y4{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:t,partCurrent:r,hls:s}=this,{autoLevelEnabled:i,media:a}=s;if(!t||!a)return;const o=performance.now(),l=r?r.stats:t.stats,c=r?r.duration:t.duration,u=o-l.loading.start,d=s.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||t.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!i||a.paused||!a.playbackRate||!a.readyState)return;const f=s.mainForwardBufferInfo;if(f===null)return;const h=this.bwEstimator.getEstimateTTFB(),p=Math.abs(a.playbackRate);if(u<=Math.max(h,1e3*(c/(p*2))))return;const m=f.len/p,g=l.loading.first?l.loading.first-l.loading.start:-1,v=l.loaded&&g>-1,w=this.getBwEstimate(),y=s.levels,S=y[t.level],b=l.total||Math.max(l.loaded,Math.round(c*S.averageBitrate/8));let T=v?u-g:u;T<1&&v&&(T=Math.min(u,l.loaded*8/w));const I=v?l.loaded*1e3/T:0,E=I?(b-l.loaded)/I:b*8/w+h/1e3;if(E<=m)return;const A=I?I*8:w;let L=Number.POSITIVE_INFINITY,k;for(k=t.level-1;k>d;k--){const N=y[k].maxBitrate;if(L=this.getTimeToLoadFrag(h/1e3,A,c*N,!y[k].details),L<m)break}if(L>=E||L>c*10)return;s.nextLoadLevel=s.nextAutoLevel=k,v?this.bwEstimator.sample(u-Math.min(h,g),l.loaded):this.bwEstimator.sampleTTFB(u);const R=y[k].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>R&&this.resetEstimator(R),this.clearTimer(),j.warn(`[abr] Fragment ${t.sn}${r?" part "+r.index:""} of level ${t.level} is loading too slowly;
      Time to underbuffer: ${m.toFixed(3)} s
      Estimated load time for current fragment: ${E.toFixed(3)} s
      Estimated load time for down switch fragment: ${L.toFixed(3)} s
      TTFB estimate: ${g|0} ms
      Current BW estimate: ${X(w)?w|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${k} @ ${R|0} bps`),s.trigger(C.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(j.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new F4(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.FRAG_LOADING,this.onFragLoading,this),e.on(C.FRAG_LOADED,this.onFragLoaded,this),e.on(C.FRAG_BUFFERED,this.onFragBuffered,this),e.on(C.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(C.LEVEL_LOADED,this.onLevelLoaded,this),e.on(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(C.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(C.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.FRAG_LOADING,this.onFragLoading,this),e.off(C.FRAG_LOADED,this.onFragLoaded,this),e.off(C.FRAG_BUFFERED,this.onFragBuffered,this),e.off(C.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(C.LEVEL_LOADED,this.onLevelLoaded,this),e.off(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(C.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(C.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const r=t.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var s;this.fragCurrent=r,this.partCurrent=(s=t.part)!=null?s:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case U.BUFFER_ADD_CODEC_ERROR:case U.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case U.FRAG_LOAD_TIMEOUT:{const r=t.frag,{fragCurrent:s,partCurrent:i}=this;if(r&&s&&r.sn===s.sn&&r.level===s.level){const a=performance.now(),o=i?i.stats:r.stats,l=a-o.loading.start,c=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),o.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,t,r,s){const i=e+r/t,a=s?this.lastLevelLoadSec:0;return i+a}onLevelLoaded(e,t){const r=this.hls.config,{loading:s}=t.stats,i=s.end-s.start;X(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:t,part:r}){const s=r?r.stats:t.stats;if(t.type===ne.MAIN&&this.bwEstimator.sampleTTFB(s.loading.first-s.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const i=r?r.duration:t.duration,a=this.hls.levels[t.level],o=(a.loaded?a.loaded.bytes:0)+s.loaded,l=(a.loaded?a.loaded.duration:0)+i;a.loaded={bytes:o,duration:l},a.realBitrate=Math.round(8*o/l)}if(t.bitrateTest){const i={stats:s,frag:t,part:r,id:t.type};this.onFragBuffered(C.FRAG_BUFFERED,i),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:r,part:s}=t,i=s!=null&&s.stats.loaded?s.stats:r.stats;if(i.aborted||this.ignoreFragment(r))return;const a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==ne.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,r=this.getBwEstimate(),s=this.hls.config.maxStarvationDelay,i=this.findBestLevel(r,t,e,0,s,1,1);if(i>-1)return i;const a=this.hls.firstLevel,o=Math.min(Math.max(a,t),e);return j.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!s||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const i=r&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,i)&&a[e].loadError<=a[i].loadError)return e}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:r}=this,{maxAutoLevel:s,config:i,minAutoLevel:a}=r,o=t?t.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=i.abrBandWidthFactor,d=i.abrBandWidthUpFactor;if(c){const g=this.findBestLevel(l,a,s,c,0,u,d);if(g>=0)return g}let f=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay;if(!c){const g=this.bitrateTestDelay;g&&(f=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-g,j.info(`[abr] bitrate test took ${Math.round(1e3*g)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),u=d=1)}const h=this.findBestLevel(l,a,s,c,f,u,d);if(j.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const p=r.levels[a],m=r.levels[r.loadLevel];return(p==null?void 0:p.bitrate)<(m==null?void 0:m.bitrate)?a:r.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const r=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,s=e.mainForwardBufferInfo;return(s?s.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,r,s,i,a,o){var l;const c=s+i,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:f,partCurrent:h}=this,{levels:p,allAudioTracks:m,loadLevel:g,config:v}=this.hls;if(p.length===1)return 0;const w=p[d],y=!!(w!=null&&(l=w.details)!=null&&l.live),S=g===-1||u===-1;let b,T="SDR",I=(w==null?void 0:w.frameRate)||0;const{audioPreference:E,videoPreference:A}=v,L=this.audioTracksByGroup||(this.audioTracksByGroup=G4(m));if(S){if(this.firstSelection!==-1)return this.firstSelection;const _=this.codecTiers||(this.codecTiers=V4(p,L,t,r)),$=H4(_,T,e,E,A),{codecSet:H,videoRanges:F,minFramerate:O,minBitrate:M,preferHDR:V}=$;b=H,T=V?F[F.length-1]:F[0],I=O,e=Math.max(e,M),j.log(`[abr] picked start tier ${JSON.stringify($)}`)}else b=w==null?void 0:w.codecSet,T=w==null?void 0:w.videoRange;const k=h?h.duration:f?f.duration:0,R=this.bwEstimator.getEstimateTTFB()/1e3,N=[];for(let _=r;_>=t;_--){var P;const $=p[_],H=_>d;if(!$)continue;if(v.useMediaCapabilities&&!$.supportedResult&&!$.supportedPromise){const re=navigator.mediaCapabilities;typeof(re==null?void 0:re.decodingInfo)=="function"&&j4($,L,T,I,e,E)?($.supportedPromise=$4($,L,re),$.supportedPromise.then(pe=>{if(!this.hls)return;$.supportedResult=pe;const Q=this.hls.levels,ae=Q.indexOf($);pe.error?j.warn(`[abr] MediaCapabilities decodingInfo error: "${pe.error}" for level ${ae} ${JSON.stringify(pe)}`):pe.supported||(j.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${ae} ${JSON.stringify(pe)}`),ae>-1&&Q.length>1&&(j.log(`[abr] Removing unsupported level ${ae}`),this.hls.removeLevel(ae)))})):$.supportedResult=Ew}if(b&&$.codecSet!==b||T&&$.videoRange!==T||H&&I>$.frameRate||!H&&I>0&&I<$.frameRate||$.supportedResult&&!((P=$.supportedResult.decodingInfoResults)!=null&&P[0].smooth)){N.push(_);continue}const F=$.details,O=(h?F==null?void 0:F.partTarget:F==null?void 0:F.averagetargetduration)||k;let M;H?M=o*e:M=a*e;const V=k&&s>=k*2&&i===0?p[_].averageBitrate:p[_].maxBitrate,W=this.getTimeToLoadFrag(R,M,V*O,F===void 0);if(M>=V&&(_===u||$.loadError===0&&$.fragmentError===0)&&(W<=R||!X(W)||y&&!this.bitrateTestDelay||W<c)){const re=this.forcedAutoLevel;return _!==g&&(re===-1||re!==g)&&(N.length&&j.trace(`[abr] Skipped level(s) ${N.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${p[N[0]].codecs}" ${p[N[0]].videoRange}; not compatible with "${w.codecs}" ${T}`),j.info(`[abr] switch candidate:${d}->${_} adjustedbw(${Math.round(M)})-bitrate=${Math.round(M-V)} ttfb:${R.toFixed(1)} avgDuration:${O.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${W.toFixed(1)} firstSelection:${S} codecSet:${b} videoRange:${T} hls.loadLevel:${g}`)),S&&(this.firstSelection=_),_}}return-1}set nextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:r}=this.hls,s=Math.min(Math.max(e,r),t);this._nextAutoLevel!==s&&(this.nextAutoLevelKey="",this._nextAutoLevel=s)}}class q4{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Je={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class X4{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(C.BUFFER_APPENDED,this.onBufferAppended,this),e.on(C.FRAG_BUFFERED,this.onFragBuffered,this),e.on(C.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(C.BUFFER_APPENDED,this.onBufferAppended,this),e.off(C.FRAG_BUFFERED,this.onFragBuffered,this),e.off(C.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const r=this.activePartLists[t];if(r)for(let s=r.length;s--;){const i=r[s];if(!i)break;const a=i.end;if(i.start<=e&&a!==null&&e<=a)return i}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){const{fragments:r}=this,s=Object.keys(r);for(let i=s.length;i--;){const a=r[s[i]];if((a==null?void 0:a.body.type)===t&&a.buffered){const o=a.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,t,r,s){this.timeRanges&&(this.timeRanges[e]=t);const i=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o||i>=o.body.sn)return;if(!o.buffered&&!o.loaded){o.body.type===r&&this.removeFragment(o.body);return}const l=o.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,t);return u&&this.removeFragment(o.body),u})})}detectPartialFragments(e){const t=this.timeRanges,{frag:r,part:s}=e;if(!t||r.sn==="initSegment")return;const i=Ss(r),a=this.fragments[i];if(!a||a.buffered&&r.gap)return;const o=!r.relurl;Object.keys(t).forEach(l=>{const c=r.elementaryStreams[l];if(!c)return;const u=t[l],d=o||c.partial===!0;a.range[l]=this.getBufferedTimes(r,s,d,u)}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=r.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),co(a)||this.removeParts(r.sn-1,r.type)):this.removeFragment(a.body)}removeParts(e,t){const r=this.activePartLists[t];r&&(this.activePartLists[t]=r.filter(s=>s.fragment.sn>=e))}fragBuffered(e,t){const r=Ss(e);let s=this.fragments[r];!s&&t&&(s=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)}getBufferedTimes(e,t,r,s){const i={time:[],partial:r},a=e.start,o=e.end,l=e.minEndPTS||o,c=e.maxStartPTS||a;for(let u=0;u<s.length;u++){const d=s.start(u)-this.bufferPadding,f=s.end(u)+this.bufferPadding;if(c>=d&&l<=f){i.time.push({startPTS:Math.max(a,s.start(u)),endPTS:Math.min(o,s.end(u))});break}else if(a<f&&o>d){const h=Math.max(a,s.start(u)),p=Math.min(o,s.end(u));p>h&&(i.partial=!0,i.time.push({startPTS:h,endPTS:p}))}else if(o<=d)break}return i}getPartialFragment(e){let t=null,r,s,i,a=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&co(u)&&(s=u.body.start-o,i=u.body.end+o,e>=s&&e<=i&&(r=Math.min(e-s,i-e),a<=r&&(t=u.body,a=r)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||co(t))}getState(e){const t=Ss(e),r=this.fragments[t];return r?r.buffered?co(r)?Je.PARTIAL:Je.OK:Je.APPENDING:Je.NOT_LOADED}isTimeBuffered(e,t,r){let s,i;for(let a=0;a<r.length;a++){if(s=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=s&&t<=i)return!0;if(t<=s)return!1}return!1}onFragLoaded(e,t){const{frag:r,part:s}=t;if(r.sn==="initSegment"||r.bitrateTest)return;const i=s?null:t,a=Ss(r);this.fragments[a]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:r,part:s,timeRanges:i}=t;if(r.sn==="initSegment")return;const a=r.type;if(s){let o=this.activePartLists[a];o||(this.activePartLists[a]=o=[]),o.push(s)}this.timeRanges=i,Object.keys(i).forEach(o=>{const l=i[o];this.detectEvictedFragments(o,l,a,s)})}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Ss(e);return!!this.fragments[t]}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,r,s,i){s&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o)return;const l=o.body;l.type!==r||s&&!l.gap||l.start<t&&l.end>e&&(o.buffered||i)&&this.removeFragment(l)})}removeFragment(e){const t=Ss(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const s=e.sn;this.activePartLists[e.type]=r.filter(i=>i.fragment.sn!==s)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function co(n){var e,t,r;return n.buffered&&(n.body.gap||((e=n.range.video)==null?void 0:e.partial)||((t=n.range.audio)==null?void 0:t.partial)||((r=n.range.audiovideo)==null?void 0:r.partial))}function Ss(n){return`${n.type}_${n.level}_${n.sn}`}const Q4={length:0,start:()=>0,end:()=>0};class ke{static isBuffered(e,t){try{if(e){const r=ke.getBuffered(e);for(let s=0;s<r.length;s++)if(t>=r.start(s)&&t<=r.end(s))return!0}}catch{}return!1}static bufferInfo(e,t,r){try{if(e){const s=ke.getBuffered(e),i=[];let a;for(a=0;a<s.length;a++)i.push({start:s.start(a),end:s.end(a)});return this.bufferedInfo(i,t,r)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,r){t=Math.max(0,t),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let s=[];if(r)for(let c=0;c<e.length;c++){const u=s.length;if(u){const d=s[u-1].end;e[c].start-d<r?e[c].end>d&&(s[u-1].end=e[c].end):s.push(e[c])}else s.push(e[c])}else s=e;let i=0,a,o=t,l=t;for(let c=0;c<s.length;c++){const u=s[c].start,d=s[c].end;if(t+r>=u&&t<d)o=u,l=d,i=l-t;else if(t+r<u){a=u;break}}return{len:i,start:o||0,end:l||0,nextStart:a}}static getBuffered(e){try{return e.buffered}catch(t){return j.log("failed to get media.buffered",t),Q4}}}class tp{constructor(e,t,r,s=0,i=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=uo(),this.buffering={audio:uo(),video:uo(),audiovideo:uo()},this.level=e,this.sn=t,this.id=r,this.size=s,this.part=i,this.partial=a}}function uo(){return{start:0,executeStart:0,executeEnd:0,end:0}}function $o(n,e){for(let r=0,s=n.length;r<s;r++){var t;if(((t=n[r])==null?void 0:t.cc)===e)return n[r]}return null}function J4(n,e,t){return!!(e&&(t.endCC>t.startCC||n&&n.cc<t.startCC))}function Z4(n,e){const t=n.fragments,r=e.fragments;if(!r.length||!t.length){j.log("No fragments to align");return}const s=$o(t,r[0].cc);if(!s||s&&!s.startPTS){j.log("No frag in previous level to align on");return}return s}function l0(n,e){if(n){const t=n.start+e;n.start=n.startPTS=t,n.endPTS=t+n.duration}}function Tw(n,e){const t=e.fragments;for(let r=0,s=t.length;r<s;r++)l0(t[r],n);e.fragmentHint&&l0(e.fragmentHint,n),e.alignedSliding=!0}function e5(n,e,t){e&&(t5(n,t,e),!t.alignedSliding&&e&&$l(t,e),!t.alignedSliding&&e&&!t.skippedSegments&&vw(e,t))}function t5(n,e,t){if(J4(n,t,e)){const r=Z4(t,e);r&&X(r.start)&&(j.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),Tw(r.start,e))}}function $l(n,e){if(!n.hasProgramDateTime||!e.hasProgramDateTime)return;const t=n.fragments,r=e.fragments;if(!t.length||!r.length)return;let s,i;const a=Math.min(e.endCC,n.endCC);e.startCC<a&&n.startCC<a&&(s=$o(r,a),i=$o(t,a)),(!s||!i)&&(s=r[Math.floor(r.length/2)],i=$o(t,s.cc)||t[Math.floor(t.length/2)]);const o=s.programDateTime,l=i.programDateTime;if(!o||!l)return;const c=(l-o)/1e3-(i.start-s.start);Tw(c,n)}const c0=Math.pow(2,17);class n5{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const r=e.url;if(!r)return Promise.reject(new Hn({type:ie.NETWORK_ERROR,details:U.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const s=this.config,i=s.fLoader,a=s.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(h=>h[0]==="GAP")){l(d0(e));return}else e.gap=!1;const c=this.loader=e.loader=i?new i(s):new a(s),u=u0(e),d=i0(s.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:c0};e.stats=c.stats,c.load(u,f,{onSuccess:(h,p,m,g)=>{this.resetLoader(e,c);let v=h.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(v.slice(0,16)),v=v.slice(16)),o({frag:e,part:null,payload:v,networkDetails:g})},onError:(h,p,m,g)=>{this.resetLoader(e,c),l(new Hn({type:ie.NETWORK_ERROR,details:U.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:et({url:r,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:g}))},onAbort:(h,p,m)=>{this.resetLoader(e,c),l(new Hn({type:ie.NETWORK_ERROR,details:U.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,c),l(new Hn({type:ie.NETWORK_ERROR,details:U.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:m,stats:h}))},onProgress:(h,p,m,g)=>{t&&t({frag:e,part:null,payload:m,networkDetails:g})}})})}loadPart(e,t,r){this.abort();const s=this.config,i=s.fLoader,a=s.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){l(d0(e,t));return}const c=this.loader=e.loader=i?new i(s):new a(s),u=u0(e,t),d=i0(s.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:c0};t.stats=c.stats,c.load(u,f,{onSuccess:(h,p,m,g)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,t);const v={frag:e,part:t,payload:h.data,networkDetails:g};r(v),o(v)},onError:(h,p,m,g)=>{this.resetLoader(e,c),l(new Hn({type:ie.NETWORK_ERROR,details:U.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:et({url:u.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:g}))},onAbort:(h,p,m)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,c),l(new Hn({type:ie.NETWORK_ERROR,details:U.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,c),l(new Hn({type:ie.NETWORK_ERROR,details:U.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:m,stats:h}))}})})}updateStatsFromPart(e,t){const r=e.stats,s=t.stats,i=s.total;if(r.loaded+=s.loaded,i){const l=Math.round(e.duration/t.duration),c=Math.min(Math.round(r.loaded/i),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const a=r.loading,o=s.loading;a.start?a.first+=o.first-o.start:(a.start=o.start,a.first=o.first),a.end=o.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function u0(n,e=null){const t=e||n,r={frag:n,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},s=t.byteRangeStartOffset,i=t.byteRangeEndOffset;if(X(s)&&X(i)){var a;let o=s,l=i;if(n.sn==="initSegment"&&((a=n.decryptdata)==null?void 0:a.method)==="AES-128"){const c=i-s;c%16&&(l=i+(16-c%16)),s!==0&&(r.resetIV=!0,o=s-16)}r.rangeStart=o,r.rangeEnd=l}return r}function d0(n,e){const t=new Error(`GAP ${n.gap?"tag":"attribute"} found`),r={type:ie.MEDIA_ERROR,details:U.FRAG_GAP,fatal:!1,frag:n,error:t,networkDetails:null};return e&&(r.part=e),(e||n).stats.aborted=!0,new Hn(r)}class Hn extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class r5{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}class s5{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function i5(n){const e=n.byteLength,t=e&&new DataView(n.buffer).getUint8(e-1);return t?ns(n,0,e-t):n}class a5{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),r=new Uint32Array(4);for(let s=0;s<4;s++)r[s]=t.getUint32(s*4);return r}initTable(){const e=this.sBox,t=this.invSBox,r=this.subMix,s=r[0],i=r[1],a=r[2],o=r[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],f=l[3],h=new Uint32Array(256);let p=0,m=0,g=0;for(g=0;g<256;g++)g<128?h[g]=g<<1:h[g]=g<<1^283;for(g=0;g<256;g++){let v=m^m<<1^m<<2^m<<3^m<<4;v=v>>>8^v&255^99,e[p]=v,t[v]=p;const w=h[p],y=h[w],S=h[y];let b=h[v]*257^v*16843008;s[p]=b<<24|b>>>8,i[p]=b<<16|b>>>16,a[p]=b<<8|b>>>24,o[p]=b,b=S*16843009^y*65537^w*257^p*16843008,c[v]=b<<24|b>>>8,u[v]=b<<16|b>>>16,d[v]=b<<8|b>>>24,f[v]=b,p?(p=w^h[h[h[S^w]]],m^=h[h[m]]):p=m=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let r=!0,s=0;for(;s<t.length&&r;)r=t[s]===this.key[s],s++;if(r)return;this.key=t;const i=this.keySize=t.length;if(i!==4&&i!==6&&i!==8)throw new Error("Invalid aes key size="+i);const a=this.ksRows=(i+6+1)*4;let o,l;const c=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),d=this.sBox,f=this.rcon,h=this.invSubMix,p=h[0],m=h[1],g=h[2],v=h[3];let w,y;for(o=0;o<a;o++){if(o<i){w=c[o]=t[o];continue}y=w,o%i===0?(y=y<<8|y>>>24,y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[y&255],y^=f[o/i|0]<<24):i>6&&o%i===4&&(y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[y&255]),c[o]=w=(c[o-i]^y)>>>0}for(l=0;l<a;l++)o=a-l,l&3?y=c[o]:y=c[o-4],l<4||o<=4?u[l]=y:u[l]=p[d[y>>>24]]^m[d[y>>>16&255]]^g[d[y>>>8&255]]^v[d[y&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,r){const s=this.keySize+6,i=this.invKeySchedule,a=this.invSBox,o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],f=this.uint8ArrayToUint32Array_(r);let h=f[0],p=f[1],m=f[2],g=f[3];const v=new Int32Array(e),w=new Int32Array(v.length);let y,S,b,T,I,E,A,L,k,R,N,P,_,$;const H=this.networkToHostOrderSwap;for(;t<v.length;){for(k=H(v[t]),R=H(v[t+1]),N=H(v[t+2]),P=H(v[t+3]),I=k^i[0],E=P^i[1],A=N^i[2],L=R^i[3],_=4,$=1;$<s;$++)y=l[I>>>24]^c[E>>16&255]^u[A>>8&255]^d[L&255]^i[_],S=l[E>>>24]^c[A>>16&255]^u[L>>8&255]^d[I&255]^i[_+1],b=l[A>>>24]^c[L>>16&255]^u[I>>8&255]^d[E&255]^i[_+2],T=l[L>>>24]^c[I>>16&255]^u[E>>8&255]^d[A&255]^i[_+3],I=y,E=S,A=b,L=T,_=_+4;y=a[I>>>24]<<24^a[E>>16&255]<<16^a[A>>8&255]<<8^a[L&255]^i[_],S=a[E>>>24]<<24^a[A>>16&255]<<16^a[L>>8&255]<<8^a[I&255]^i[_+1],b=a[A>>>24]<<24^a[L>>16&255]<<16^a[I>>8&255]<<8^a[E&255]^i[_+2],T=a[L>>>24]<<24^a[I>>16&255]<<16^a[E>>8&255]<<8^a[A&255]^i[_+3],w[t]=H(y^h),w[t+1]=H(T^p),w[t+2]=H(b^m),w[t+3]=H(S^g),h=k,p=R,m=N,g=P,t=t+4}return w.buffer}}const o5=16;class np{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?i5(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,r){return this.useSoftware?new Promise((s,i)=>{this.softwareDecrypt(new Uint8Array(e),t,r);const a=this.flush();a?s(a.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,r)}softwareDecrypt(e,t,r){const{currentIV:s,currentResult:i,remainderData:a}=this;this.logOnce("JS AES decrypt"),a&&(e=Kt(a,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;s&&(r=s);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new a5),l.expandKey(t);const c=i;return this.currentResult=l.decrypt(o.buffer,0,r),this.currentIV=ns(o,-16).buffer,c||null}webCryptoDecrypt(e,t,r){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,r));this.key=t,this.fastAesKey=new s5(this.subtle,t)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new r5(this.subtle,new Uint8Array(r)).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(j.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,t,r)))}onWebCryptoError(e,t,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,r);const s=this.flush();if(s)return s.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e;const r=e.length-e.length%o5;return r!==e.length&&(t=ns(e,0,r),this.remainderData=ns(e,r)),t}logOnce(e){this.logEnabled&&(j.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const l5={toString:function(n){let e="";const t=n.length;for(let r=0;r<t;r++)e+=`[${n.start(r).toFixed(3)}-${n.end(r).toFixed(3)}]`;return e}},G={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class rp extends q4{constructor(e,t,r,s,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=G.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=s,this.log=j.log.bind(j,`${s}:`),this.warn=j.warn.bind(j,`${s}:`),this.hls=e,this.fragmentLoader=new n5(e.config),this.keyLoader=r,this.fragmentTracker=t,this.config=e.config,this.decrypter=new np(e.config),e.on(C.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=G.STOPPED}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;const r=t.partList;if(r!=null&&r.length){const i=r[r.length-1];return ke.isBuffered(this.media,i.start+i.duration/2)}const s=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(s)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,t){const r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const s=this.config;this.levels&&s.autoStartLoad&&this.state===G.STOPPED&&this.startLoad(s.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:t,media:r,mediaBuffer:s,state:i}=this,a=r?r.currentTime:0,o=ke.bufferInfo(s||r,a,e.maxBufferHole);if(this.log(`media seeking to ${X(a)?a.toFixed(3):a}, state: ${i}`),this.state===G.ENDED)this.resetLoadingState();else if(t){const l=e.maxFragLookUpTolerance,c=t.start-l,u=t.start+t.duration+l;if(!o.len||u<o.start||c>o.end){const d=a>u;(a<c||d)&&(d&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=G.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,r){this._loadFragForPlayback(e,t,r)}_loadFragForPlayback(e,t,r){const s=i=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${i.part?" p: "+i.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(i)};this._doFragLoad(e,t,r,s).then(i=>{if(!i)return;const a=this.state;if(this.fragContextChanged(e)){(a===G.FRAG_LOADING||!this.fragCurrent&&a===G.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=G.IDLE);return}"payload"in i&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(C.FRAG_LOADED,i)),this._handleFragmentLoadComplete(i)}).catch(i=>{this.state===G.STOPPED||this.state===G.ERROR||(this.warn(`Frag error: ${(i==null?void 0:i.message)||i}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:r}=this;if(r.getState(e)===Je.APPENDING){const i=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,i),o=Math.max(e.duration,a?a.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&r.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Je.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t,r=null){if(!(e-t))return;const s={startOffset:e,endOffset:t,type:r};this.hls.trigger(C.BUFFER_FLUSHING,s)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:s}=this,{payload:i}=r,a=e.decryptdata;if(i&&i.byteLength>0&&a!=null&&a.key&&a.iv&&a.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch(l=>{throw s.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return s.trigger(C.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:o,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===G.STOPPED||this.state===G.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=G.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var r,s,i,a;const o=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.playlistType===ne.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((s=e.endPTS)!=null?s:NaN).toFixed(3)}] > buffer:${o?l5.toString(ke.getBuffered(o)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==ne.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=G.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=G.IDLE,o&&(!this.loadedmetadata&&e.type==ne.MAIN&&o.buffered.length&&((i=this.fragCurrent)==null?void 0:i.sn)===((a=this.fragPrevious)==null?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:r,part:s,partsLoaded:i}=e,a=!i||i.length===0||i.some(l=>!l),o=new tp(r.level,r.sn,r.stats.chunkCount+1,0,s?s.index:-1,!a);t.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,r=null,s){var i;const a=t==null?void 0:t.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let o=null;if(e.encrypted&&!((i=e.decryptdata)!=null&&i.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=G.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(C.KEY_LOADED,u),this.state===G.KEY_LOADING&&(this.state=G.IDLE),u}),this.hls.trigger(C.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=a.partList;if(u&&s){r>e.end&&a.fragmentHint&&(e=a.fragmentHint);const d=this.getNextPart(u,e,r);if(d>-1){const f=u[d];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=G.FRAG_LOADING;let h;return o?h=o.then(p=>!p||this.fragContextChanged(p.frag)?null:this.doFragPartsLoad(e,f,t,s)).catch(p=>this.handleFragLoadError(p)):h=this.doFragPartsLoad(e,f,t,s).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(C.FRAG_LOADING,{frag:e,part:f,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${a?"of ["+a.startSN+"-"+a.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),X(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=G.FRAG_LOADING;const l=this.config.progressive;let c;return l&&o?c=o.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,s)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?s:void 0),o]).then(([u])=>(!l&&u&&s&&s(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(C.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,t,r,s){return new Promise((i,a)=>{var o;const l=[],c=(o=r.details)==null?void 0:o.partList,u=d=>{this.fragmentLoader.loadPart(e,d,s).then(f=>{l[d.index]=f;const h=f.part;this.hls.trigger(C.FRAG_LOADED,f);const p=r0(r,e.sn,d.index+1)||ww(c,e.sn,d.index+1);if(p)u(p);else return i({frag:e,part:h,partsLoaded:l})}).catch(a)};u(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===U.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(C.ERROR,t)}else this.hls.trigger(C.ERROR,{type:ie.OTHER_ERROR,details:U.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==G.PARSING){!this.fragCurrent&&this.state!==G.STOPPED&&this.state!==G.ERROR&&(this.state=G.IDLE);return}const{frag:r,part:s,level:i}=t,a=self.performance.now();r.stats.parsing.end=a,s&&(s.stats.parsing.end=a),this.updateLevelTiming(r,s,i,e.partial)}getCurrentContext(e){const{levels:t,fragCurrent:r}=this,{level:s,sn:i,part:a}=e;if(!(t!=null&&t[s]))return this.warn(`Levels object was unset while buffering fragment ${i} of level ${s}. The current chunk will not be buffered.`),null;const o=t[s],l=a>-1?r0(o,i,a):null,c=l?l.fragment:R4(o,i,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:o}):null}bufferFragmentData(e,t,r,s,i){var a;if(!e||this.state!==G.PARSING)return;const{data1:o,data2:l}=e;let c=o;if(o&&l&&(c=Kt(o,l)),!((a=c)!=null&&a.length))return;const u={type:e.type,frag:t,part:r,chunkMeta:s,parent:t.type,data:c};if(this.hls.trigger(C.BUFFER_APPENDING,u),e.dropped&&e.independent&&!r){if(i)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!ke.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const r=t.currentTime,s=ke.bufferInfo(t,r,0),i=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,i*.25),o=Math.max(Math.min(e.start-a,s.end-a),r+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,t){const r=this.getLoadPosition();return X(r)?this.getFwdBufferInfoAtPos(e,r,t):null}getFwdBufferInfoAtPos(e,t,r){const{config:{maxBufferHole:s}}=this,i=ke.bufferInfo(e,t,s);if(i.len===0&&i.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(t,r);if(a&&i.nextStart<a.end)return ke.bufferInfo(e,t,Math.max(i.nextStart,s))}return i}getMaxBufferLength(e){const{config:t}=this;let r;return e?r=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):r=t.maxBufferLength,Math.min(r,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const r=this.config,s=Math.max(Math.min(e-t,r.maxBufferLength),t),i=Math.max(e-t*3,r.maxMaxBufferLength/2,s);return i>=s?(r.maxMaxBufferLength=i,this.warn(`Reduce max buffer length to ${i}s`),!0):!1}getAppendedFrag(e,t=ne.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,ne.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,t){const r=t.fragments,s=r.length;if(!s)return null;const{config:i}=this,a=r[0].start;let o;if(t.live){const l=i.initialLiveManifestSize;if(s<l)return this.warn(`Not enough fragments to start playback (have: ${s}, need: ${l})`),null;(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a)&&(o=this.getInitialLiveFragment(t,r),this.startPosition=this.nextLoadPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=a&&(o=r[0]);if(!o){const l=i.lowLatencyMode?t.partEnd:t.fragmentEnd;o=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,t){const r=this.fragmentTracker.getState(e);return(r===Je.OK||r===Je.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,r,s,i){const a=e.gap,o=this.getNextFragment(this.nextLoadPosition,t);if(o===null)return o;if(e=o,a&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,s);if(l!==null&&r.len+l.len>=i)return this.log(`buffer full after gaps in "${s}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,r){let s=-1,i=!1,a=!0;for(let o=0,l=e.length;o<l;o++){const c=e[o];if(a=a&&!c.independent,s>-1&&r<c.start)break;const u=c.loaded;u?s=-1:(i||c.independent||a)&&c.fragment===t&&(s=o),i=u}return s}loadedEndOfParts(e,t){const r=e[e.length-1];return r&&t>r.start&&r.loaded}getInitialLiveFragment(e,t){const r=this.fragPrevious;let s=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),s=D4(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){const i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){const a=t[i-e.startSN];r.cc===a.cc&&(s=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${s.sn}`))}s||(s=O4(t,r.cc),s&&this.log(`Live playlist, switching playlist, load frag with same CC: ${s.sn}`))}}else{const i=this.hls.liveSyncPosition;i!==null&&(s=this.getFragmentAtPosition(i,this.bitrateTest?e.fragmentEnd:e.edge,e))}return s}getFragmentAtPosition(e,t,r){const{config:s}=this;let{fragPrevious:i}=this,{fragments:a,endSN:o}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=s,u=r.partList,d=!!(s.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(a=a.concat(l),o=l.sn);let f;if(e<t){const h=e>t-c?0:c;f=jl(i,a,e,h)}else f=a[a.length-1];if(f){const h=f.sn-r.startSN,p=this.fragmentTracker.getState(f);if((p===Je.OK||p===Je.PARTIAL&&f.gap)&&(i=f),i&&f.sn===i.sn&&(!d||u[0].fragment.sn>f.sn)&&i&&f.level===i.level){const g=a[h+1];f.sn<o&&this.fragmentTracker.getState(g)!==Je.OK?f=g:f=null}}return f}synchronizeToLiveEdge(e){const{config:t,media:r}=this;if(!r)return;const s=this.hls.liveSyncPosition,i=r.currentTime,a=e.fragments[0].start,o=e.edge,l=i>=a-t.maxFragLookUpTolerance&&i<=o;if(s!==null&&r.duration>s&&(i<s||!l)){const c=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||i<o-c)&&(this.loadedmetadata||(this.nextLoadPosition=s),r.readyState&&(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${s.toFixed(3)}`),r.currentTime=s))}}alignPlaylists(e,t,r){const s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;const i=e.fragments[0].start,a=!t,o=e.alignedSliding&&X(i);if(a||!o&&!i){const{fragPrevious:l}=this;e5(l,r,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${s}`),c}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let r=this.startPosition;if(r<t&&(r=-1),r===-1||this.lastCurrentTime===-1){const s=this.startTimeOffset!==null,i=s?this.startTimeOffset:e.startTimeOffset;i!==null&&X(i)?(r=t+i,i<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log(`Start time offset ${i} found in ${s?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==G.FRAG_LOADING_WAITING_RETRY)&&(this.state=G.IDLE)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const u=this.getCurrentContext(t.chunkMeta);u&&(t.frag=u.frag)}const r=t.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var s;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const i=t.details===U.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(r,!0);const a=t.errorAction,{action:o,retryCount:l=0,retryConfig:c}=a||{};if(a&&o===nt.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=Zh(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${t.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),a.resolved=!0,this.retryDate=self.performance.now()+u,this.state=G.FRAG_LOADING_WAITING_RETRY}else if(c&&a)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!i&&o!==nt.RemoveAlternatePermanently&&(a.resolved=!0);else{j.warn(`${t.details} reached or exceeded max retry (${l})`);return}else(a==null?void 0:a.action)===nt.SendAlternateToPenaltyBox?this.state=G.WAITING_LEVEL:this.state=G.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===G.PARSING||this.state===G.PARSED){const t=e.frag,r=e.parent,s=this.getFwdBufferInfo(this.mediaBuffer,r),i=s&&s.len>.5;i&&this.reduceMaxBufferLength(s.len,(t==null?void 0:t.duration)||10);const a=!i;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===ne.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==G.STOPPED&&(this.state=G.IDLE)}afterBufferFlushed(e,t,r){if(!e)return;const s=ke.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,s,r),this.state===G.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=G.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const t=e?e.details:null;t!=null&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,r,s){var i;const a=r.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const f=s?0:yw(a,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(C.LEVEL_PTS_UPDATED,{details:a,level:r,drift:f,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((i=this.transmuxer)==null?void 0:i.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=G.PARSED,this.hls.trigger(C.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}class Aw{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let r;if(e.length)e.length===1?r=e[0]:r=c5(e,t);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function c5(n,e){const t=new Uint8Array(e);let r=0;for(let s=0;s<n.length;s++){const i=n[s];t.set(i,r),r+=i.length}return t}function u5(){return typeof __HLS_WORKER_BUNDLE__=="function"}function d5(){const n=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(n);return{worker:new self.Worker(e),objectURL:e}}function f5(n){const e=new self.URL(n,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function vn(n="",e=9e4){return{type:n,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class sp{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,r,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,r){}demux(e,t){this.cachedData&&(e=Kt(this.cachedData,e),this.cachedData=null);let r=ya(e,0),s=r?r.length:0,i;const a=this._audioTrack,o=this._id3Track,l=r?Jh(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&X(l))&&(this.basePTS=h5(l,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:an.audioId3,duration:Number.POSITIVE_INFINITY});s<c;){if(this.canParse(e,s)){const u=this.appendFrame(a,e,s);u?(this.frameIndex++,this.lastPTS=u.sample.pts,s+=u.length,i=s):s=c}else _R(e,s)?(r=ya(e,s),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:an.audioId3,duration:Number.POSITIVE_INFINITY}),s+=r.length,i=s):s++;if(s===c&&i!==c){const u=ns(e,i);this.cachedData?this.cachedData=Kt(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:vn(),id3Track:o,textTrack:vn()}}demuxSampleAes(e,t,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:vn(),id3Track:this._id3Track,textTrack:vn()}}destroy(){}}const h5=(n,e,t)=>{if(X(n))return n*90;const r=t?t.baseTime*9e4/t.timescale:0;return e*9e4+r};function p5(n,e,t,r){let s,i,a,o;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=((e[t+2]&192)>>>6)+1;const d=(e[t+2]&60)>>>2;if(d>u.length-1){const f=new Error(`invalid ADTS sampling index:${d}`);n.emit(C.ERROR,C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return a=(e[t+2]&1)<<2,a|=(e[t+3]&192)>>>6,j.log(`manifest codec:${r}, ADTS type:${s}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(s=5,o=new Array(4),i=d-3):(s=2,o=new Array(2),i=d):l.indexOf("android")!==-1?(s=2,o=new Array(2),i=d):(s=5,o=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&d>=6?i=d-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(d>=6&&a===1||/vivaldi/i.test(l))||!r&&a===1)&&(s=2,o=new Array(2)),i=d)),o[0]=s<<3,o[0]|=(d&14)>>1,o[1]|=(d&1)<<7,o[1]|=a<<3,s===5&&(o[1]|=(i&14)>>1,o[2]=(i&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[d],channelCount:a,codec:"mp4a.40."+s,manifestCodec:c}}function Lw(n,e){return n[e]===255&&(n[e+1]&246)===240}function Cw(n,e){return n[e+1]&1?7:9}function ip(n,e){return(n[e+3]&3)<<11|n[e+4]<<3|(n[e+5]&224)>>>5}function m5(n,e){return e+5<n.length}function Bl(n,e){return e+1<n.length&&Lw(n,e)}function g5(n,e){return m5(n,e)&&Lw(n,e)&&ip(n,e)<=n.length-e}function x5(n,e){if(Bl(n,e)){const t=Cw(n,e);if(e+t>=n.length)return!1;const r=ip(n,e);if(r<=t)return!1;const s=e+r;return s===n.length||Bl(n,s)}return!1}function Iw(n,e,t,r,s){if(!n.samplerate){const i=p5(e,t,r,s);if(!i)return;n.config=i.config,n.samplerate=i.samplerate,n.channelCount=i.channelCount,n.codec=i.codec,n.manifestCodec=i.manifestCodec,j.log(`parsed codec:${n.codec}, rate:${i.samplerate}, channels:${i.channelCount}`)}}function kw(n){return 1024*9e4/n}function y5(n,e){const t=Cw(n,e);if(e+t<=n.length){const r=ip(n,e)-t;if(r>0)return{headerLength:t,frameLength:r}}}function Rw(n,e,t,r,s){const i=kw(n.samplerate),a=r+s*i,o=y5(e,t);let l;if(o){const{frameLength:d,headerLength:f}=o,h=f+d,p=Math.max(0,t+h-e.length);p?(l=new Uint8Array(h-f),l.set(e.subarray(t+f,e.length),0)):l=e.subarray(t+f,t+h);const m={unit:l,pts:a};return p||n.samples.push(m),{sample:m,length:h,missing:p}}const c=e.length-t;return l=new Uint8Array(c),l.set(e.subarray(t,e.length),0),{sample:{unit:l,pts:a},length:c,missing:-1}}let fo=null;const v5=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],w5=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],b5=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],S5=[0,1,1,4];function Nw(n,e,t,r,s){if(t+24>e.length)return;const i=Dw(e,t);if(i&&t+i.frameLength<=e.length){const a=i.samplesPerFrame*9e4/i.sampleRate,o=r+s*a,l={unit:e.subarray(t,t+i.frameLength),pts:o,dts:o};return n.config=[],n.channelCount=i.channelCount,n.samplerate=i.sampleRate,n.samples.push(l),{sample:l,length:i.frameLength,missing:0}}}function Dw(n,e){const t=n[e+1]>>3&3,r=n[e+1]>>1&3,s=n[e+2]>>4&15,i=n[e+2]>>2&3;if(t!==1&&s!==0&&s!==15&&i!==3){const a=n[e+2]>>1&1,o=n[e+3]>>6,l=t===3?3-r:r===3?3:4,c=v5[l*14+s-1]*1e3,d=w5[(t===3?0:t===2?1:2)*3+i],f=o===3?1:2,h=b5[t][r],p=S5[r],m=h*8*p,g=Math.floor(h*c/d+a)*p;if(fo===null){const y=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);fo=y?parseInt(y[1]):0}return!!fo&&fo<=87&&r===2&&c>=224e3&&o===0&&(n[e+3]=n[e+3]|128),{sampleRate:d,channelCount:f,frameLength:g,samplesPerFrame:m}}}function ap(n,e){return n[e]===255&&(n[e+1]&224)===224&&(n[e+1]&6)!==0}function Pw(n,e){return e+1<n.length&&ap(n,e)}function E5(n,e){return ap(n,e)&&4<=n.length-e}function _w(n,e){if(e+1<n.length&&ap(n,e)){const r=Dw(n,e);let s=4;r!=null&&r.frameLength&&(s=r.frameLength);const i=e+s;return i===n.length||Pw(n,i)}return!1}class T5 extends sp{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,r,s){super.resetInitSegment(e,t,r,s),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=ya(e,0);let r=(t==null?void 0:t.length)||0;if(_w(e,r))return!1;for(let s=e.length;r<s;r++)if(x5(e,r))return j.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return g5(e,t)}appendFrame(e,t,r){Iw(e,this.observer,t,r,e.manifestCodec);const s=Rw(e,t,r,this.basePTS,this.frameIndex);if(s&&s.missing===0)return s}}const A5=/\/emsg[-/]ID3/i;class L5{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,r,s){const i=this.videoTrack=vn("video",1),a=this.audioTrack=vn("audio",1),o=this.txtTrack=vn("text",1);if(this.id3Track=vn("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=uw(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;i.id=c,i.timescale=o.timescale=u,i.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;a.id=c,a.timescale=u,a.codec=d}o.id=ow.text,i.sampleDuration=0,i.duration=a.duration=s}resetContiguity(){this.remainderData=null}static probe(e){return HR(e)}demux(e,t){this.timeOffset=t;let r=e;const s=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Kt(this.remainderData,e));const o=QR(r);this.remainderData=o.remainder,s.samples=o.valid||new Uint8Array}else s.samples=r;const a=this.extractID3Track(s,t);return i.samples=jg(t,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const s=this.extractID3Track(t,this.timeOffset);return r.samples=jg(e,t),{videoTrack:t,audioTrack:vn(),id3Track:s,textTrack:vn()}}extractID3Track(e,t){const r=this.id3Track;if(e.samples.length){const s=ce(e.samples,["emsg"]);s&&s.forEach(i=>{const a=e4(i);if(A5.test(a.schemeIdUri)){const o=X(a.presentationTime)?a.presentationTime/a.timeScale:t+a.presentationTimeDelta/a.timeScale;let l=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=a.payload;r.samples.push({data:c,len:c.byteLength,dts:o,pts:o,type:an.emsg,duration:l})}})}return r}demuxSampleAes(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const Ow=(n,e)=>{let t=0,r=5;e+=r;const s=new Uint32Array(1),i=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=n[e];const o=Math.min(r,8),l=8-o;i[0]=4278190080>>>24+l<<l,s[0]=(a[0]&i[0])>>l,t=t?t<<o|s[0]:s[0],e+=1,r-=o}return t};class C5 extends sp{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,r,s){super.resetInitSegment(e,t,r,s),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,r){const s=Mw(e,t,r,this.basePTS,this.frameIndex);if(s!==-1)return{sample:e.samples[e.samples.length-1],length:s,missing:0}}static probe(e){if(!e)return!1;const t=ya(e,0);if(!t)return!1;const r=t.length;return e[r]===11&&e[r+1]===119&&Jh(t)!==void 0&&Ow(e,r)<16}}function Mw(n,e,t,r,s){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const i=e[t+4]>>6;if(i>=3)return-1;const o=[48e3,44100,32e3][i],l=e[t+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+i]*2;if(t+u>e.length)return-1;const d=e[t+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const h=(e[t+6]<<8|e[t+7])>>12-f&1,m=[2,1,2,3,3,4,4,5][d]+h,g=e[t+5]>>3,v=e[t+5]&7,w=new Uint8Array([i<<6|g<<1|v>>2,(v&3)<<6|d<<3|h<<2|l>>4,l<<4&224]),y=1536/o*9e4,S=r+s*y,b=e.subarray(t,t+u);return n.config=w,n.channelCount=m,n.samplerate=o,n.samples.push({unit:b,pts:S}),u}class I5{constructor(){this.VideoSample=null}createVideoSample(e,t,r,s){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:s,length:0}}getLastNalUnit(e){var t;let r=this.VideoSample,s;if((!r||r.units.length===0)&&(r=e[e.length-1]),(t=r)!=null&&t.units){const i=r.units;s=i[i.length-1]}return s}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const r=t.samples,s=r.length;if(s){const i=r[s-1];e.pts=i.pts,e.dts=i.dts}else{t.dropped++;return}}t.samples.push(e)}e.debug.length&&j.log(e.pts+"/"+e.dts+":"+e.debug)}}class f0{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,r=e.byteLength-t,s=new Uint8Array(4),i=Math.min(4,t);if(i===0)throw new Error("no bytes available");s.set(e.subarray(r,r+i)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=i*8,this.bytesAvailable-=i}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const r=this.word>>>32-t;if(e>32&&j.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t=8,r=8,s;for(let i=0;i<e;i++)r!==0&&(s=this.readEG(),r=(t+s+256)%256),t=r===0?t:r}readSPS(){let e=0,t=0,r=0,s=0,i,a,o;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);l();const g=l();if(c(5),f(3),l(),p(),g===100||g===110||g===122||g===244||g===44||g===83||g===86||g===118||g===128){const T=u();if(T===3&&f(1),p(),p(),f(1),d())for(a=T!==3?8:12,o=0;o<a;o++)d()&&(o<6?m(16):m(64))}p();const v=u();if(v===0)u();else if(v===1)for(f(1),h(),h(),i=u(),o=0;o<i;o++)h();p(),f(1);const w=u(),y=u(),S=c(1);S===0&&f(1),f(1),d()&&(e=u(),t=u(),r=u(),s=u());let b=[1,1];if(d()&&d())switch(l()){case 1:b=[1,1];break;case 2:b=[12,11];break;case 3:b=[10,11];break;case 4:b=[16,11];break;case 5:b=[40,33];break;case 6:b=[24,11];break;case 7:b=[20,11];break;case 8:b=[32,11];break;case 9:b=[80,33];break;case 10:b=[18,11];break;case 11:b=[15,11];break;case 12:b=[64,33];break;case 13:b=[160,99];break;case 14:b=[4,3];break;case 15:b=[3,2];break;case 16:b=[2,1];break;case 255:{b=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((w+1)*16-e*2-t*2),height:(2-S)*(y+1)*16-(S?2:4)*(r+s),pixelRatio:b}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class k5 extends I5{parseAVCPES(e,t,r,s,i){const a=this.parseAVCNALu(e,r.data);let o=this.VideoSample,l,c=!1;r.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),a.forEach(u=>{var d;switch(u.type){case 1:{let m=!1;l=!0;const g=u.data;if(c&&g.length>4){const v=new f0(g).readSliceType();(v===2||v===4||v===7||v===9)&&(m=!0)}if(m){var f;(f=o)!=null&&f.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),o.frame=!0,o.key=m;break}case 5:l=!0,(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),o.key=!0,o.frame=!0;break;case 6:{l=!0,fw(u.data,1,r.pts,t.samples);break}case 7:{var h,p;l=!0,c=!0;const m=u.data,v=new f0(m).readSPS();if(!e.sps||e.width!==v.width||e.height!==v.height||((h=e.pixelRatio)==null?void 0:h[0])!==v.pixelRatio[0]||((p=e.pixelRatio)==null?void 0:p[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[m],e.duration=i;const w=m.subarray(1,4);let y="avc1.";for(let S=0;S<3;S++){let b=w[S].toString(16);b.length<2&&(b="0"+b),y+=b}e.codec=y}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:l=!0;break;default:l=!1,o&&(o.debug+="unknown NAL "+u.type+" ");break}o&&l&&o.units.push(u)}),s&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,t){const r=t.byteLength;let s=e.naluState||0;const i=s,a=[];let o=0,l,c,u,d=-1,f=0;for(s===-1&&(d=0,f=t[0]&31,s=0,o=1);o<r;){if(l=t[o++],!s){s=l?0:1;continue}if(s===1){s=l?0:2;continue}if(!l)s=3;else if(l===1){if(c=o-s-1,d>=0){const h={data:t.subarray(d,c),type:f};a.push(h)}else{const h=this.getLastNalUnit(e.samples);h&&(i&&o<=4-i&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-i)),c>0&&(h.data=Kt(h.data,t.subarray(0,c)),h.state=0))}o<r?(u=t[o]&31,d=o,f=u,s=0):s=-1}else s=0}if(d>=0&&s>=0){const h={data:t.subarray(d,r),type:f,state:s};a.push(h)}if(a.length===0){const h=this.getLastNalUnit(e.samples);h&&(h.data=Kt(h.data,t))}return e.naluState=s,a}}class R5{constructor(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new np(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,r){const s=e[t].unit;if(s.length<=16)return;const i=s.subarray(16,s.length-s.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(a).then(o=>{const l=new Uint8Array(o);s.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,r)})}decryptAacSamples(e,t,r){for(;;t++){if(t>=e.length){r();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(t);let s=0;for(let i=32;i<e.length-16;i+=160,s+=16)r.set(e.subarray(i,i+16),s);return r}getAvcDecryptedUnit(e,t){const r=new Uint8Array(t);let s=0;for(let i=32;i<e.length-16;i+=160,s+=16)e.set(r.subarray(s,s+16),i);return e}decryptAvcSample(e,t,r,s,i){const a=hw(i.data),o=this.getAvcEncryptedData(a);this.decryptBuffer(o.buffer).then(l=>{i.data=this.getAvcDecryptedUnit(a,l),this.decrypter.isSync()||this.decryptAvcSamples(e,t,r+1,s)})}decryptAvcSamples(e,t,r,s){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length){s();return}const i=e[t].units;for(;!(r>=i.length);r++){const a=i[r];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,t,r,s,a),!this.decrypter.isSync()))return}}}}const qe=188;class mr{constructor(e,t,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=r,this.videoParser=new k5}static probe(e){const t=mr.syncOffset(e);return t>0&&j.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),t!==-1}static syncOffset(e){const t=e.length;let r=Math.min(qe*5,t-qe)+1,s=0;for(;s<r;){let i=!1,a=-1,o=0;for(let l=s;l<t;l+=qe)if(e[l]===71&&(t-l===qe||e[l+qe]===71)){if(o++,a===-1&&(a=l,a!==0&&(r=Math.min(a+qe*99,e.length-qe)+1)),i||(i=Tf(e,l)===0),i&&o>1&&(a===0&&o>2||l+qe>r))return a}else{if(o)return-1;break}s++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:ow[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,r,s){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=mr.createTrack("video"),this._audioTrack=mr.createTrack("audio",s),this._id3Track=mr.createTrack("id3"),this._txtTrack=mr.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=r,this._duration=s}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:r}=this;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,r=!1,s=!1){r||(this.sampleAes=null);let i;const a=this._videoTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=a.pid,d=a.pesData,f=o.pid,h=l.pid,p=o.pesData,m=l.pesData,g=null,v=this.pmtParsed,w=this._pmtId,y=e.length;if(this.remainderData&&(e=Kt(this.remainderData,e),y=e.length,this.remainderData=null),y<qe&&!s)return this.remainderData=e,{audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};const S=Math.max(0,mr.syncOffset(e));y-=(y-S)%qe,y<e.byteLength&&!s&&(this.remainderData=new Uint8Array(e.buffer,y,e.buffer.byteLength-y));let b=0;for(let I=S;I<y;I+=qe)if(e[I]===71){const E=!!(e[I+1]&64),A=Tf(e,I),L=(e[I+3]&48)>>4;let k;if(L>1){if(k=I+5+e[I+4],k===I+qe)continue}else k=I+4;switch(A){case u:E&&(d&&(i=Es(d))&&this.videoParser.parseAVCPES(a,c,i,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(k,I+qe)),d.size+=I+qe-k);break;case f:if(E){if(p&&(i=Es(p)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,i);break;case"mp3":this.parseMPEGPES(o,i);break;case"ac3":this.parseAC3PES(o,i);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(k,I+qe)),p.size+=I+qe-k);break;case h:E&&(m&&(i=Es(m))&&this.parseID3PES(l,i),m={data:[],size:0}),m&&(m.data.push(e.subarray(k,I+qe)),m.size+=I+qe-k);break;case 0:E&&(k+=e[k]+1),w=this._pmtId=N5(e,k);break;case w:{E&&(k+=e[k]+1);const R=D5(e,k,this.typeSupported,r,this.observer);u=R.videoPid,u>0&&(a.pid=u,a.segmentCodec=R.segmentVideoCodec),f=R.audioPid,f>0&&(o.pid=f,o.segmentCodec=R.segmentAudioCodec),h=R.id3Pid,h>0&&(l.pid=h),g!==null&&!v&&(j.warn(`MPEG-TS PMT found at ${I} after unknown PID '${g}'. Backtracking to sync byte @${S} to parse all TS packets.`),g=null,I=S-188),v=this.pmtParsed=!0;break}case 17:case 8191:break;default:g=A;break}}else b++;b>0&&Ul(this.observer,new Error(`Found ${b} TS packet/s that do not start with 0x47`)),a.pesData=d,o.pesData=p,l.pesData=m;const T={audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};return s&&this.extractRemainingSamples(T),T}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:r,id3Track:s,textTrack:i}=e,a=r.pesData,o=t.pesData,l=s.pesData;let c;if(a&&(c=Es(a))?(this.videoParser.parseAVCPES(r,i,c,!0,this._duration),r.pesData=null):r.pesData=a,o&&(c=Es(o))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,c);break;case"mp3":this.parseMPEGPES(t,c);break;case"ac3":this.parseAC3PES(t,c);break}t.pesData=null}else o!=null&&o.size&&j.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=o;l&&(c=Es(l))?(this.parseID3PES(s,c),s.pesData=null):s.pesData=l}demuxSampleAes(e,t,r){const s=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new R5(this.observer,this.config,t);return this.decrypt(s,i)}decrypt(e,t){return new Promise(r=>{const{audioTrack:s,videoTrack:i}=e;s.samples&&s.segmentCodec==="aac"?t.decryptAacSamples(s.samples,0,()=>{i.samples?t.decryptAvcSamples(i.samples,0,0,()=>{r(e)}):r(e)}):i.samples&&t.decryptAvcSamples(i.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,t){let r=0;const s=this.aacOverFlow;let i=t.data;if(s){this.aacOverFlow=null;const d=s.missing,f=s.sample.unit.byteLength;if(d===-1)i=Kt(s.sample.unit,i);else{const h=f-d;s.sample.unit.set(i.subarray(0,d),h),e.samples.push(s.sample),r=s.missing}}let a,o;for(a=r,o=i.length;a<o-1&&!Bl(i,a);a++);if(a!==r){let d;const f=a<o-1;if(f?d=`AAC PES did not start with ADTS header,offset:${a}`:d="No ADTS header found in AAC PES",Ul(this.observer,new Error(d),f),!f)return}Iw(e,this.observer,i,a,this.audioCodec);let l;if(t.pts!==void 0)l=t.pts;else if(s){const d=kw(e.samplerate);l=s.sample.pts+d}else{j.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;a<o;)if(u=Rw(e,i,a,l,c),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;a<o-1&&!Bl(i,a);a++);}parseMPEGPES(e,t){const r=t.data,s=r.length;let i=0,a=0;const o=t.pts;if(o===void 0){j.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<s;)if(Pw(r,a)){const l=Nw(e,r,a,o,i);if(l)a+=l.length,i++;else break}else a++}parseAC3PES(e,t){{const r=t.data,s=t.pts;if(s===void 0){j.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const i=r.length;let a=0,o=0,l;for(;o<i&&(l=Mw(e,r,o,s,a++))>0;)o+=l}}parseID3PES(e,t){if(t.pts===void 0){j.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Ve({},t,{type:this._videoTrack?an.emsg:an.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function Tf(n,e){return((n[e+1]&31)<<8)+n[e+2]}function N5(n,e){return(n[e+10]&31)<<8|n[e+11]}function D5(n,e,t,r,s){const i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(n[e+1]&15)<<8|n[e+2],o=e+3+a-4,l=(n[e+10]&15)<<8|n[e+11];for(e+=12+l;e<o;){const c=Tf(n,e),u=(n[e+3]&15)<<8|n[e+4];switch(n[e]){case 207:if(!r){Nu("ADTS AAC");break}case 15:i.audioPid===-1&&(i.audioPid=c);break;case 21:i.id3Pid===-1&&(i.id3Pid=c);break;case 219:if(!r){Nu("H.264");break}case 27:i.videoPid===-1&&(i.videoPid=c,i.segmentVideoCodec="avc");break;case 3:case 4:!t.mpeg&&!t.mp3?j.log("MPEG audio found, not supported in this browser"):i.audioPid===-1&&(i.audioPid=c,i.segmentAudioCodec="mp3");break;case 193:if(!r){Nu("AC-3");break}case 129:t.ac3?i.audioPid===-1&&(i.audioPid=c,i.segmentAudioCodec="ac3"):j.log("AC-3 audio found, not supported in this browser");break;case 6:if(i.audioPid===-1&&u>0){let d=e+5,f=u;for(;f>2;){switch(n[d]){case 106:t.ac3!==!0?j.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=c,i.segmentAudioCodec="ac3");break}const p=n[d+1]+2;d+=p,f-=p}}break;case 194:case 135:return Ul(s,new Error("Unsupported EC-3 in M2TS found")),i;case 36:return Ul(s,new Error("Unsupported HEVC in M2TS found")),i}e+=u+5}return i}function Ul(n,e,t){j.warn(`parsing error: ${e.message}`),n.emit(C.ERROR,C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function Nu(n){j.log(`${n} with AES-128-CBC encryption found in unencrypted stream`)}function Es(n){let e=0,t,r,s,i,a;const o=n.data;if(!n||n.size===0)return null;for(;o[0].length<19&&o.length>1;)o[0]=Kt(o[0],o[1]),o.splice(1,1);if(t=o[0],(t[0]<<16)+(t[1]<<8)+t[2]===1){if(r=(t[4]<<8)+t[5],r&&r>n.size-6)return null;const c=t[7];c&192&&(i=(t[9]&14)*536870912+(t[10]&255)*4194304+(t[11]&254)*16384+(t[12]&255)*128+(t[13]&254)/2,c&64?(a=(t[14]&14)*536870912+(t[15]&255)*4194304+(t[16]&254)*16384+(t[17]&255)*128+(t[18]&254)/2,i-a>60*9e4&&(j.warn(`${Math.round((i-a)/9e4)}s delta between PTS and DTS, align them`),i=a)):a=i),s=t[8];let u=s+9;if(n.size<=u)return null;n.size-=u;const d=new Uint8Array(n.size);for(let f=0,h=o.length;f<h;f++){t=o[f];let p=t.byteLength;if(u)if(u>p){u-=p;continue}else t=t.subarray(u),p-=u,u=0;d.set(t,e),e+=p}return r&&(r-=s+3),{data:d,pts:i,dts:a,len:r}}return null}class P5 extends sp{resetInitSegment(e,t,r,s){super.resetInitSegment(e,t,r,s),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=ya(e,0);let r=(t==null?void 0:t.length)||0;if(t&&e[r]===11&&e[r+1]===119&&Jh(t)!==void 0&&Ow(e,r)<=16)return!1;for(let s=e.length;r<s;r++)if(_w(e,r))return j.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return E5(e,t)}appendFrame(e,t,r){if(this.basePTS!==null)return Nw(e,t,r,this.basePTS,this.frameIndex)}}class h0{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const fr=Math.pow(2,32)-1;class B{static init(){B.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in B.types)B.types.hasOwnProperty(e)&&(B.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);B.HDLR_TYPES={video:t,audio:r};const s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);B.STTS=B.STSC=B.STCO=i,B.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),B.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),B.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);B.FTYP=B.box(B.types.ftyp,a,l,a,o),B.DINF=B.box(B.types.dinf,B.box(B.types.dref,s))}static box(e,...t){let r=8,s=t.length;const i=s;for(;s--;)r+=t[s].byteLength;const a=new Uint8Array(r);for(a[0]=r>>24&255,a[1]=r>>16&255,a[2]=r>>8&255,a[3]=r&255,a.set(e,4),s=0,r=8;s<i;s++)a.set(t[s],r),r+=t[s].byteLength;return a}static hdlr(e){return B.box(B.types.hdlr,B.HDLR_TYPES[e])}static mdat(e){return B.box(B.types.mdat,e)}static mdhd(e,t){t*=e;const r=Math.floor(t/(fr+1)),s=Math.floor(t%(fr+1));return B.box(B.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,s>>24,s>>16&255,s>>8&255,s&255,85,196,0,0]))}static mdia(e){return B.box(B.types.mdia,B.mdhd(e.timescale,e.duration),B.hdlr(e.type),B.minf(e))}static mfhd(e){return B.box(B.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?B.box(B.types.minf,B.box(B.types.smhd,B.SMHD),B.DINF,B.stbl(e)):B.box(B.types.minf,B.box(B.types.vmhd,B.VMHD),B.DINF,B.stbl(e))}static moof(e,t,r){return B.box(B.types.moof,B.mfhd(e),B.traf(r,t))}static moov(e){let t=e.length;const r=[];for(;t--;)r[t]=B.trak(e[t]);return B.box.apply(null,[B.types.moov,B.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(B.mvex(e)))}static mvex(e){let t=e.length;const r=[];for(;t--;)r[t]=B.trex(e[t]);return B.box.apply(null,[B.types.mvex,...r])}static mvhd(e,t){t*=e;const r=Math.floor(t/(fr+1)),s=Math.floor(t%(fr+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,s>>24,s>>16&255,s>>8&255,s&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return B.box(B.types.mvhd,i)}static sdtp(e){const t=e.samples||[],r=new Uint8Array(4+t.length);let s,i;for(s=0;s<t.length;s++)i=t[s].flags,r[s+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return B.box(B.types.sdtp,r)}static stbl(e){return B.box(B.types.stbl,B.stsd(e),B.box(B.types.stts,B.STTS),B.box(B.types.stsc,B.STSC),B.box(B.types.stsz,B.STSZ),B.box(B.types.stco,B.STCO))}static avc1(e){let t=[],r=[],s,i,a;for(s=0;s<e.sps.length;s++)i=e.sps[s],a=i.byteLength,t.push(a>>>8&255),t.push(a&255),t=t.concat(Array.prototype.slice.call(i));for(s=0;s<e.pps.length;s++)i=e.pps[s],a=i.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(i));const o=B.box(B.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return B.box(B.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,B.box(B.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),B.box(B.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return B.box(B.types.mp4a,B.audioStsd(e),B.box(B.types.esds,B.esds(e)))}static mp3(e){return B.box(B.types[".mp3"],B.audioStsd(e))}static ac3(e){return B.box(B.types["ac-3"],B.audioStsd(e),B.box(B.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?B.box(B.types.stsd,B.STSD,B.mp3(e)):e.segmentCodec==="ac3"?B.box(B.types.stsd,B.STSD,B.ac3(e)):B.box(B.types.stsd,B.STSD,B.mp4a(e)):B.box(B.types.stsd,B.STSD,B.avc1(e))}static tkhd(e){const t=e.id,r=e.duration*e.timescale,s=e.width,i=e.height,a=Math.floor(r/(fr+1)),o=Math.floor(r%(fr+1));return B.box(B.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,i>>8&255,i&255,0,0]))}static traf(e,t){const r=B.sdtp(e),s=e.id,i=Math.floor(t/(fr+1)),a=Math.floor(t%(fr+1));return B.box(B.types.traf,B.box(B.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),B.box(B.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,a>>24,a>>16&255,a>>8&255,a&255])),B.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,B.box(B.types.trak,B.tkhd(e),B.mdia(e))}static trex(e){const t=e.id;return B.box(B.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const r=e.samples||[],s=r.length,i=12+16*s,a=new Uint8Array(i);let o,l,c,u,d,f;for(t+=8+i,a.set([e.type==="video"?1:0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),o=0;o<s;o++)l=r[o],c=l.duration,u=l.size,d=l.flags,f=l.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*o);return B.box(B.types.trun,a)}static initSegment(e){B.types||B.init();const t=B.moov(e);return Kt(B.FTYP,t)}}B.types=void 0;B.HDLR_TYPES=void 0;B.STTS=void 0;B.STSC=void 0;B.STCO=void 0;B.STSZ=void 0;B.VMHD=void 0;B.SMHD=void 0;B.STSD=void 0;B.FTYP=void 0;B.DINF=void 0;const Fw=9e4;function op(n,e,t=1,r=!1){const s=n*e*t;return r?Math.round(s):s}function _5(n,e,t=1,r=!1){return op(n,e,1/t,r)}function ki(n,e=!1){return op(n,1e3,1/Fw,e)}function O5(n,e=1){return op(n,Fw,1/e)}const M5=10*1e3,p0=1024,F5=1152,j5=1536;let Ts=null,Du=null;class Bo{constructor(e,t,r,s=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,Ts===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ts=a?parseInt(a[1]):0}if(Du===null){const i=navigator.userAgent.match(/Safari\/(\d+)/i);Du=i?parseInt(i[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){j.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){j.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){j.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const r=e[0].pts,s=e.reduce((i,a)=>{let o=a.pts,l=o-i;return l<-4294967296&&(t=!0,o=$t(o,r),l=o-i),l>0?i:o},r);return t&&j.debug("PTS rollover detected"),s}remux(e,t,r,s,i,a,o,l){let c,u,d,f,h,p,m=i,g=i;const v=e.pid>-1,w=t.pid>-1,y=t.samples.length,S=e.samples.length>0,b=o&&y>0||y>1;if((!v||S)&&(!w||b)||this.ISGenerated||o){if(this.ISGenerated){var I,E,A,L;const P=this.videoTrackConfig;P&&(t.width!==P.width||t.height!==P.height||((I=t.pixelRatio)==null?void 0:I[0])!==((E=P.pixelRatio)==null?void 0:E[0])||((A=t.pixelRatio)==null?void 0:A[1])!==((L=P.pixelRatio)==null?void 0:L[1]))&&this.resetInitSegment()}else d=this.generateIS(e,t,i,a);const k=this.isVideoContiguous;let R=-1,N;if(b&&(R=$5(t.samples),!k&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,R>0){j.warn(`[mp4-remuxer]: Dropped ${R} out of ${y} video samples due to a missing keyframe`);const P=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(R),t.dropped+=R,g+=(t.samples[0].pts-P)/t.inputTimeScale,N=g}else R===-1&&(j.warn(`[mp4-remuxer]: No keyframe found out of ${y} video samples`),p=!1);if(this.ISGenerated){if(S&&b){const P=this.getVideoStartPts(t.samples),$=($t(e.samples[0].pts,P)-P)/t.inputTimeScale;m+=Math.max(0,$),g+=Math.max(0,-$)}if(S){if(e.samplerate||(j.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,t,i,a)),u=this.remuxAudio(e,m,this.isAudioContiguous,a,w||b||l===ne.AUDIO?g:void 0),b){const P=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(j.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,t,i,a)),c=this.remuxVideo(t,g,k,P)}}else b&&(c=this.remuxVideo(t,g,k,0));c&&(c.firstKeyFrame=R,c.independent=R!==-1,c.firstKeyFramePTS=N)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(h=jw(r,i,this._initPTS,this._initDTS)),s.samples.length&&(f=$w(s,i,this._initPTS))),{audio:u,video:c,initSegment:d,independent:p,text:f,id3:h}}generateIS(e,t,r,s){const i=e.samples,a=t.samples,o=this.typeSupported,l={},c=this._initPTS;let u=!c||s,d="audio/mp4",f,h,p;if(u&&(f=h=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(d="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):B.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(p=e.inputTimeScale,!c||p!==c.timescale?f=h=i[0].pts-Math.round(p*r):u=!1)}if(t.sps&&t.pps&&a.length){if(t.timescale=t.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:B.initSegment([t]),metadata:{width:t.width,height:t.height}},u)if(p=t.inputTimeScale,!c||p!==c.timescale){const m=this.getVideoStartPts(a),g=Math.round(p*r);h=Math.min(h,$t(a[0].dts,m)-g),f=Math.min(f,m-g)}else u=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:f,timescale:p},this._initDTS={baseTime:h,timescale:p}):f=p=void 0,{tracks:l,initPTS:f,timescale:p}}remuxVideo(e,t,r,s){const i=e.inputTimeScale,a=e.samples,o=[],l=a.length,c=this._initPTS;let u=this.nextAvcDts,d=8,f=this.videoSampleDuration,h,p,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!1;if(!r||u===null){const O=t*i,M=a[0].pts-$t(a[0].dts,a[0].pts);Ts&&u!==null&&Math.abs(O-M-u)<15e3?r=!0:u=O-M}const w=c.baseTime*i/c.timescale;for(let O=0;O<l;O++){const M=a[O];M.pts=$t(M.pts-w,u),M.dts=$t(M.dts-w,u),M.dts<a[O>0?O-1:O].dts&&(v=!0)}v&&a.sort(function(O,M){const V=O.dts-M.dts,W=O.pts-M.pts;return V||W}),h=a[0].dts,p=a[a.length-1].dts;const y=p-h,S=y?Math.round(y/(l-1)):f||e.inputTimeScale/30;if(r){const O=h-u,M=O>S,V=O<-1;if((M||V)&&(M?j.warn(`AVC: ${ki(O,!0)} ms (${O}dts) hole between fragments detected at ${t.toFixed(3)}`):j.warn(`AVC: ${ki(-O,!0)} ms (${O}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!V||u>=a[0].pts||Ts)){h=u;const W=a[0].pts-O;if(M)a[0].dts=h,a[0].pts=W;else for(let J=0;J<a.length&&!(a[J].dts>W);J++)a[J].dts-=O,a[J].pts-=O;j.log(`Video: Initial PTS/DTS adjusted: ${ki(W,!0)}/${ki(h,!0)}, delta: ${ki(O,!0)} ms`)}}h=Math.max(0,h);let b=0,T=0,I=h;for(let O=0;O<l;O++){const M=a[O],V=M.units,W=V.length;let J=0;for(let re=0;re<W;re++)J+=V[re].data.length;T+=J,b+=W,M.length=J,M.dts<I?(M.dts=I,I+=S/4|0||1):I=M.dts,m=Math.min(M.pts,m),g=Math.max(M.pts,g)}p=a[l-1].dts;const E=T+4*b+8;let A;try{A=new Uint8Array(E)}catch(O){this.observer.emit(C.ERROR,C.ERROR,{type:ie.MUX_ERROR,details:U.REMUX_ALLOC_ERROR,fatal:!1,error:O,bytes:E,reason:`fail allocating video mdat ${E}`});return}const L=new DataView(A.buffer);L.setUint32(0,E),A.set(B.types.mdat,4);let k=!1,R=Number.POSITIVE_INFINITY,N=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,_=Number.NEGATIVE_INFINITY;for(let O=0;O<l;O++){const M=a[O],V=M.units;let W=0;for(let pe=0,Q=V.length;pe<Q;pe++){const ae=V[pe],Ie=ae.data,we=ae.data.byteLength;L.setUint32(d,we),d+=4,A.set(Ie,d),d+=we,W+=4+we}let J;if(O<l-1)f=a[O+1].dts-M.dts,J=a[O+1].pts-M.pts;else{const pe=this.config,Q=O>0?M.dts-a[O-1].dts:S;if(J=O>0?M.pts-a[O-1].pts:S,pe.stretchShortVideoTrack&&this.nextAudioPts!==null){const ae=Math.floor(pe.maxBufferHole*i),Ie=(s?m+s*i:this.nextAudioPts)-M.pts;Ie>ae?(f=Ie-Q,f<0?f=Q:k=!0,j.log(`[mp4-remuxer]: It is approximately ${Ie/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=Q}else f=Q}const re=Math.round(M.pts-M.dts);R=Math.min(R,f),P=Math.max(P,f),N=Math.min(N,J),_=Math.max(_,J),o.push(new m0(M.key,f,W,re))}if(o.length){if(Ts){if(Ts<70){const O=o[0].flags;O.dependsOn=2,O.isNonSync=0}}else if(Du&&_-N<P-R&&S/P<.025&&o[0].cts===0){j.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let O=h;for(let M=0,V=o.length;M<V;M++){const W=O+o[M].duration,J=O+o[M].cts;if(M<V-1){const re=W+o[M+1].cts;o[M].duration=re-J}else o[M].duration=M?o[M-1].duration:S;o[M].cts=0,O=W}}}f=k||!f?S:f,this.nextAvcDts=u=p+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const F={data1:B.moof(e.sequenceNumber++,h,Ve({},e,{samples:o})),data2:A,startPTS:m/i,endPTS:(g+f)/i,startDTS:h/i,endDTS:u/i,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,F}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return F5;case"ac3":return j5;default:return p0}}remuxAudio(e,t,r,s,i){const a=e.inputTimeScale,o=e.samplerate?e.samplerate:a,l=a/o,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],p=i!==void 0;let m=e.samples,g=f?0:8,v=this.nextAudioPts||-1;const w=t*a,y=d.baseTime*a/d.timescale;if(this.isAudioContiguous=r=r||m.length&&v>0&&(s&&Math.abs(w-v)<9e3||Math.abs($t(m[0].pts-y,w)-v)<20*u),m.forEach(function($){$.pts=$t($.pts-y,w)}),!r||v<0){if(m=m.filter($=>$.pts>=0),!m.length)return;i===0?v=0:s&&!p?v=Math.max(0,w):v=m[0].pts}if(e.segmentCodec==="aac"){const $=this.config.maxAudioFramesDrift;for(let H=0,F=v;H<m.length;H++){const O=m[H],M=O.pts,V=M-F,W=Math.abs(1e3*V/a);if(V<=-$*u&&p)H===0&&(j.warn(`Audio frame @ ${(M/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*V/a)} ms.`),this.nextAudioPts=v=F=M);else if(V>=$*u&&W<M5&&p){let J=Math.round(V/u);F=M-J*u,F<0&&(J--,F+=u),H===0&&(this.nextAudioPts=v=F),j.warn(`[mp4-remuxer]: Injecting ${J} audio frame @ ${(F/a).toFixed(3)}s due to ${Math.round(1e3*V/a)} ms gap.`);for(let re=0;re<J;re++){const pe=Math.max(F,0);let Q=h0.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Q||(j.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Q=O.unit.subarray()),m.splice(H,0,{unit:Q,pts:pe}),F+=u,H++}}O.pts=F,F+=u}}let S=null,b=null,T,I=0,E=m.length;for(;E--;)I+=m[E].unit.byteLength;for(let $=0,H=m.length;$<H;$++){const F=m[$],O=F.unit;let M=F.pts;if(b!==null){const W=h[$-1];W.duration=Math.round((M-b)/l)}else if(r&&e.segmentCodec==="aac"&&(M=v),S=M,I>0){I+=g;try{T=new Uint8Array(I)}catch(W){this.observer.emit(C.ERROR,C.ERROR,{type:ie.MUX_ERROR,details:U.REMUX_ALLOC_ERROR,fatal:!1,error:W,bytes:I,reason:`fail allocating audio mdat ${I}`});return}f||(new DataView(T.buffer).setUint32(0,I),T.set(B.types.mdat,4))}else return;T.set(O,g);const V=O.byteLength;g+=V,h.push(new m0(!0,c,V,0)),b=M}const A=h.length;if(!A)return;const L=h[h.length-1];this.nextAudioPts=v=b+l*L.duration;const k=f?new Uint8Array(0):B.moof(e.sequenceNumber++,S/l,Ve({},e,{samples:h}));e.samples=[];const R=S/a,N=v/a,_={data1:k,data2:T,startPTS:R,endPTS:N,startDTS:R,endDTS:N,type:"audio",hasAudio:!0,hasVideo:!1,nb:A};return this.isAudioContiguous=!0,_}remuxEmptyAudio(e,t,r,s){const i=e.inputTimeScale,a=e.samplerate?e.samplerate:i,o=i/a,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:s.startDTS*i)+u,f=s.endDTS*i+u,h=o*p0,p=Math.ceil((f-d)/h),m=h0.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(j.warn("[mp4-remuxer]: remux empty Audio"),!m){j.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const g=[];for(let v=0;v<p;v++){const w=d+v*h;g.push({unit:m,pts:w,dts:w})}return e.samples=g,this.remuxAudio(e,t,r,!1)}}function $t(n,e){let t;if(e===null)return n;for(e<n?t=-8589934592:t=8589934592;Math.abs(n-e)>4294967296;)n+=t;return n}function $5(n){for(let e=0;e<n.length;e++)if(n[e].key)return e;return-1}function jw(n,e,t,r){const s=n.samples.length;if(!s)return;const i=n.inputTimeScale;for(let o=0;o<s;o++){const l=n.samples[o];l.pts=$t(l.pts-t.baseTime*i/t.timescale,e*i)/i,l.dts=$t(l.dts-r.baseTime*i/r.timescale,e*i)/i}const a=n.samples;return n.samples=[],{samples:a}}function $w(n,e,t){const r=n.samples.length;if(!r)return;const s=n.inputTimeScale;for(let a=0;a<r;a++){const o=n.samples[a];o.pts=$t(o.pts-t.baseTime*s/t.timescale,e*s)/s}n.samples.sort((a,o)=>a.pts-o.pts);const i=n.samples;return n.samples=[],{samples:i}}class m0{constructor(e,t,r,s){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=r,this.cts=s,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class B5{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,r,s){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(WR(e,s)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const s=this.initData=uw(e);s.audio&&(t=g0(s.audio,Ae.AUDIO)),s.video&&(r=g0(s.video,Ae.VIDEO));const i={};s.audio&&s.video?i.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:s.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:s.video?i.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:j.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(e,t,r,s,i,a){var o,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:s,id3:r,initSegment:void 0};X(u)||(u=this.lastEndTime=i||0);const f=t.samples;if(!(f!=null&&f.length))return d;const h={initPTS:void 0,timescale:1};let p=this.initData;if((o=p)!=null&&o.length||(this.generateInitSegment(f),p=this.initData),!((l=p)!=null&&l.length))return j.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const m=YR(f,p),g=KR(p,f),v=g===null?i:g;(U5(c,v,i,m)||h.timescale!==c.timescale&&a)&&(h.initPTS=v-i,c&&c.timescale===1&&j.warn(`Adjusting initPTS by ${h.initPTS-c.baseTime}`),this.initPTS=c={baseTime:h.initPTS,timescale:1});const w=e?v-c.baseTime/c.timescale:u,y=w+m;XR(p,f,c.baseTime/c.timescale),m>0?this.lastEndTime=y:(j.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const S=!!p.audio,b=!!p.video;let T="";S&&(T+="audio"),b&&(T+="video");const I={data1:f,startPTS:w,startDTS:w,endPTS:y,endDTS:y,type:T,hasAudio:S,hasVideo:b,nb:1,dropped:0};return d.audio=I.type==="audio"?I:void 0,d.video=I.type!=="audio"?I:void 0,d.initSegment=h,d.id3=jw(r,i,c,c),s.samples.length&&(d.text=$w(s,i,c)),d}}function U5(n,e,t,r){if(n===null)return!0;const s=Math.max(r,1),i=e-n.baseTime/n.timescale;return Math.abs(i-t)>s}function g0(n,e){const t=n==null?void 0:n.codec;if(t&&t.length>4)return t;if(e===Ae.AUDIO){if(t==="ec-3"||t==="ac-3"||t==="alac")return t;if(t==="fLaC"||t==="Opus")return _l(t,!1);const r="mp4a.40.5";return j.info(`Parsed audio codec "${t}" or audio object type not handled. Using "${r}"`),r}return j.warn(`Unhandled video codec "${t}"`),t==="hvc1"||t==="hev1"?"hvc1.1.6.L120.90":t==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Gn;try{Gn=self.performance.now.bind(self.performance)}catch{j.debug("Unable to use Performance API on this environment"),Gn=ii==null?void 0:ii.Date.now}const Uo=[{demux:L5,remux:B5},{demux:mr,remux:Bo},{demux:T5,remux:Bo},{demux:P5,remux:Bo}];Uo.splice(2,0,{demux:C5,remux:Bo});class x0{constructor(e,t,r,s,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=r,this.vendor=s,this.id=i}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,r,s){const i=r.transmuxing;i.executeStart=Gn();let a=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;s&&(this.currentTransmuxState=s);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:f,timeOffset:h,initSegmentChange:p}=s||o,{audioCodec:m,videoCodec:g,defaultInitPts:v,duration:w,initSegmentData:y}=l,S=z5(a,t);if(S&&S.method==="AES-128"){const E=this.getDecrypter();if(E.isSync()){let A=E.softwareDecrypt(a,S.key.buffer,S.iv.buffer);if(r.part>-1&&(A=E.flush()),!A)return i.executeEnd=Gn(),Pu(r);a=new Uint8Array(A)}else return this.decryptionPromise=E.webCryptoDecrypt(a,S.key.buffer,S.iv.buffer).then(A=>{const L=this.push(A,null,r);return this.decryptionPromise=null,L}),this.decryptionPromise}const b=this.needsProbing(u,d);if(b){const E=this.configureTransmuxer(a);if(E)return j.warn(`[transmuxer] ${E.message}`),this.observer.emit(C.ERROR,C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_PARSING_ERROR,fatal:!1,error:E,reason:E.message}),i.executeEnd=Gn(),Pu(r)}(u||d||p||b)&&this.resetInitSegment(y,m,g,w,t),(u||p||b)&&this.resetInitialTimestamp(v),c||this.resetContiguity();const T=this.transmux(a,S,h,f,r),I=this.currentTransmuxState;return I.contiguous=!0,I.discontinuity=!1,I.trackSwitch=!1,i.executeEnd=Gn(),T}flush(e){const t=e.transmuxing;t.executeStart=Gn();const{decrypter:r,currentTransmuxState:s,decryptionPromise:i}=this;if(i)return i.then(()=>this.flush(e));const a=[],{timeOffset:o}=s;if(r){const d=r.flush();d&&a.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return t.executeEnd=Gn(),[Pu(e)];const u=l.flush(o);return zo(u)?u.then(d=>(this.flushRemux(a,d,e),a)):(this.flushRemux(a,u,e),a)}flushRemux(e,t,r){const{audioTrack:s,videoTrack:i,id3Track:a,textTrack:o}=t,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;j.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const u=this.remuxer.remux(s,i,a,o,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=Gn()}resetInitialTimestamp(e){const{demuxer:t,remuxer:r}=this;!t||!r||(t.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,r,s,i){const{demuxer:a,remuxer:o}=this;!a||!o||(a.resetInitSegment(e,t,r,s),o.resetInitSegment(e,t,r,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,r,s,i){let a;return t&&t.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,t,r,s,i):a=this.transmuxUnencrypted(e,r,s,i),a}transmuxUnencrypted(e,t,r,s){const{audioTrack:i,videoTrack:a,id3Track:o,textTrack:l}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,a,o,l,t,r,!1,this.id),chunkMeta:s}}transmuxSampleAes(e,t,r,s,i){return this.demuxer.demuxSampleAes(e,t,r).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,r,s,!1,this.id),chunkMeta:i}))}configureTransmuxer(e){const{config:t,observer:r,typeSupported:s,vendor:i}=this;let a;for(let f=0,h=Uo.length;f<h;f++){var o;if((o=Uo[f].demux)!=null&&o.probe(e)){a=Uo[f];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=a.remux,d=a.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(r,t,s,i)),(!l||!(l instanceof d))&&(this.demuxer=new d(r,t,s),this.probe=d.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new np(this.config)),e}}function z5(n,e){let t=null;return n.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const Pu=n=>({remuxResult:{},chunkMeta:n});function zo(n){return"then"in n&&n.then instanceof Function}class H5{constructor(e,t,r,s,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=s,this.defaultInitPts=i||null}}class G5{constructor(e,t,r,s,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=s,this.timeOffset=i,this.initSegmentChange=a}}var Bw={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,d||l,f),p=t?t+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=t?t+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(c){var u=t?t+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,f,h,p){var m=t?t+c:c;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,w,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,f),!0;case 5:return g.fn.call(g.context,u,d,f,h),!0;case 6:return g.fn.call(g.context,u,d,f,h,p),!0}for(y=1,w=new Array(v-1);y<v;y++)w[y-1]=arguments[y];g.fn.apply(g.context,w)}else{var S=g.length,b;for(y=0;y<S;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,u);break;case 3:g[y].fn.call(g[y].context,u,d);break;case 4:g[y].fn.call(g[y].context,u,d,f);break;default:if(!w)for(b=1,w=new Array(v-1);b<v;b++)w[b-1]=arguments[b];g[y].fn.apply(g[y].context,w)}}return!0},o.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,f){var h=t?t+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&a(this,h);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&g.push(p[m]);g.length?this._events[h]=g.length===1?g[0]:g:a(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(Bw);var V5=Bw.exports,lp=pR(V5);class Uw{constructor(e,t,r,s){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=e.config;this.hls=e,this.id=t,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=r,this.onFlush=s;const a=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===C.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new lp,this.observer.on(C.FRAG_DECRYPTED,a),this.observer.on(C.ERROR,a);const o=ps(i.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:o.isTypeSupported("audio/mpeg"),mp3:o.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:o.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(i.workerPath||u5())){try{i.workerPath?(j.log(`loading Web Worker ${i.workerPath} for "${t}"`),this.workerContext=f5(i.workerPath)):(j.log(`injecting Web Worker for "${t}"`),this.workerContext=d5()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const f=new Error(`${d.message}  (${d.filename}:${d.lineno})`);i.enableWorker=!1,j.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(C.ERROR,{type:ie.OTHER_ERROR,details:U.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:t,config:JSON.stringify(i)})}catch(u){j.warn(`Error setting up "${t}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new x0(this.observer,l,i,"",t)}return}this.transmuxer=new x0(this.observer,l,i,"",t)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,r,s,i,a,o,l,c,u){var d,f;c.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=a?a.start:i.start,m=i.decryptdata,g=this.frag,v=!(g&&i.cc===g.cc),w=!(g&&c.level===g.level),y=g?c.sn-g.sn:-1,S=this.part?c.part-this.part.index:-1,b=y===0&&c.id>1&&c.id===(g==null?void 0:g.stats.chunkCount),T=!w&&(y===1||y===0&&(S===1||b&&S<=0)),I=self.performance.now();(w||y||i.stats.parsing.start===0)&&(i.stats.parsing.start=I),a&&(S||!T)&&(a.stats.parsing.start=I);const E=!(g&&((d=i.initSegment)==null?void 0:d.url)===((f=g.initSegment)==null?void 0:f.url)),A=new G5(v,T,l,w,p,E);if(!T||v||E){j.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${v}
        trackSwitch: ${w}
        contiguous: ${T}
        accurateTimeOffset: ${l}
        timeOffset: ${p}
        initSegmentChange: ${E}`);const L=new H5(r,s,t,o,u);this.configureTransmuxer(L)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(h){const L=h.push(e,m,c,A);zo(L)?(h.async=!0,L.then(k=>{this.handleTransmuxComplete(k)}).catch(k=>{this.transmuxerError(k,c,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete(L))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let r=t.flush(e);zo(r)||t.async?(zo(r)||(r=Promise.resolve(r)),r.then(i=>{this.handleFlushResult(i,e)}).catch(i=>{this.transmuxerError(i,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,t,r){this.hls&&(this.error=e,this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,t){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(t)}onWorkerMessage(e){const t=e.data;if(!(t!=null&&t.event)){j.warn(`worker message received with no ${t?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(t.event){case"init":{var s;const i=(s=this.workerContext)==null?void 0:s.objectURL;i&&self.URL.revokeObjectURL(i);break}case"transmuxComplete":{this.handleTransmuxComplete(t.data);break}case"flush":{this.onFlush(t.data);break}case"workerLog":j[t.data.logType]&&j[t.data.logType](t.data.message);break;default:{t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data);break}}}configureTransmuxer(e){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const y0=100;class W5 extends rp{constructor(e,t,r){super(e,t,r,"[audio-stream-controller]",ne.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.LEVEL_LOADED,this.onLevelLoaded,this),e.on(C.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(C.ERROR,this.onError,this),e.on(C.BUFFER_RESET,this.onBufferReset,this),e.on(C.BUFFER_CREATED,this.onBufferCreated,this),e.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(C.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(C.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(C.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.LEVEL_LOADED,this.onLevelLoaded,this),e.off(C.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(C.ERROR,this.onError,this),e.off(C.BUFFER_RESET,this.onBufferReset,this),e.off(C.BUFFER_CREATED,this.onBufferCreated,this),e.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(C.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(C.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(C.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:t,id:r,initPTS:s,timescale:i}){if(r==="main"){const a=t.cc;this.initPTS[t.cc]={baseTime:s,timescale:i},this.log(`InitPTS for cc: ${a} found from main: ${s}`),this.videoTrackCC=a,this.state===G.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=G.STOPPED;return}const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(y0),t>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t,this.state=G.IDLE):(this.loadedmetadata=!1,this.state=G.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case G.IDLE:this.doTickIdle();break;case G.WAITING_TRACK:{var e;const{levels:r,trackId:s}=this,i=r==null||(e=r[s])==null?void 0:e.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=G.WAITING_INIT_PTS}break}case G.FRAG_LOADING_WAITING_RETRY:{var t;const r=performance.now(),s=this.retryDate;if(!s||r>=s||(t=this.media)!=null&&t.seeking){const{levels:i,trackId:a}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((i==null?void 0:i[a])||null),this.state=G.IDLE}break}case G.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:s,part:i,cache:a,complete:o}=r;if(this.initPTS[s.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=G.FRAG_LOADING;const l=a.flush(),c={frag:s,part:i,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),o&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${s.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=ke.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);Ef(c.end,this.config.maxFragLookUpTolerance,s)<0&&(this.log(`Waiting fragment cc (${s.cc}) @ ${s.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=G.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=G.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:t,media:r,trackId:s}=this,i=e.config;if(!this.buffering||!r&&(this.startFragRequested||!i.startFragPrefetch)||!(t!=null&&t[s]))return;const a=t[s],o=a.details;if(!o||o.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(o)){this.state=G.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,Ae.AUDIO,ne.AUDIO));const c=this.getFwdBufferInfo(l,ne.AUDIO);if(c===null)return;if(!this.switchingTrack&&this._streamEnded(c,o)){e.trigger(C.BUFFER_EOS,{type:"audio"}),this.state=G.ENDED;return}const u=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ne.MAIN),d=c.len,f=this.getMaxBufferLength(u==null?void 0:u.len),h=o.fragments,p=h[0].start,m=this.getLoadPosition(),g=this.flushing?m:c.end;if(this.switchingTrack&&r){const S=m;o.PTSKnown&&S<p&&(c.end>p||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=p+.05)}if(d>=f&&!this.switchingTrack&&g<h[h.length-1].start)return;let v=this.getNextFragment(g,o),w=!1;if(v&&this.isLoopLoading(v,g)&&(w=!!v.gap,v=this.getNextFragmentLoopLoading(v,o,c,ne.MAIN,f)),!v){this.bufferFlushed=!0;return}const y=u&&v.start>u.end+o.targetduration;if(y||!(u!=null&&u.len)&&c.len){const S=this.getAppendedFrag(v.start,ne.MAIN);if(S===null||(w||(w=!!S.gap||!!y&&u.len===0),y&&!w||w&&c.nextStart&&c.nextStart<S.end))return}this.loadFragment(v,a,g)}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(r=>new ai(r))}onAudioTrackSwitching(e,t){const r=!!t.url;this.trackId=t.id;const{fragCurrent:s}=this;s&&(s.abortRequests(),this.removeUnbufferedFrags(s.start)),this.resetLoadingState(),r?this.setInterval(y0):this.resetTransmuxer(),r?(this.switchingTrack=t,this.state=G.IDLE,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=G.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(C.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=t;return}const{levels:s}=this,{details:i,id:a}=t;if(!s){this.warn(`Audio tracks were reset while loading level ${a}`);return}this.log(`Audio track ${a} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const o=s[a];let l=0;if(i.live||(r=o.details)!=null&&r.live){this.checkLiveUpdate(i);const u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;if(!o.details&&i.hasProgramDateTime&&u.hasProgramDateTime)$l(i,u),l=i.fragments[0].start;else{var c;l=this.alignPlaylists(i,o.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}o.details=i,this.levelLastLoaded=o,!this.startFragRequested&&(this.mainDetails||!i.live)&&this.setStartPosition(this.mainDetails||i,l),this.state===G.WAITING_TRACK&&!this.waitForCdnTuneIn(i)&&(this.state=G.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:r,part:s,payload:i}=e,{config:a,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[o];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new Uw(this.hls,ne.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[r.cc],p=(t=r.initSegment)==null?void 0:t.data;if(h!==void 0){const g=s?s.index:-1,v=g!==-1,w=new tp(r.level,r.sn,r.stats.chunkCount,i.byteLength,g,v);f.push(i,p,d,"",r,s,u.totalduration,!1,w,h)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${o}`);const{cache:m}=this.waitingData=this.waitingData||{frag:r,part:s,cache:new Aw,complete:!1};m.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=G.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){const r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){const{frag:r,part:s}=t;if(r.type!==ne.AUDIO){if(!this.loadedmetadata&&r.type===ne.MAIN){const i=this.videoBuffer||this.media;i&&ke.getBuffered(i).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${s?" p: "+s.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(C.AUDIO_TRACK_SWITCHED,et({},i)))}this.fragBufferedComplete(r,s)}onError(e,t){var r;if(t.fatal){this.state=G.ERROR;return}switch(t.details){case U.FRAG_GAP:case U.FRAG_PARSING_ERROR:case U.FRAG_DECRYPT_ERROR:case U.FRAG_LOAD_ERROR:case U.FRAG_LOAD_TIMEOUT:case U.KEY_LOAD_ERROR:case U.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ne.AUDIO,t);break;case U.AUDIO_TRACK_LOAD_ERROR:case U.AUDIO_TRACK_LOAD_TIMEOUT:case U.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===G.WAITING_TRACK&&((r=t.context)==null?void 0:r.type)===ye.AUDIO_TRACK&&(this.state=G.IDLE);break;case U.BUFFER_APPEND_ERROR:case U.BUFFER_FULL_ERROR:if(!t.parent||t.parent!=="audio")return;if(t.details===U.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case U.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Ae.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Ae.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===G.ENDED&&(this.state=G.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,t,ne.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const r="audio",{hls:s}=this,{remuxResult:i,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{details:d}=u,{audio:f,text:h,id3:p,initSegment:m}=i;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=G.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const g=l.initSegment||l;this._bufferInitSegment(u,m.tracks,g,a),s.trigger(C.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:r,tracks:m.tracks})}if(f){const{startPTS:g,endPTS:v,startDTS:w,endDTS:y}=f;c&&(c.elementaryStreams[Ae.AUDIO]={startPTS:g,endPTS:v,startDTS:w,endDTS:y}),l.setElementaryStreamInfo(Ae.AUDIO,g,v,w,y),this.bufferFragmentData(f,l,c,a)}if(p!=null&&(t=p.samples)!=null&&t.length){const g=Ve({id:r,frag:l,details:d},p);s.trigger(C.FRAG_PARSING_METADATA,g)}if(h){const g=Ve({id:r,frag:l,details:d},h);s.trigger(C.FRAG_PARSING_USERDATA,g)}}_bufferInitSegment(e,t,r,s){if(this.state!==G.PARSING)return;t.video&&delete t.video;const i=t.audio;if(!i)return;i.id="audio";const a=e.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${a}/${i.codec}]`),a&&a.split(",").length===1&&(i.levelCodec=a),this.hls.trigger(C.BUFFER_CODECS,t);const o=i.initSegment;if(o!=null&&o.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:s,parent:r.type,data:o};this.hls.trigger(C.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,t,r){const s=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||s===Je.NOT_LOADED||s===Je.PARTIAL){var i;if(e.sn==="initSegment")this._loadInitSegment(e,t);else if((i=t.details)!=null&&i.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=G.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragments[0].start!==t.details.fragments[0].start&&$l(t.details,a)}else this.startFragRequested=!0,super.loadFragment(e,t,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:r,assocLang:s,characteristics:i,audioCodec:a,channels:o}=this.bufferedTrack;rs({name:t,lang:r,assocLang:s,characteristics:i,audioCodec:a,channels:o},e,Wr)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(C.AUDIO_TRACK_SWITCHED,et({},e))}}function zw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!ba(n[t].attrs,e[t].attrs))return!1;return!0}function ba(n,e,t){const r=n["STABLE-RENDITION-ID"];return r&&!t?r===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(s=>n[s]!==e[s])}function Af(n,e){return e.label.toLowerCase()===n.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(n.lang||"").toLowerCase())}class K5 extends ep{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_PARSED,this.onManifestParsed,this),e.on(C.LEVEL_LOADING,this.onLevelLoading,this),e.on(C.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(C.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_PARSED,this.onManifestParsed,this),e.off(C.LEVEL_LOADING,this.onLevelLoading,this),e.off(C.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(C.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:r,groupId:s,details:i}=t,a=this.tracksInGroup[r];if(!a||a.groupId!==s){this.warn(`Audio track with id:${r} and group:${s} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=t.details,this.log(`Audio track ${r} "${a.name}" lang:${a.lang} group:${s} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,t,o)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const r=t.audioGroups||null,s=this.groupIds;let i=this.currentTrack;if(!r||(s==null?void 0:s.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(s==null?void 0:s.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(f=>f.default)&&(this.selectDefaultTrack=!1),o.forEach((f,h)=>{f.id=h});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.audioPreference;if(!i&&l){const f=An(l,o,Wr);if(f>-1)i=o[f];else{const h=An(l,this.tracks);i=this.tracks[h]}}let c=this.findTrackId(i);c===-1&&i&&(c=this.findTrackId(null));const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(C.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(o.length&&d===-1){var a;const f=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${o.length}`);this.warn(f.message),this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}onError(e,t){t.fatal||!t.context||t.context.type===ye.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(t))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const s=this.currentTrack;if(s&&rs(e,s,Wr))return s;const i=An(e,this.tracksInGroup,Wr);if(i>-1){const a=this.tracksInGroup[i];return this.setAudioTrack(i),a}else if(s){let a=t.loadLevel;a===-1&&(a=t.firstAutoLevel);const o=K4(e,t.levels,r,a,Wr);if(o===-1)return null;t.nextLoadLevel=o}if(e.channels||e.audioCodec){const a=An(e,r);if(a>-1)return r[a]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,s=t[e],i=s.details&&!s.details.live;if(e===this.trackId&&s===r&&i||(this.log(`Switching to audio-track ${e} "${s.name}" lang:${s.lang} group:${s.groupId} channels:${s.channels}`),this.trackId=e,this.currentTrack=s,this.hls.trigger(C.AUDIO_TRACK_SWITCHING,et({},s)),i))return;const a=this.switchParams(s.url,r==null?void 0:r.details,s.details);this.loadPlaylist(a)}findTrackId(e){const t=this.tracksInGroup;for(let r=0;r<t.length;r++){const s=t[r];if(!(this.selectDefaultTrack&&!s.default)&&(!e||rs(e,s,Wr)))return r}if(e){const{name:r,lang:s,assocLang:i,characteristics:a,audioCodec:o,channels:l}=e;for(let c=0;c<t.length;c++){const u=t[c];if(rs({name:r,lang:s,assocLang:i,characteristics:a,audioCodec:o,channels:l},u,Wr))return c}for(let c=0;c<t.length;c++){const u=t[c];if(ba(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<t.length;c++){const u=t[c];if(ba(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();const r=t.id,s=t.groupId;let i=t.url;if(e)try{i=e.addDirectives(i)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`loading audio-track playlist ${r} "${t.name}" lang:${t.lang} group:${s}`),this.clearTimer(),this.hls.trigger(C.AUDIO_TRACK_LOADING,{url:i,id:r,groupId:s,deliveryDirectives:e||null})}}}const v0=500;class Y5 extends rp{constructor(e,t,r){super(e,t,r,"[subtitle-stream-controller]",ne.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.LEVEL_LOADED,this.onLevelLoaded,this),e.on(C.ERROR,this.onError,this),e.on(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(C.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(C.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(C.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.LEVEL_LOADED,this.onLevelLoaded,this),e.off(C.ERROR,this.onError,this),e.off(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(C.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(C.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(C.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=G.IDLE,this.setInterval(v0),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:r,success:s}=t;if(this.fragPrevious=r,this.state=G.IDLE,!s)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let a;const o=r.start;for(let c=0;c<i.length;c++)if(o>=i[c].start&&o<=i[c].end){a=i[c];break}const l=r.start+r.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,t){const{startOffset:r,endOffset:s}=t;if(r===0&&s!==Number.POSITIVE_INFINITY){const i=s-1;if(i<=0)return;t.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach(a=>{for(let o=0;o<a.length;){if(a[o].end<=i){a.shift();continue}else if(a[o].start<i)a[o].start=i;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(r,i,ne.SUBTITLE)}}onFragBuffered(e,t){if(!this.loadedmetadata&&t.frag.type===ne.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,t){const r=t.frag;(r==null?void 0:r.type)===ne.SUBTITLE&&(t.details===U.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==G.STOPPED&&(this.state=G.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&zw(this.levels,t)){this.levels=t.map(r=>new ai(r));return}this.tracksBuffered=[],this.levels=t.map(r=>{const s=new ai(r);return this.tracksBuffered[s.id]=[],s}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ne.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var r;if(this.currentTrackId=t.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const s=this.levels[this.currentTrackId];s!=null&&s.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,s&&this.setInterval(v0)}onSubtitleTrackLoaded(e,t){var r;const{currentTrackId:s,levels:i}=this,{details:a,id:o}=t;if(!i){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const l=i[o];if(o>=i.length||!l)return;this.log(`Subtitle track ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(a.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(a.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!l.details)a.hasProgramDateTime&&d.hasProgramDateTime?($l(a,d),c=a.fragments[0].start):f&&(c=f.start,Sf(a,c));else{var u;c=this.alignPlaylists(a,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&f&&(c=f.start,Sf(a,c))}}l.details=a,this.levelLastLoaded=l,o===s&&(!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(this.mainDetails||a,c),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===G.IDLE&&(jl(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:r}=e,s=t.decryptdata,i=this.hls;if(!this.fragContextChanged(t)&&r&&r.byteLength>0&&s!=null&&s.key&&s.iv&&s.method==="AES-128"){const a=performance.now();this.decrypter.decrypt(new Uint8Array(r),s.key.buffer,s.iv.buffer).catch(o=>{throw i.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:t}),o}).then(o=>{const l=performance.now();i.trigger(C.FRAG_DECRYPTED,{frag:t,payload:o,stats:{tstart:a,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=G.IDLE})}}doTick(){if(!this.media){this.state=G.IDLE;return}if(this.state===G.IDLE){const{currentTrackId:e,levels:t}=this,r=t==null?void 0:t[e];if(!r||!t.length||!r.details)return;const{config:s}=this,i=this.getLoadPosition(),a=ke.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,s.maxBufferHole),{end:o,len:l}=a,c=this.getFwdBufferInfo(this.media,ne.MAIN),u=r.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const f=u.fragments,h=f.length,p=u.edge;let m=null;const g=this.fragPrevious;if(o<p){const v=s.maxFragLookUpTolerance,w=o>p-v?0:v;m=jl(g,f,Math.max(f[0].start,o),w),!m&&g&&g.start<f[0].start&&(m=f[0])}else m=f[h-1];if(!m)return;if(m=this.mapToInitFragWhenRequired(m),m.sn!=="initSegment"){const v=m.sn-u.startSN,w=f[v-1];w&&w.cc===m.cc&&this.fragmentTracker.getState(w)===Je.NOT_LOADED&&(m=w)}this.fragmentTracker.getState(m)===Je.NOT_LOADED&&this.loadFragment(m,r,o)}}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,r))}get mediaBufferTimeRanges(){return new q5(this.tracksBuffered[this.currentTrackId]||[])}}class q5{constructor(e){this.buffered=void 0;const t=(r,s,i)=>{if(s=s>>>0,s>i-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${i})`);return e[s][r]};this.buffered={get length(){return e.length},end(r){return t("end",r,e.length)},start(r){return t("start",r,e.length)}}}}class X5 extends ep{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const r=Fo(this.media.textTracks);for(let i=0;i<r.length;i++)if(r[i].mode==="hidden")t=r[i];else if(r[i].mode==="showing"){t=r[i];break}const s=this.findTrackForTextTrack(t);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_PARSED,this.onManifestParsed,this),e.on(C.LEVEL_LOADING,this.onLevelLoading,this),e.on(C.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(C.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_PARSED,this.onManifestParsed,this),e.off(C.LEVEL_LOADING,this.onLevelLoading,this),e.off(C.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(C.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Fo(this.media.textTracks).forEach(t=>{$s(t)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:r,groupId:s,details:i}=t,a=this.tracksInGroup[r];if(!a||a.groupId!==s){this.warn(`Subtitle track with id:${r} and group:${s} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=t.details,this.log(`Subtitle track ${r} "${a.name}" lang:${a.lang} group:${s} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,t,o)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const r=t.subtitleGroups||null,s=this.groupIds;let i=this.currentTrack;if(!r||(s==null?void 0:s.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(s==null?void 0:s.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!r||r.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,d)=>{u.id=d});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const o=this.hls.config.subtitlePreference;if(!i&&o){this.selectDefaultTrack=!1;const u=An(o,a);if(u>-1)i=a[u];else{const d=An(o,this.tracks);i=this.tracks[d]}}let l=this.findTrackId(i);l===-1&&i&&(l=this.findTrackId(null));const c={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(C.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const t=this.tracksInGroup,r=this.selectDefaultTrack;for(let s=0;s<t.length;s++){const i=t[s];if(!(r&&!i.default||!r&&!e)&&(!e||rs(i,e)))return s}if(e){for(let s=0;s<t.length;s++){const i=t[s];if(ba(e.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<t.length;s++){const i=t[s];if(ba(e.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let r=0;r<t.length;r++){const s=t[r];if(Af(s,e))return r}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===ye.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const r=this.currentTrack;if(r&&rs(e,r))return r;const s=An(e,this.tracksInGroup);if(s>-1){const i=this.tracksInGroup[s];return this.setSubtitleTrack(s),i}else{if(r)return null;{const i=An(e,t);if(i>-1)return t[i]}}}}return null}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){const r=t.id,s=t.groupId;let i=t.url;if(e)try{i=e.addDirectives(i)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(C.SUBTITLE_TRACK_LOADING,{url:i,id:r,groupId:s,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Fo(e.textTracks),r=this.currentTrack;let s;if(r&&(s=t.filter(i=>Af(r,i))[0],s||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(t).forEach(i=>{i.mode!=="disabled"&&i!==s&&(i.mode="disabled")}),s){const i=this.subtitleDisplay?"showing":"hidden";s.mode!==i&&(s.mode=i)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!X(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,s=t[e]||null;if(this.trackId=e,this.currentTrack=s,this.toggleTrackModes(),!s){this.hls.trigger(C.SUBTITLE_TRACK_SWITCH,{id:e});return}const i=!!s.details&&!s.details.live;if(e===this.trackId&&s===r&&i)return;this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:""));const{id:a,groupId:o="",name:l,type:c,url:u}=s;this.hls.trigger(C.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:c,url:u});const d=this.switchParams(s.url,r==null?void 0:r.details,s.details);this.loadPlaylist(d)}}class Q5{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,r){const s=this.queues[t];s.push(e),s.length===1&&!r&&this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t;const r=new Promise(i=>{t=i}),s={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(s,e),r}executeNext(e){const t=this.queues[e];if(t.length){const r=t[0];try{r.execute()}catch(s){j.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${s}`),r.onError(s);const i=this.buffers[e];i!=null&&i.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const w0=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class J5{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:s}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(C.MEDIA_ATTACHED,{media:r,mediaSource:s})),s&&s.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:s}=this;r!==s&&j.error(`Media element src was set while attaching MediaSource (${s} > ${r})`)},this.hls=e;const t="[buffer-controller]";this.appendSource=o4(ps(e.config.preferManagedMediaSource)),this.log=j.log.bind(j,t),this.warn=j.warn.bind(j,t),this.error=j.error.bind(j,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_PARSED,this.onManifestParsed,this),e.on(C.BUFFER_RESET,this.onBufferReset,this),e.on(C.BUFFER_APPENDING,this.onBufferAppending,this),e.on(C.BUFFER_CODECS,this.onBufferCodecs,this),e.on(C.BUFFER_EOS,this.onBufferEos,this),e.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(C.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(C.FRAG_PARSED,this.onFragParsed,this),e.on(C.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_PARSED,this.onManifestParsed,this),e.off(C.BUFFER_RESET,this.onBufferReset,this),e.off(C.BUFFER_APPENDING,this.onBufferAppending,this),e.off(C.BUFFER_CODECS,this.onBufferCodecs,this),e.off(C.BUFFER_EOS,this.onBufferEos,this),e.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(C.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(C.FRAG_PARSED,this.onFragParsed,this),e.off(C.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Q5(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,t){const r=this.media=t.media,s=ps(this.appendSource);if(r&&s){var i;const a=this.mediaSource=new s;this.log(`created media source: ${(i=a.constructor)==null?void 0:i.name}`),a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.addEventListener("startstreaming",this._onStartStreaming),a.addEventListener("endstreaming",this._onEndStreaming));const o=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&a instanceof l,b0(r),Z5(r,o),r.load()}catch{r.src=o}else r.src=o;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:t,_objectUrl:r}=this;if(t){if(this.log("media source detaching"),t.readyState==="open")try{t.endOfStream()}catch(s){this.warn(`onMediaDetaching: ${s.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&b0(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(C.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const t=this.sourceBuffer[e];try{if(t){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}}catch(s){this.warn(`onBufferReset ${e}`,s)}}onBufferCodecs(e,t){const r=this.getSourceBufferTypes().length,s=Object.keys(t);if(s.forEach(a=>{if(r){const l=this.tracks[a];if(l&&typeof l.buffer.changeType=="function"){var o;const{id:c,codec:u,levelCodec:d,container:f,metadata:h}=t[a],p=zg(l.codec,l.levelCodec),m=p==null?void 0:p.replace(w0,"$1");let g=zg(u,d);const v=(o=g)==null?void 0:o.replace(w0,"$1");if(g&&m!==v){a.slice(0,5)==="audio"&&(g=_l(g,this.appendSource));const w=`${f};codecs=${g}`;this.appendChangeType(a,w),this.log(`switching codec ${p} to ${g}`),this.tracks[a]={buffer:l.buffer,codec:u,container:f,levelCodec:d,metadata:h,id:c}}}}else this.pendingTracks[a]=t[a]}),r)return;const i=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==i&&(this.log(`${i} bufferCodec event(s) expected ${s.join(",")}`),this.bufferCodecEventsExpected=i),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,t){const{operationQueue:r}=this,s={execute:()=>{const i=this.sourceBuffer[e];i&&(this.log(`changing ${e} sourceBuffer type to ${t}`),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:i=>{this.warn(`Failed to change ${e} SourceBuffer type`,i)}};r.append(s,e,!!this.pendingTracks[e])}onBufferAppending(e,t){const{hls:r,operationQueue:s,tracks:i}=this,{data:a,type:o,frag:l,part:c,chunkMeta:u}=t,d=u.buffering[o],f=self.performance.now();d.start=f;const h=l.stats.buffering,p=c?c.stats.buffering:null;h.start===0&&(h.start=f),p&&p.start===0&&(p.start=f);const m=i.audio;let g=!1;o==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(g=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const v=l.start,w={execute:()=>{if(d.executeStart=self.performance.now(),g){const y=this.sourceBuffer[o];if(y){const S=v-y.timestampOffset;Math.abs(S)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${v} (delta: ${S}) sn: ${l.sn})`),y.timestampOffset=v)}}this.appendExecutor(a,o)},onStart:()=>{},onComplete:()=>{const y=self.performance.now();d.executeEnd=d.end=y,h.first===0&&(h.first=y),p&&p.first===0&&(p.first=y);const{sourceBuffer:S}=this,b={};for(const T in S)b[T]=ke.getBuffered(S[T]);this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(C.BUFFER_APPENDED,{type:o,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:b})},onError:y=>{const S={type:ie.MEDIA_ERROR,parent:l.type,details:U.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:l,part:c,chunkMeta:u,error:y,err:y,fatal:!1};if(y.code===DOMException.QUOTA_EXCEEDED_ERR)S.details=U.BUFFER_FULL_ERROR;else{const b=++this.appendErrors[o];S.details=U.BUFFER_APPEND_ERROR,this.warn(`Failed ${b}/${r.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer`),b>=r.config.appendErrorMaxRetry&&(S.fatal=!0)}r.trigger(C.ERROR,S)}};s.append(w,o,!!this.pendingTracks[o])}onBufferFlushing(e,t){const{operationQueue:r}=this,s=i=>({execute:this.removeExecutor.bind(this,i,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(C.BUFFER_FLUSHED,{type:i})},onError:a=>{this.warn(`Failed to remove from ${i} SourceBuffer`,a)}});t.type?r.append(s(t.type),t.type):this.getSourceBufferTypes().forEach(i=>{r.append(s(i),i)})}onFragParsed(e,t){const{frag:r,part:s}=t,i=[],a=s?s.elementaryStreams:r.elementaryStreams;a[Ae.AUDIOVIDEO]?i.push("audiovideo"):(a[Ae.AUDIO]&&i.push("audio"),a[Ae.VIDEO]&&i.push("video"));const o=()=>{const l=self.performance.now();r.stats.buffering.end=l,s&&(s.stats.buffering.end=l);const c=s?s.stats:r.stats;this.hls.trigger(C.FRAG_BUFFERED,{frag:r,part:s,stats:c,id:r.type})};i.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(o,i)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce((s,i)=>{const a=this.sourceBuffer[i];return a&&(!t.type||t.type===i)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${i} sourceBuffer now EOS`))),s&&!!(!a||a.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(i=>{const a=this.sourceBuffer[i];a&&(a.ending=!1)});const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream()}))}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:t,media:r}=this;if(!r||t===null||!this.getSourceBufferTypes().length)return;const i=e.config,a=r.currentTime,o=t.levelTargetDuration,l=t.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(X(l)&&l>0){const c=Math.max(l,o),u=Math.floor(a/o)*o-c;this.flushBackBuffer(a,o,u)}if(X(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const c=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),u=Math.max(c,o),d=Math.floor(a/o)*o+u;this.flushFrontBuffer(a,o,d)}}flushBackBuffer(e,t,r){const{details:s,sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const l=i[o];if(l){const c=ke.getBuffered(l);if(c.length>0&&r>c.start(0)){if(this.hls.trigger(C.BACK_BUFFER_REACHED,{bufferEnd:r}),s!=null&&s.live)this.hls.trigger(C.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l.ended&&c.end(c.length-1)-e<t*2){this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(C.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:o})}}})}flushFrontBuffer(e,t,r){const{sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(a=>{const o=s[a];if(o){const l=ke.getBuffered(o),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(r>u||e>=u&&e<=d)return;if(o.ended&&e-d<2*t){this.log(`Cannot flush ${a} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(C.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:a})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:t,media:r,mediaSource:s}=this,i=e.fragments[0].start+e.totalduration,a=r.duration,o=X(s.duration)?s.duration:0;e.live&&t.config.liveDurationInfinity?(s.duration=1/0,this.updateSeekableRange(e)):(i>o&&i>a||!X(a))&&(this.log(`Updating Media Source duration to ${i.toFixed(3)}`),s.duration=i)}updateSeekableRange(e){const t=this.mediaSource,r=e.fragments;if(r.length&&e.live&&t!=null&&t.setLiveSeekableRange){const i=Math.max(0,r[0].start),a=Math.max(i,i+e.totalduration);this.log(`Media Source duration is set to ${t.duration}. Setting seekable range to ${i}-${a}.`),t.setLiveSeekableRange(i,a)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:r}=this,s=Object.keys(r).length;if(s&&(!e||s===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(C.BUFFER_CREATED,{tracks:this.tracks}),i.forEach(a=>{t.executeNext(a)});else{const a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}createSourceBuffers(e){const{sourceBuffer:t,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const i in e)if(!t[i]){var s;const a=e[i];if(!a)throw Error(`source buffer exists for track ${i}, however track does not`);let o=((s=a.levelCodec)==null?void 0:s.indexOf(","))===-1?a.levelCodec:a.codec;o&&i.slice(0,5)==="audio"&&(o=_l(o,this.appendSource));const l=`${a.container};codecs=${o}`;this.log(`creating sourceBuffer(${l})`);try{const c=t[i]=r.addSourceBuffer(l),u=i;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,f)=>{const h=f.removedRanges;h!=null&&h.length&&this.hls.trigger(C.BUFFER_FLUSHED,{type:i})}),this.tracks[i]={buffer:c,codec:o,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:i,mimeType:l})}}}get mediaSrc(){var e,t;const r=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var r;const s=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${s}`,t),this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:s,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(s)}removeExecutor(e,t,r){const{media:s,mediaSource:i,operationQueue:a,sourceBuffer:o}=this,l=o[e];if(!s||!i||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),a.shiftAndExecuteNext(e);return}const c=X(s.duration)?s.duration:1/0,u=X(i.duration)?i.duration:1/0,d=Math.max(0,t),f=Math.min(r,c,u);f>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),l.remove(d,f)):a.shiftAndExecuteNext(e)}appendExecutor(e,t){const r=this.sourceBuffer[t];if(!r){if(!this.pendingTracks[t])throw new Error(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,t=this.getSourceBufferTypes()){if(!t.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,s=t.map(i=>r.appendBlocker(i));Promise.all(s).then(()=>{e(),t.forEach(i=>{const a=this.sourceBuffer[i];a!=null&&a.updating||r.shiftAndExecuteNext(i)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,r){const s=this.sourceBuffer[e];if(!s)return;const i=r.bind(this,e);this.listeners[e].push({event:t,listener:i}),s.addEventListener(t,i)}removeBufferListeners(e){const t=this.sourceBuffer[e];t&&this.listeners[e].forEach(r=>{t.removeEventListener(r.event,r.listener)})}}function b0(n){const e=n.querySelectorAll("source");[].slice.call(e).forEach(t=>{n.removeChild(t)})}function Z5(n,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,n.appendChild(t)}const eN={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Hw=n=>String.fromCharCode(eN[n]||n),tn=15,$n=100,tN={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},nN={17:2,18:4,21:6,22:8,23:10,19:13,20:15},rN={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},sN={25:2,26:4,29:6,30:8,31:10,27:13,28:15},iN=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class aN{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const r=typeof t=="function"?t():t;j.log(`${this.time} [${e}] ${r}`)}}}const zr=function(e){const t=[];for(let r=0;r<e.length;r++)t.push(e[r].toString(16));return t};class Gw{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let r=0;r<t.length;r++){const s=t[r];e.hasOwnProperty(s)&&(this[s]=e[s])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class oN{constructor(){this.uchar=" ",this.penState=new Gw}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class lN{constructor(e){this.chars=[],this.pos=0,this.currPenState=new Gw,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<$n;t++)this.chars.push(new oN);this.logger=e}equals(e){for(let t=0;t<$n;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<$n;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<$n;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>$n&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=$n)}moveCursor(e){const t=this.pos+e;if(e>1)for(let r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=Hw(e);if(this.pos>=$n){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<$n;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let r=0;r<$n;r++){const s=this.chars[r].uchar;s!==" "&&(t=!1),e.push(s)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class _u{constructor(e){this.rows=[],this.currRow=tn-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<tn;t++)this.rows.push(new lN(e));this.logger=e}reset(){for(let e=0;e<tn;e++)this.rows[e].clear();this.currRow=tn-1}equals(e){let t=!0;for(let r=0;r<tn;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}copy(e){for(let t=0;t<tn;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<tn;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let o=0;o<tn;o++)this.rows[o].clear();const i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const o=a.rows[i].cueStartTime,l=this.logger.time;if(o!==null&&l!==null&&o<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[t-this.nrRollUpRows+c+1].copy(a.rows[i+c])}}this.currRow=t;const r=this.rows[this.currRow];if(e.indent!==null){const i=e.indent,a=Math.max(i-1,0);r.setCursor(e.indent),e.color=r.chars[a].penState.foreground}const s={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(s)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let r="",s=-1;for(let i=0;i<tn;i++){const a=this.rows[i].getTextString();a&&(s=i+1,e?t.push("Row "+s+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(e?r="["+t.join(" | ")+"]":r=t.join(`
`)),r}getTextAndFormat(){return this.rows}}class S0{constructor(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new _u(r),this.nonDisplayedMemory=new _u(r),this.lastOutputScreen=new _u(r),this.currRollUpRow=this.displayedMemory.rows[tn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[tn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const r=Math.floor(e/2)-16,s=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=s[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class E0{constructor(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=uN(),this.logger=void 0;const s=this.logger=new aN;this.channels=[null,new S0(e,t,s),new S0(e+1,r,s)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let r=0;r<t.length;r+=2){const s=t[r]&127,i=t[r+1]&127;let a=!1,o=null;if(s===0&&i===0)continue;this.logger.log(3,()=>"["+zr([t[r],t[r+1]])+"] -> ("+zr([s,i])+")");const l=this.cmdHistory;if(s>=16&&s<=31){if(cN(s,i,l)){ho(null,null,l),this.logger.log(3,()=>"Repeated command ("+zr([s,i])+") is dropped");continue}ho(s,i,this.cmdHistory),a=this.parseCmd(s,i),a||(a=this.parseMidrow(s,i)),a||(a=this.parsePAC(s,i)),a||(a=this.parseBackgroundAttributes(s,i))}else ho(null,null,l);if(!a&&(o=this.parseChars(s,i),o)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+zr([s,i])+" orig: "+zr([t[r],t[r+1]]))}}parseCmd(e,t){const r=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,s=(e===23||e===31)&&t>=33&&t<=35;if(!(r||s))return!1;const i=e===20||e===21||e===23?1:2,a=this.channels[i];return e===20||e===21||e===28||e===29?t===32?a.ccRCL():t===33?a.ccBS():t===34?a.ccAOF():t===35?a.ccAON():t===36?a.ccDER():t===37?a.ccRU(2):t===38?a.ccRU(3):t===39?a.ccRU(4):t===40?a.ccFON():t===41?a.ccRDC():t===42?a.ccTR():t===43?a.ccRTD():t===44?a.ccEDM():t===45?a.ccCR():t===46?a.ccENM():t===47&&a.ccEOC():a.ccTO(t-32),this.currentChannel=i,!0}parseMidrow(e,t){let r=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const s=this.channels[r];return s?(s.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+zr([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let r;const s=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,i=(e===16||e===24)&&t>=64&&t<=95;if(!(s||i))return!1;const a=e<=23?1:2;t>=64&&t<=95?r=a===1?tN[e]:rN[e]:r=a===1?nN[e]:sN[e];const o=this.channels[a];return o?(o.setPAC(this.interpretPAC(r,t)),this.currentChannel=a,!0):!1}interpretPAC(e,t){let r;const s={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?r=t-96:r=t-64,s.underline=(r&1)===1,r<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(s.italics=!0,s.color="white"):s.indent=Math.floor((r-16)/2)*4,s}parseChars(e,t){let r,s=null,i=null;if(e>=25?(r=2,i=e-8):(r=1,i=e),i>=17&&i<=19){let a;i===17?a=t+80:i===18?a=t+112:a=t+144,this.logger.log(2,()=>"Special char '"+Hw(a)+"' in channel "+r),s=[a]}else e>=32&&e<=127&&(s=t===0?[e]:[e,t]);return s&&this.logger.log(3,()=>"Char codes =  "+zr(s).join(",")),s}parseBackgroundAttributes(e,t){const r=(e===16||e===24)&&t>=32&&t<=47,s=(e===23||e===31)&&t>=45&&t<=47;if(!(r||s))return!1;let i;const a={};e===16||e===24?(i=Math.floor((t-32)/2),a.background=iN[i],t%2===1&&(a.background=a.background+"_semi")):t===45?a.background="transparent":(a.foreground="black",t===47&&(a.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}ho(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const r=this.channels[t];r&&r.cueSplitAtTime(e)}}}function ho(n,e,t){t.a=n,t.b=e}function cN(n,e,t){return t.a===n&&t.b===e}function uN(){return{a:null,b:null}}class po{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var cp=function(){if(ii!=null&&ii.VTTCue)return self.VTTCue;const n=["","lr","rl"],e=["start","middle","end","left","right"];function t(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const c=l.toLowerCase();return~o.indexOf(c)?c:!1}function r(o){return t(n,o)}function s(o){return t(e,o)}function i(o,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)o[d]=u[d]}return o}function a(o,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let f="",h=!1,p=o,m=l,g=c,v=null,w="",y=!0,S="auto",b="start",T=50,I="middle",E=50,A="middle";Object.defineProperty(u,"id",i({},d,{get:function(){return f},set:function(L){f=""+L}})),Object.defineProperty(u,"pauseOnExit",i({},d,{get:function(){return h},set:function(L){h=!!L}})),Object.defineProperty(u,"startTime",i({},d,{get:function(){return p},set:function(L){if(typeof L!="number")throw new TypeError("Start time must be set to a number.");p=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",i({},d,{get:function(){return m},set:function(L){if(typeof L!="number")throw new TypeError("End time must be set to a number.");m=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",i({},d,{get:function(){return g},set:function(L){g=""+L,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",i({},d,{get:function(){return v},set:function(L){v=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",i({},d,{get:function(){return w},set:function(L){const k=r(L);if(k===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=k,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",i({},d,{get:function(){return y},set:function(L){y=!!L,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",i({},d,{get:function(){return S},set:function(L){if(typeof L!="number"&&L!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",i({},d,{get:function(){return b},set:function(L){const k=s(L);if(!k)throw new SyntaxError("An invalid or illegal string was specified.");b=k,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",i({},d,{get:function(){return T},set:function(L){if(L<0||L>100)throw new Error("Position must be between 0 and 100.");T=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",i({},d,{get:function(){return I},set:function(L){const k=s(L);if(!k)throw new SyntaxError("An invalid or illegal string was specified.");I=k,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",i({},d,{get:function(){return E},set:function(L){if(L<0||L>100)throw new Error("Size must be between 0 and 100.");E=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",i({},d,{get:function(){return A},set:function(L){const k=s(L);if(!k)throw new SyntaxError("An invalid or illegal string was specified.");A=k,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class dN{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function Vw(n){function e(r,s,i,a){return(r|0)*3600+(s|0)*60+(i|0)+parseFloat(a||0)}const t=n.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class fN{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,r){for(let s=0;s<r.length;++s)if(t===r[s]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function Ww(n,e,t,r){const s=r?n.split(r):[n];for(const i in s){if(typeof s[i]!="string")continue;const a=s[i].split(t);if(a.length!==2)continue;const o=a[0],l=a[1];e(o,l)}}const Lf=new cp(0,0,""),mo=Lf.align==="middle"?"middle":"center";function hN(n,e,t){const r=n;function s(){const o=Vw(n);if(o===null)throw new Error("Malformed timestamp: "+r);return n=n.replace(/^[^\sa-zA-Z-]+/,""),o}function i(o,l){const c=new fN;Ww(o,function(f,h){let p;switch(f){case"region":for(let m=t.length-1;m>=0;m--)if(t[m].id===h){c.set(f,t[m].region);break}break;case"vertical":c.alt(f,h,["rl","lr"]);break;case"line":p=h.split(","),c.integer(f,p[0]),c.percent(f,p[0])&&c.set("snapToLines",!1),c.alt(f,p[0],["auto"]),p.length===2&&c.alt("lineAlign",p[1],["start",mo,"end"]);break;case"position":p=h.split(","),c.percent(f,p[0]),p.length===2&&c.alt("positionAlign",p[1],["start",mo,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,h);break;case"align":c.alt(f,h,["start",mo,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&Lf.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",mo);let d=c.get("position","auto");d==="auto"&&Lf.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function a(){n=n.replace(/^\s+/,"")}if(a(),e.startTime=s(),a(),n.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);n=n.slice(3),a(),e.endTime=s(),a(),i(n,e)}function Kw(n){return n.replace(/<br(?: \/)?>/gi,`
`)}class pN{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new dN,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function r(){let i=t.buffer,a=0;for(i=Kw(i);a<i.length&&i[a]!=="\r"&&i[a]!==`
`;)++a;const o=i.slice(0,a);return i[a]==="\r"&&++a,i[a]===`
`&&++a,t.buffer=i.slice(a),o}function s(i){Ww(i,function(a,o){},/:/)}try{let i="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;i=r();const o=i.match(/^()?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let a=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=r(),t.state){case"HEADER":/:/.test(i)?s(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new cp(0,0,""),t.state="CUE",i.indexOf("-->")===-1){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{hN(i,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const o=i.indexOf("-->")!==-1;if(!i||o&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=i}continue;case"BADCUE":i||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const mN=/\r\n|\n\r|\n|\r/g,Ou=function(e,t,r=0){return e.slice(r,r+t.length)===t},gN=function(e){let t=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),s=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!X(t)||!X(r)||!X(s)||!X(i))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*r,t+=60*1e3*s,t+=60*60*1e3*i,t},Mu=function(e){let t=5381,r=e.length;for(;r;)t=t*33^e.charCodeAt(--r);return(t>>>0).toString()};function up(n,e,t){return Mu(n.toString())+Mu(e.toString())+Mu(t)}const xN=function(e,t,r){let s=e[t],i=e[s.prevCC];if(!i||!i.new&&s.new){e.ccOffset=e.presentationOffset=s.start,s.new=!1;return}for(;(a=i)!=null&&a.new;){var a;e.ccOffset+=s.start-i.start,s.new=!1,s=i,i=e[s.prevCC]}e.presentationOffset=r};function yN(n,e,t,r,s,i,a){const o=new pN,l=Rn(new Uint8Array(n)).trim().replace(mN,`
`).split(`
`),c=[],u=e?O5(e.baseTime,e.timescale):0;let d="00:00.000",f=0,h=0,p,m=!0;o.oncue=function(g){const v=t[r];let w=t.ccOffset;const y=(f-u)/9e4;if(v!=null&&v.new&&(h!==void 0?w=t.ccOffset=v.start:xN(t,r,y)),y){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}w=y-t.presentationOffset}const S=g.endTime-g.startTime,b=$t((g.startTime+w-h)*9e4,s*9e4)/9e4;g.startTime=Math.max(b,0),g.endTime=Math.max(b+S,0);const T=g.text.trim();g.text=decodeURIComponent(encodeURIComponent(T)),g.id||(g.id=up(g.startTime,g.endTime,T)),g.endTime>0&&c.push(g)},o.onparsingerror=function(g){p=g},o.onflush=function(){if(p){a(p);return}i(c)},l.forEach(g=>{if(m)if(Ou(g,"X-TIMESTAMP-MAP=")){m=!1,g.slice(16).split(",").forEach(v=>{Ou(v,"LOCAL:")?d=v.slice(6):Ou(v,"MPEGTS:")&&(f=parseInt(v.slice(7)))});try{h=gN(d)/1e3}catch(v){p=v}return}else g===""&&(m=!1);o.parse(g+`
`)}),o.flush()}const Fu="stpp.ttml.im1t",Yw=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,qw=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,vN={left:"start",center:"center",right:"end",start:"start",end:"end"};function T0(n,e,t,r){const s=ce(new Uint8Array(n),["mdat"]);if(s.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const i=s.map(o=>Rn(o)),a=_5(e.baseTime,1,e.timescale);try{i.forEach(o=>t(wN(o,a)))}catch(o){r(o)}}function wN(n,e){const s=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("tt")[0];if(!s)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(i).reduce((d,f)=>(d[f]=s.getAttribute(`ttp:${f}`)||i[f],d),{}),o=s.getAttribute("xml:space")!=="preserve",l=A0(ju(s,"styling","style")),c=A0(ju(s,"layout","region")),u=ju(s,"body","[begin]");return[].map.call(u,d=>{const f=Xw(d,o);if(!f||!d.hasAttribute("begin"))return null;const h=Bu(d.getAttribute("begin"),a),p=Bu(d.getAttribute("dur"),a);let m=Bu(d.getAttribute("end"),a);if(h===null)throw L0(d);if(m===null){if(p===null)throw L0(d);m=h+p}const g=new cp(h-e,m-e,f);g.id=up(g.startTime,g.endTime,g.text);const v=c[d.getAttribute("region")],w=l[d.getAttribute("style")],y=bN(v,w,l),{textAlign:S}=y;if(S){const b=vN[S];b&&(g.lineAlign=b),g.align=S}return Ve(g,y),g}).filter(d=>d!==null)}function ju(n,e,t){const r=n.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(t)):[]}function A0(n){return n.reduce((e,t)=>{const r=t.getAttribute("xml:id");return r&&(e[r]=t),e},{})}function Xw(n,e){return[].slice.call(n.childNodes).reduce((t,r,s)=>{var i;return r.nodeName==="br"&&s?t+`
`:(i=r.childNodes)!=null&&i.length?Xw(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent},"")}function bN(n,e,t){const r="http://www.w3.org/ns/ttml#styling";let s=null;const i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=n!=null&&n.hasAttribute("style")?n.getAttribute("style"):null;return a&&t.hasOwnProperty(a)&&(s=t[a]),i.reduce((o,l)=>{const c=$u(e,r,l)||$u(n,r,l)||$u(s,r,l);return c&&(o[l]=c),o},{})}function $u(n,e,t){return n&&n.hasAttributeNS(e,t)?n.getAttributeNS(e,t):null}function L0(n){return new Error(`Could not parse ttml timestamp ${n}`)}function Bu(n,e){if(!n)return null;let t=Vw(n);return t===null&&(Yw.test(n)?t=SN(n,e):qw.test(n)&&(t=EN(n,e))),t}function SN(n,e){const t=Yw.exec(n),r=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+r/e.frameRate}function EN(n,e){const t=qw.exec(n),r=Number(t[1]);switch(t[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class TN{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=I0(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(C.FRAG_LOADING,this.onFragLoading,this),e.on(C.FRAG_LOADED,this.onFragLoaded,this),e.on(C.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(C.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(C.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(C.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(C.FRAG_LOADING,this.onFragLoading,this),e.off(C.FRAG_LOADED,this.onFragLoaded,this),e.off(C.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(C.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(C.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(C.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new po(this,"textTrack1"),t=new po(this,"textTrack2"),r=new po(this,"textTrack3"),s=new po(this,"textTrack4");this.cea608Parser1=new E0(1,e,t),this.cea608Parser2=new E0(3,r,s)}}addCues(e,t,r,s,i){let a=!1;for(let o=i.length;o--;){const l=i[o],c=AN(l[0],l[1],t,r);if(c>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],r),a=!0,c/(r-t)>.5))return}if(a||i.push([t,r]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,t,r,s)}else{const o=this.Cues.newCue(null,t,r,s);this.hls.trigger(C.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:t,id:r,initPTS:s,timescale:i}){const{unparsedVttFrags:a}=this;r==="main"&&(this.initPTS[t.cc]={baseTime:s,timescale:i}),a.length&&(this.unparsedVttFrags=[],a.forEach(o=>{this.onFragLoaded(C.FRAG_LOADED,o)}))}getExistingTrack(e,t){const{media:r}=this;if(r)for(let s=0;s<r.textTracks.length;s++){const i=r.textTracks[s];if(C0(i,{name:e,lang:t,attrs:{}}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:r,media:s}=this,{label:i,languageCode:a}=t[e],o=this.getExistingTrack(i,a);if(o)r[e]=o,$s(r[e]),gw(r[e],s);else{const l=this.createTextTrack("captions",i,a);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const r=t.label,s={_id:e,label:r,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=s,this.hls.trigger(C.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(e,t,r){const s=this.media;if(s)return s.addTextTrack(e,t,r)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(t=>{$s(e[t]),delete e[t]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=I0(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let r=0;r<t.length;r++)$s(t[r])}onSubtitleTracksUpdated(e,t){const r=t.subtitleTracks||[],s=r.some(i=>i.textCodec===Fu);if(this.config.enableWebVTT||s&&this.config.enableIMSC1){if(zw(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const a=this.media,o=a?Fo(a.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(o){let d=null;for(let f=0;f<o.length;f++)if(o[f]&&C0(o[f],l)){d=o[f],o[f]=null;break}d&&(u=d)}if(u)$s(u);else{const d=Qw(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),o!=null&&o.length){const l=o.filter(c=>c!==null).map(c=>c.label);l.length&&j.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(C.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(r=>{const s=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!s)return;const i=`textTrack${s[1]}`,a=this.captionsProperties[i];a&&(a.label=r.name,r.lang&&(a.languageCode=r.lang),a.media=r)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===ne.MAIN){var r,s;const{cea608Parser1:i,cea608Parser2:a,lastSn:o}=this,{cc:l,sn:c}=t.frag,u=(r=(s=t.part)==null?void 0:s.index)!=null?r:-1;i&&a&&(c!==o+1||c===o&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(i.reset(),a.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,t){const{frag:r,payload:s}=t;if(r.type===ne.SUBTITLE)if(s.byteLength){const i=r.decryptdata,a="stats"in t;if(i==null||!i.encrypted||a){const o=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),o&&o.textCodec===Fu?this._parseIMSC1(r,s):this._parseVTTs(t)}}else this.hls.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const r=this.hls;T0(t,this.initPTS[e.cc],s=>{this._appendCues(s,e.level),r.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},s=>{j.log(`Failed to parse IMSC1: ${s}`),r.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:s})})}_parseVTTs(e){var t;const{frag:r,payload:s}=e,{initPTS:i,unparsedVttFrags:a}=this,o=i.length-1;if(!i[r.cc]&&o===-1){a.push(e);return}const l=this.hls,c=(t=r.initSegment)!=null&&t.data?Kt(r.initSegment.data,new Uint8Array(s)):s;yN(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,u=>{this._appendCues(u,r.level),l.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?a.push(e):this._fallbackToIMSC1(r,s),j.log(`Failed to parse VTT cue: ${u}`),!(d&&o>r.cc)&&l.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:u})})}_fallbackToIMSC1(e,t){const r=this.tracks[e.level];r.textCodec||T0(t,this.initPTS[e.cc],()=>{r.textCodec=Fu,this._parseIMSC1(e,t)},()=>{r.textCodec="wvtt"})}_appendCues(e,t){const r=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[t];if(!s||s.mode==="disabled")return;e.forEach(i=>xw(s,i))}else{const s=this.tracks[t];if(!s)return;const i=s.default?"default":"subtitles"+t;r.trigger(C.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,t){const{frag:r}=t;r.type===ne.SUBTITLE&&this.onFragLoaded(C.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:s}=this;if(!this.enabled||!r||!s)return;const{frag:i,samples:a}=t;if(!(i.type===ne.MAIN&&this.closedCaptionsForLevel(i)==="NONE"))for(let o=0;o<a.length;o++){const l=a[o].bytes;if(l){const c=this.extractCea608Data(l);r.addData(a[o].pts,c[0]),s.addData(a[o].pts,c[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:r,endOffsetSubtitles:s,type:i}){const{media:a}=this;if(!(!a||a.currentTime<r)){if(!i||i==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>vf(o[l],t,r))}if(this.config.renderTextTracksNatively&&t===0&&s!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>vf(o[l],t,s))}}}extractCea608Data(e){const t=[[],[]],r=e[0]&31;let s=2;for(let i=0;i<r;i++){const a=e[s++],o=127&e[s++],l=127&e[s++];if(o===0&&l===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(t[u].push(o),t[u].push(l))}}return t}}function Qw(n){return n.characteristics&&/transcribes-spoken-dialog/gi.test(n.characteristics)&&/describes-music-and-sound/gi.test(n.characteristics)?"captions":"subtitles"}function C0(n,e){return!!n&&n.kind===Qw(e)&&Af(e,n)}function AN(n,e,t,r){return Math.min(e,r)-Math.max(n,t)}function I0(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class dp{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(C.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(C.MANIFEST_PARSED,this.onManifestParsed,this),e.on(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(C.BUFFER_CODECS,this.onBufferCodecs,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(C.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(C.MANIFEST_PARSED,this.onManifestParsed,this),e.off(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(C.BUFFER_CODECS,this.onBufferCodecs,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const r=this.hls.levels[t.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&X(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&j.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=r,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const r=t.filter((s,i)=>this.isLevelAllowed(s)&&i<=e);return this.clientRect=null,dp.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,!t.width&&!t.height&&(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,t,r){if(!(e!=null&&e.length))return-1;const s=(o,l)=>l?o.width!==l.width||o.height!==l.height:!0;let i=e.length-1;const a=Math.max(t,r);for(let o=0;o<e.length;o+=1){const l=e[o];if((l.width>=a||l.height>=a)&&s(l,e[o+1])){i=o;break}}return i}}class LN{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const r=this.hls.config;if(r.capLevelOnFPSDrop){const s=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,r){const s=performance.now();if(t){if(this.lastTime){const i=s-this.lastTime,a=r-this.lastDroppedFrames,o=t-this.lastDecodedFrames,l=1e3*a/i,c=this.hls;if(c.trigger(C.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*o){let u=c.currentLevel;j.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(C.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const go="[eme]";class qs{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=qs.CDMCleanupPromise?[qs.CDMCleanupPromise]:[],this.debug=j.debug.bind(j,go),this.log=j.log.bind(j,go),this.warn=j.warn.bind(j,go),this.error=j.error.bind(j,go),this.onMediaEncrypted=t=>{const{initDataType:r,initData:s}=t,i=`"${t.type}" event: init data type: "${r}"`;if(this.debug(i),s!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=io(this.config));const o=a.map(Su).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(o)}this.keyFormatPromise.then(a=>{const o=wu(a);let l,c;if(r==="sinf"){if(o!==Te.FAIRPLAY){this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${r}" for selected key-system ${o}`);return}const p=We(new Uint8Array(s));try{const m=Xh(JSON.parse(p).sinf),g=dw(m);if(!g)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=g.subarray(8,24),c=Te.FAIRPLAY}catch(m){this.warn(`${i} Failed to parse sinf: ${m}`);return}}else{if(o!==Te.WIDEVINE&&o!==Te.PLAYREADY){this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${r}" for selected key-system ${o}`);return}const p=r4(s),m=p.filter(v=>!!v.systemId&&bu(v.systemId)===o);m.length>1&&this.warn(`${i} Using first of ${m.length} pssh found for selected key-system ${o}`);const g=m[0];if(!g){p.length===0||p.some(v=>!v.systemId)?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${p.map(v=>bu(v.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=bu(g.systemId),g.version===0&&g.data)if(c===Te.WIDEVINE){const v=g.data.length-22;l=g.data.subarray(v,v+16)}else c===Te.PLAYREADY&&(l=rw(g.data))}if(!c||!l){this.log(`Unable to handle ${i} with key-system ${o}`);return}const u=xn.hexDump(l),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let h=d[u];for(let p=0;p<f.length;p++){const m=f[p],g=m.decryptdata;if(!g.keyId)continue;const v=xn.hexDump(g.keyId);if(u===v||g.uri.replace(/-/g,"").indexOf(u)!==-1){if(h=d[v],g.pssh)break;delete d[v],g.pssh=new Uint8Array(s),g.keyId=l,h=d[u]=h.then(()=>this.generateRequestWithPreferredKeySession(m,r,s,"encrypted-event-key-match")),h.catch(w=>this.handleError(w));break}}if(!h){if(c!==o){this.log(`Ignoring "${i}" with ${c} init data for selected key-system ${o}`);return}h=d[u]=this.getKeySystemSelectionPromise([c]).then(({keySystem:p,mediaKeys:m})=>{var g;this.throwIfDestroyed();const v=new va("ISO-23001-7",u,(g=Su(p))!=null?g:"");return v.pssh=new Uint8Array(s),v.keyId=l,this.attemptSetMediaKeys(p,m).then(()=>{this.throwIfDestroyed();const w=this.createMediaKeySessionContext({decryptdata:v,keySystem:p,mediaKeys:m});return this.generateRequestWithPreferredKeySession(w,r,s,"encrypted-event-no-match")})}),h.catch(p=>this.handleError(p))}})}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(C.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(C.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(C.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(C.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:r}=this.config,s=t[e];if(s)return s.licenseUrl;if(e===Te.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,r=t[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,r=(a,o,l)=>!!a&&l.indexOf(a)===o,s=t.map(a=>a.audioCodec).filter(r),i=t.map(a=>a.videoCodec).filter(r);return s.length+i.length===0&&i.push("avc1.42e01e"),new Promise((a,o)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,s,i).then(d=>a({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof Ft?o(d):o(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let s=`Configured requestMediaKeySystemAccess is not a function ${r}`;return nw===null&&self.location.protocol==="http:"&&(s=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(s))}return r(e,t)}getMediaKeysPromise(e,t,r){const s=DR(e,t,r,this.config.drmSystemOptions),i=this.keySystemAccessPromises[e];let a=i==null?void 0:i.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(s)}`),a=this.requestMediaKeySystemAccess(e,s);const o=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),a.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),o.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),o.mediaKeys})}return a.then(()=>i.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:r}){this.log(`Creating key-system session "${t}" keyId: ${xn.hexDump(e.keyId||[])}`);const s=r.createSession(),i={decryptdata:e,keySystem:t,mediaKeys:r,mediaKeysSession:s,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const r=this.createMediaKeySessionContext(e),s=this.getKeyIdString(t),i="cenc";this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(r,i,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return xn.hexDump(e.keyId)}updateKeySession(e,t){var r;const s=e.mediaKeysSession;return this.log(`Updating key-session "${s.sessionId}" for keyID ${xn.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${t&&t.byteLength})`),s.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((t,r)=>{const s=io(this.config),i=e.map(wu).filter(a=>!!a&&s.indexOf(a)!==-1);return this.getKeySystemSelectionPromise(i).then(({keySystem:a})=>{const o=Su(a);o?t(o):r(new Error(`Unable to find format for key-system "${a}"`))}).catch(r)})}loadKey(e){const t=e.keyInfo.decryptdata,r=this.getKeyIdString(t),s=`(keyId: ${r} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${s}`);let i=this.keyIdToKeySessionPromise[r];return i||(i=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(t).then(({keySystem:a,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(a,o).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:t});return this.generateRequestWithPreferredKeySession(l,"cenc",t.pssh,"playlist-key")}))),i.catch(a=>this.handleError(a))),i}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ft?this.hls.trigger(C.ERROR,e.data):this.hls.trigger(C.ERROR,{type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[t];if(!r){const s=wu(e.keyFormat),i=s?[s]:io(this.config);return this.attemptKeySystemAccess(i)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=io(this.config)),e.length===0)throw new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const s=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)});return this.setMediaKeysQueue.push(s),s.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(s),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(i=>r.indexOf(i)===-1)})}generateRequestWithPreferredKeySession(e,t,r,s){var i,a;const o=(i=this.config.drmSystems)==null||(a=i[e.keySystem])==null?void 0:a.generateRequest;if(o)try{const p=o.call(this.hls,t,r,e);if(!p)throw new Error("Invalid response from configured generateRequest filter");t=p.initDataType,r=e.decryptdata.pssh=p.initData?new Uint8Array(p.initData):null}catch(p){var l;if(this.warn(p.message),(l=this.hls)!=null&&l.config.debug)throw p}if(r===null)return this.log(`Skipping key-session request for "${s}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${s}": ${c} (init data type: ${t} length: ${r?r.byteLength:null})`);const u=new lp,d=e._onmessage=p=>{const m=e.mediaKeysSession;if(!m){u.emit("error",new Error("invalid state"));return}const{messageType:g,message:v}=p;this.log(`"${g}" message event for session "${m.sessionId}" message size: ${v.byteLength}`),g==="license-request"||g==="license-renewal"?this.renewLicense(e,v).catch(w=>{this.handleError(w),u.emit("error",w)}):g==="license-release"?e.keySystem===Te.FAIRPLAY&&(this.updateKeySession(e,xf("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${g}"`)},f=e._onkeystatuseschange=p=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const g=e.keyStatus;u.emit("keyStatus",g),g==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const h=new Promise((p,m)=>{u.on("error",m),u.on("keyStatus",g=>{g.startsWith("usable")?p():g==="output-restricted"?m(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):g==="internal-error"?m(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${g}"`)):g==="expired"?m(new Error("key expired while generating request")):this.warn(`unhandled key status change "${g}"`)})});return e.mediaKeysSession.generateRequest(t,r).then(()=>{var p;this.log(`Request generated for key-session "${(p=e.mediaKeysSession)==null?void 0:p.sessionId}" keyId: ${c}`)}).catch(p=>{throw new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_NO_SESSION,error:p,fatal:!1},`Error generating key-session request: ${p}`)}).then(()=>h).catch(p=>{throw u.removeAllListeners(),this.removeSession(e),p}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((t,r)=>{this.log(`key status change "${t}" for keyStatuses keyId: ${xn.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${xn.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t})}fetchServerCertificate(e){const t=this.config,r=t.loader,s=new r(t),i=this.getServerCertificateUrl(e);return i?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,o)=>{const l={responseType:"arraybuffer",url:i},c=t.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,m)=>{a(f.data)},onError:(f,h,p,m)=>{o(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:et({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${i}). Status: ${f.code} (${f.text})`))},onTimeout:(f,h,p)=>{o(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${i})`))},onAbort:(f,h,p)=>{o(new Error("aborted"))}};s.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,r){return new Promise((s,i)=>{e.setServerCertificate(r).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${t}"`),s(e)}).catch(a=>{i(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(s=>{throw new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:s,fatal:!0},s.message)}))}unpackPlayReadyKeyMessage(e,t){const r=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const s=new DOMParser().parseFromString(r,"application/xml"),i=s.querySelectorAll("HttpHeader");if(i.length>0){let u;for(let d=0,f=i.length;d<f;d++){var a,o;u=i[d];const h=(a=u.querySelector("name"))==null?void 0:a.textContent,p=(o=u.querySelector("value"))==null?void 0:o.textContent;h&&p&&e.setRequestHeader(h,p)}}const l=s.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return xf(atob(c))}setupLicenseXHR(e,t,r,s){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,t,r,s)}).catch(a=>{if(!r.decryptdata)throw a;return e.open("POST",t,!0),i.call(this.hls,e,t,r,s)}).then(a=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:a||s})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:s}))}requestLicense(e,t){const r=this.config.keyLoadPolicy.default;return new Promise((s,i)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,o,a,e)}catch(u){this.error(u)}s(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||o.status>=400&&o.status<500)i(new Ft({type:ie.KEY_SYSTEM_ERROR,details:U.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${a}). Status: ${o.status} (${o.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,t).then(s,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,a,e,t).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==Te.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const r=t.media;this.media=r,r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},va.clearKeyUriToKeyIdMap();const r=t.length;qs.CDMCleanupPromise=Promise.all(t.map(s=>this.removeSession(s)).concat(e==null?void 0:e.setMediaKeys(null).catch(s=>{this.log(`Could not clear media keys: ${s}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)}).catch(s=>{this.log(`Could not close sessions and clear media keys: ${s}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=t.reduce((s,i)=>(s.indexOf(i.keyFormat)===-1&&s.push(i.keyFormat),s),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:r}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);return s>-1&&this.mediaKeySessions.splice(s,1),t.remove().catch(i=>{this.log(`Could not remove session: ${i}`)}).then(()=>t.close()).catch(i=>{this.log(`Could not close session: ${i}`)})}}}qs.CDMCleanupPromise=void 0;class Ft extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}var ot;(function(n){n.MANIFEST="m",n.AUDIO="a",n.VIDEO="v",n.MUXED="av",n.INIT="i",n.CAPTION="c",n.TIMED_TEXT="tt",n.KEY="k",n.OTHER="o"})(ot||(ot={}));var Cf;(function(n){n.DASH="d",n.HLS="h",n.SMOOTH="s",n.OTHER="o"})(Cf||(Cf={}));var Jr;(function(n){n.OBJECT="CMCD-Object",n.REQUEST="CMCD-Request",n.SESSION="CMCD-Session",n.STATUS="CMCD-Status"})(Jr||(Jr={}));const CN={[Jr.OBJECT]:["br","d","ot","tb"],[Jr.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Jr.SESSION]:["cid","pr","sf","sid","st","v"],[Jr.STATUS]:["bs","rtp"]};class oi{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof oi?r:new oi(r))),this.value=e,this.params=t}}class Jw{constructor(e){this.description=void 0,this.description=e}}const IN="Dict";function kN(n){return Array.isArray(n)?JSON.stringify(n):n instanceof Map?"Map{}":n instanceof Set?"Set{}":typeof n=="object"?JSON.stringify(n):String(n)}function RN(n,e,t,r){return new Error(`failed to ${n} "${kN(e)}" as ${t}`,{cause:r})}const k0="Bare Item",NN="Boolean",DN="Byte Sequence",PN="Decimal",_N="Integer";function ON(n){return n<-999999999999999||999999999999999<n}const MN=/[\x00-\x1f\x7f]+/,FN="Token",jN="Key";function Pn(n,e,t){return RN("serialize",n,e,t)}function $N(n){if(typeof n!="boolean")throw Pn(n,NN);return n?"?1":"?0"}function BN(n){return btoa(String.fromCharCode(...n))}function UN(n){if(ArrayBuffer.isView(n)===!1)throw Pn(n,DN);return`:${BN(n)}:`}function Zw(n){if(ON(n))throw Pn(n,_N);return n.toString()}function zN(n){return`@${Zw(n.getTime()/1e3)}`}function eb(n,e){if(n<0)return-eb(-n,e);const t=Math.pow(10,e);if(Math.abs(n*t%1-.5)<Number.EPSILON){const s=Math.floor(n*t);return(s%2===0?s:s+1)/t}else return Math.round(n*t)/t}function HN(n){const e=eb(n,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Pn(n,PN);const t=e.toString();return t.includes(".")?t:`${t}.0`}const GN="String";function VN(n){if(MN.test(n))throw Pn(n,GN);return`"${n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function WN(n){return n.description||n.toString().slice(7,-1)}function R0(n){const e=WN(n);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Pn(e,FN);return e}function If(n){switch(typeof n){case"number":if(!X(n))throw Pn(n,k0);return Number.isInteger(n)?Zw(n):HN(n);case"string":return VN(n);case"symbol":return R0(n);case"boolean":return $N(n);case"object":if(n instanceof Date)return zN(n);if(n instanceof Uint8Array)return UN(n);if(n instanceof Jw)return R0(n);default:throw Pn(n,k0)}}function kf(n){if(/^[a-z*][a-z0-9\-_.*]*$/.test(n)===!1)throw Pn(n,jN);return n}function fp(n){return n==null?"":Object.entries(n).map(([e,t])=>t===!0?`;${kf(e)}`:`;${kf(e)}=${If(t)}`).join("")}function tb(n){return n instanceof oi?`${If(n.value)}${fp(n.params)}`:If(n)}function KN(n){return`(${n.value.map(tb).join(" ")})${fp(n.params)}`}function YN(n,e={whitespace:!0}){if(typeof n!="object")throw Pn(n,IN);const t=n instanceof Map?n.entries():Object.entries(n),r=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([s,i])=>{i instanceof oi||(i=new oi(i));let a=kf(s);return i.value===!0?a+=fp(i.params):(a+="=",Array.isArray(i.value)?a+=KN(i):a+=tb(i)),a}).join(`,${r}`)}function qN(n,e){return YN(n,e)}const XN=n=>n==="ot"||n==="sf"||n==="st",QN=n=>typeof n=="number"?X(n):n!=null&&n!==""&&n!==!1;function JN(n,e){const t=new URL(n),r=new URL(e);if(t.origin!==r.origin)return n;const s=t.pathname.split("/").slice(1),i=r.pathname.split("/").slice(1,-1);for(;s[0]===i[0];)s.shift(),i.shift();for(;i.length;)i.shift(),s.unshift("..");return s.join("/")}function ZN(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(s=="x"?i:i&3|8).toString(16)})}}}const Ho=n=>Math.round(n),eD=(n,e)=>(e!=null&&e.baseUrl&&(n=JN(n,e.baseUrl)),encodeURIComponent(n)),xo=n=>Ho(n/100)*100,tD={br:Ho,d:Ho,bl:xo,dl:xo,mtp:xo,nor:eD,rtp:xo,tb:Ho};function nD(n,e){const t={};if(n==null||typeof n!="object")return t;const r=Object.keys(n).sort(),s=Ve({},tD,e==null?void 0:e.formatters),i=e==null?void 0:e.filter;return r.forEach(a=>{if(i!=null&&i(a))return;let o=n[a];const l=s[a];l&&(o=l(o,e)),!(a==="v"&&o===1)&&(a=="pr"&&o===1||QN(o)&&(XN(a)&&typeof o=="string"&&(o=new Jw(o)),t[a]=o))}),t}function nb(n,e={}){return n?qN(nD(n,e),Ve({whitespace:!1},e)):""}function rD(n,e={}){if(!n)return{};const t=Object.entries(n),r=Object.entries(CN).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),s=t.reduce((i,a)=>{var o,l;const[c,u]=a,d=((o=r.find(f=>f[1].includes(c)))==null?void 0:o[0])||Jr.REQUEST;return(l=i[d])!=null||(i[d]={}),i[d][c]=u,i},{});return Object.entries(s).reduce((i,[a,o])=>(i[a]=nb(o,e),i),{})}function sD(n,e,t){return Ve(n,rD(e,t))}const iD="CMCD";function aD(n,e={}){if(!n)return"";const t=nb(n,e);return`${iD}=${encodeURIComponent(t)}`}const N0=/CMCD=[^&#]+/;function oD(n,e,t){const r=aD(e,t);if(!r)return n;if(N0.test(n))return n.replace(N0,r);const s=n.includes("?")?"&":"?";return`${n}${s}${r}`}class lD{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=s=>{try{this.apply(s,{ot:ot.MANIFEST,su:!this.initialized})}catch(i){j.warn("Could not generate manifest CMCD data.",i)}},this.applyFragmentData=s=>{try{const i=s.frag,a=this.hls.levels[i.level],o=this.getObjectType(i),l={d:i.duration*1e3,ot:o};(o===ot.VIDEO||o===ot.AUDIO||o==ot.MUXED)&&(l.br=a.bitrate/1e3,l.tb=this.getTopBandwidth(o)/1e3,l.bl=this.getBufferLength(o)),this.apply(s,l)}catch(i){j.warn("Could not generate segment CMCD data.",i)}},this.hls=e;const t=this.config=e.config,{cmcd:r}=t;r!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||ZN(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(C.MEDIA_DETACHED,this.onMediaDetached,this),e.on(C.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(C.MEDIA_DETACHED,this.onMediaDetached,this),e.off(C.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var r,s;this.audioBuffer=(r=t.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(s=t.tracks.video)==null?void 0:s.buffer}createData(){var e;return{v:1,sf:Cf.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Ve(t,this.createData());const r=t.ot===ot.INIT||t.ot===ot.VIDEO||t.ot===ot.MUXED;this.starved&&r&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:s}=this;s&&(t=Object.keys(t).reduce((i,a)=>(s.includes(a)&&(i[a]=t[a]),i),{})),this.useHeaders?(e.headers||(e.headers={}),sD(e.headers,t)):e.url=oD(e.url,t)}getObjectType(e){const{type:t}=e;if(t==="subtitle")return ot.TIMED_TEXT;if(e.sn==="initSegment")return ot.INIT;if(t==="audio")return ot.AUDIO;if(t==="main")return this.hls.audioTracks.length?ot.VIDEO:ot.MUXED}getTopBandwidth(e){let t=0,r;const s=this.hls;if(e===ot.AUDIO)r=s.audioTracks;else{const i=s.maxAutoLevel,a=i>-1?i+1:s.levels.length;r=s.levels.slice(0,a)}for(const i of r)i.bitrate>t&&(t=i.bitrate);return t>0?t:NaN}getBufferLength(e){const t=this.hls.media,r=e===ot.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!t?NaN:ke.bufferInfo(r,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new r(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,a,o){t(i),this.loader.load(i,a,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,r=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new r(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,a,o){t(i),this.loader.load(i,a,o)}}}}const cD=3e5;class uD{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=j.log.bind(j,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(C.MANIFEST_PARSED,this.onManifestParsed,this),e.on(C.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(C.MANIFEST_PARSED,this.onManifestParsed,this),e.off(C.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:r}=t;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:r}=t;if((r==null?void 0:r.action)===nt.SendAlternateToPenaltyBox&&r.flags===en.MoveAllAlternatesMatchingHost){const s=this.levels;let i=this.pathwayPriority,a=this.pathwayId;if(t.context){const{groupId:o,pathwayId:l,type:c}=t.context;o&&s?a=this.getPathwayForGroupId(o,c,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!i&&s&&(i=s.reduce((o,l)=>(o.indexOf(l.pathwayId)===-1&&o.push(l.pathwayId),o),[])),i&&i.length>1&&(this.updatePathwayPriority(i),r.resolved=this.pathwayId!==a),r.resolved||j.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${a} levels: ${s&&s.length} priorities: ${JSON.stringify(i)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),t=this.getLevelsForPathway(r),this.pathwayId=r}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let t;const r=this.penalizedPathways,s=performance.now();Object.keys(r).forEach(i=>{s-r[i]>cD&&delete r[i]});for(let i=0;i<e.length;i++){const a=e[i];if(a in r)continue;if(a===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(t=this.getLevelsForPathway(a),t.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,bw(t),this.hls.trigger(C.LEVELS_UPDATED,{levels:t});const c=this.hls.levels[o];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,t,r){const s=this.getLevelsForPathway(r).concat(this.levels||[]);for(let i=0;i<s.length;i++)if(t===ye.AUDIO_TRACK&&s[i].hasAudioGroup(e)||t===ye.SUBTITLE_TRACK&&s[i].hasSubtitleGroup(e))return s[i].pathwayId;return r}clonePathways(e){const t=this.levels;if(!t)return;const r={},s={};e.forEach(i=>{const{ID:a,"BASE-ID":o,"URI-REPLACEMENT":l}=i;if(t.some(u=>u.pathwayId===a))return;const c=this.getLevelsForPathway(o).map(u=>{const d=new Me(u.attrs);d["PATHWAY-ID"]=a;const f=d.AUDIO&&`${d.AUDIO}_clone_${a}`,h=d.SUBTITLES&&`${d.SUBTITLES}_clone_${a}`;f&&(r[d.AUDIO]=f,d.AUDIO=f),h&&(s[d.SUBTITLES]=h,d.SUBTITLES=h);const p=rb(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),m=new ai({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:p,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let g=1;g<u.audioGroups.length;g++)m.addGroupId("audio",`${u.audioGroups[g]}_clone_${a}`);if(u.subtitleGroups)for(let g=1;g<u.subtitleGroups.length;g++)m.addGroupId("text",`${u.subtitleGroups[g]}_clone_${a}`);return m});t.push(...c),D0(this.audioTracks,r,l,a),D0(this.subtitleTracks,s,l,a)})}loadSteeringManifest(e){const t=this.hls.config,r=t.loader;this.loader&&this.loader.destroy(),this.loader=new r(t);let s;try{s=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(s.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;s.searchParams.set("_HLS_pathway",this.pathwayId),s.searchParams.set("_HLS_throughput",""+u)}const i={responseType:"json",url:s.href},a=t.steeringManifestLoadPolicy.default,o=a.errorRetry||a.timeoutRetry||{},l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},c={onSuccess:(u,d,f,h)=>{this.log(`Loaded steering manifest: "${s}"`);const p=u.data;if(p.VERSION!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":g,"PATHWAY-PRIORITY":v}=p;if(m)try{this.uri=new self.URL(m,s).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||f.url),g&&this.clonePathways(g);const w={steeringManifest:p,url:s.toString()};this.hls.trigger(C.STEERING_MANIFEST_LOADED,w),v&&this.updatePathwayPriority(v)},onError:(u,d,f,h)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let p=this.timeToLoad*1e3;if(u.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const g=m.getResponseHeader("Retry-After");g&&(p=parseFloat(g)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,p)},onTimeout:(u,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${s}`),this.loader.load(i,l,c)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const s=(r=this.hls)==null?void 0:r.media;if(s&&!s.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function D0(n,e,t,r){n&&Object.keys(e).forEach(s=>{const i=n.filter(a=>a.groupId===s).map(a=>{const o=Ve({},a);return o.details=void 0,o.attrs=new Me(o.attrs),o.url=o.attrs.URI=rb(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),o.groupId=o.attrs["GROUP-ID"]=e[s],o.attrs["PATHWAY-ID"]=r,o});n.push(...i)})}function rb(n,e,t,r){const{HOST:s,PARAMS:i,[t]:a}=r;let o;e&&(o=a==null?void 0:a[e],o&&(n=o));const l=new self.URL(n);return s&&!o&&(l.host=s),i&&Object.keys(i).sort().forEach(c=>{c&&l.searchParams.set(c,i[c])}),l.href}const dD=/^age:\s*[\d.]+\s*$/im;class sb{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Lc,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const r=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0,s.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return i(r,t.url)}).catch(a=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",t.url,!0),i(r,t.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,t,e)}).catch(a=>{this.callbacks.onError({code:r.status,text:a.message},t,r,s)}):this.openAndSendXhr(r,t,e)}openAndSendXhr(e,t,r){e.readyState||e.open("GET",t.url,!0);const s=t.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:a}=r.loadPolicy;if(s)for(const o in s)e.setRequestHeader(o,s[o]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),r.timeout=i&&X(i)?i:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:r}=this;if(!e||!t)return;const s=t.readyState,i=this.config;if(!r.aborted&&s>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const a=t.status,o=t.responseType==="text"?t.responseText:null;if(a>=200&&a<300){const d=o??t.response;if(d!=null){r.loading.end=Math.max(self.performance.now(),r.loading.first);const f=t.responseType==="arraybuffer"?d.byteLength:d.length;if(r.loaded=r.total=f,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const h=this.callbacks.onProgress;if(h&&h(r,e,d,t),!this.callbacks)return;const p={url:t.responseURL,data:d,code:a};this.callbacks.onSuccess(p,r,e,t);return}}const l=i.loadPolicy.errorRetry,c=r.retry,u={url:e.url,data:void 0,code:a};Fl(l,c,!1,u)?this.retry(l):(j.error(`${a} while loading ${e.url}`),this.callbacks.onError({code:a,text:t.statusText},e,t,r))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Fl(e,t,!0))this.retry(e);else{var r;j.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:r}=this;this.retryDelay=Zh(e,r.retry),r.retry++,j.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&dD.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function fD(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const hD=/(\d+)-(\d+)\/(\d+)/;class P0{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||xD,this.controller=new self.AbortController,this.stats=new Lc}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,r){const s=this.stats;if(s.loading.start)throw new Error("Loader can only be used once.");s.loading.start=self.performance.now();const i=pD(e,this.controller.signal),a=r.onProgress,o=e.responseType==="arraybuffer",l=o?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),t.timeout=c&&X(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(s,e,this.response)},t.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const f=Math.max(self.performance.now(),s.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(s,e,this.response)},u-(f-s.loading.start)),!d.ok){const{status:h,statusText:p}=d;throw new yD(p||"fetch, bad network response",h,d)}return s.loading.first=f,s.total=gD(d.headers)||s.total,a&&X(t.highWaterMark)?this.loadProgressively(d,s,e,t.highWaterMark,a):o?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),s.loading.end=Math.max(self.performance.now(),s.loading.first);const h=d[l];h&&(s.loaded=s.total=h);const p={url:f.url,data:d,code:f.status};a&&!X(t.highWaterMark)&&a(s,e,d,f),r.onSuccess(p,s,e,f)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),s.aborted)return;const f=d&&d.code||0,h=d?d.message:null;r.onError({code:f,text:h},e,d?d.details:null,s)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,r,s=0,i){const a=new Aw,o=e.body.getReader(),l=()=>o.read().then(c=>{if(c.done)return a.dataLength&&i(t,r,a.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return t.loaded+=d,d<s||a.dataLength?(a.push(u),a.dataLength>=s&&i(t,r,a.flush(),e)):i(t,r,u,e),l()}).catch(()=>Promise.reject());return l()}}function pD(n,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Ve({},n.headers))};return n.rangeEnd&&t.headers.set("Range","bytes="+n.rangeStart+"-"+String(n.rangeEnd-1)),t}function mD(n){const e=hD.exec(n);if(e)return parseInt(e[2])-parseInt(e[1])+1}function gD(n){const e=n.get("Content-Range");if(e){const r=mD(e);if(X(r))return r}const t=n.get("Content-Length");if(t)return parseInt(t)}function xD(n,e){return new self.Request(n.url,e)}class yD extends Error{constructor(e,t,r){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=r}}const vD=/\s/,wD={newCue(n,e,t,r){const s=[];let i,a,o,l,c;const u=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(i=r.rows[f],o=!0,l=0,c="",!i.isEmpty()){var d;for(let m=0;m<i.chars.length;m++)vD.test(i.chars[m].uchar)&&o?l++:(c+=i.chars[m].uchar,o=!1);i.cueStartTime=e,e===t&&(t+=1e-4),l>=16?l--:l++;const h=Kw(c.trim()),p=up(e,t,h);n!=null&&(d=n.cues)!=null&&d.getCueById(p)||(a=new u(e,t,h),a.id=p,a.line=f+1,a.align="left",a.position=10+Math.min(80,Math.floor(l*8/32)*10),s.push(a))}return n&&s.length&&(s.sort((f,h)=>f.line==="auto"||h.line==="auto"?0:f.line>8&&h.line>8?h.line-f.line:f.line-h.line),s.forEach(f=>xw(n,f))),s}},bD={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},ib=et(et({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:sb,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Y4,bufferController:J5,capLevelController:dp,errorController:M4,fpsController:LN,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:nw,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:bD},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},SD()),{},{subtitleStreamController:Y5,subtitleTrackController:X5,timelineController:TN,audioStreamController:W5,audioTrackController:K5,emeController:qs,cmcdController:lD,contentSteeringController:uD});function SD(){return{cueHandler:wD,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function ED(n,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const t=Rf(n),r=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(i=>{const a=`${i==="level"?"playlist":i}LoadPolicy`,o=e[a]===void 0,l=[];s.forEach(c=>{const u=`${i}Loading${c}`,d=e[u];if(d!==void 0&&o){l.push(u);const f=t[a].default;switch(e[a]={default:f},c){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&j.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${a}": ${JSON.stringify(e[a])}`)}),et(et({},t),e)}function Rf(n){return n&&typeof n=="object"?Array.isArray(n)?n.map(Rf):Object.keys(n).reduce((e,t)=>(e[t]=Rf(n[t]),e),{}):n}function TD(n){const e=n.loader;e!==P0&&e!==sb?(j.log("[config]: Custom loader detected, cannot enable progressive streaming"),n.progressive=!1):fD()&&(n.loader=P0,n.progressive=!0,n.enableSoftwareAES=!0,j.log("[config]: Progressive streaming enabled, using FetchLoader"))}let Uu;class AD extends ep{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(C.LEVEL_LOADED,this.onLevelLoaded,this),e.on(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(C.FRAG_BUFFERED,this.onFragBuffered,this),e.on(C.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(C.LEVEL_LOADED,this.onLevelLoaded,this),e.off(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(C.FRAG_BUFFERED,this.onFragBuffered,this),e.off(C.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const r=this.hls.config.preferManagedMediaSource,s=[],i={},a={};let o=!1,l=!1,c=!1;t.levels.forEach(u=>{var d,f;const h=u.attrs;let{audioCodec:p,videoCodec:m}=u;((d=p)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(Uu||(Uu=/chrome|firefox/i.test(navigator.userAgent)),Uu&&(u.audioCodec=p=void 0)),p&&(u.audioCodec=p=_l(p,r)),((f=m)==null?void 0:f.indexOf("avc1"))===0&&(m=u.videoCodec=d4(m));const{width:g,height:v,unknownCodecs:w}=u;if(o||(o=!!(g&&v)),l||(l=!!m),c||(c=!!p),w!=null&&w.length||p&&!Lu(p,"audio",r)||m&&!Lu(m,"video",r))return;const{CODECS:y,"FRAME-RATE":S,"HDCP-LEVEL":b,"PATHWAY-ID":T,RESOLUTION:I,"VIDEO-RANGE":E}=h,L=`${`${T||"."}-`}${u.bitrate}-${I}-${S}-${y}-${E}-${b}`;if(i[L])if(i[L].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const k=a[L]+=1;u.attrs["PATHWAY-ID"]=new Array(k+1).join(".");const R=new ai(u);i[L]=R,s.push(R)}else i[L].addGroupId("audio",h.AUDIO),i[L].addGroupId("text",h.SUBTITLES);else{const k=new ai(u);i[L]=k,a[L]=1,s.push(k)}}),this.filterAndSortMediaOptions(s,t,o,l,c)}filterAndSortMediaOptions(e,t,r,s,i){let a=[],o=[],l=e;if((r||s)&&i&&(l=l.filter(({videoCodec:p,videoRange:m,width:g,height:v})=>(!!p||!!(g&&v))&&T4(m))),l.length===0){Promise.resolve().then(()=>{if(this.hls){t.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(t.levels[0].attrs)}`);const p=new Error("no level with compatible codecs found in manifest");this.hls.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:p,reason:p.message})}});return}if(t.audioTracks){const{preferManagedMediaSource:p}=this.hls.config;a=t.audioTracks.filter(m=>!m.audioCodec||Lu(m.audioCodec,"audio",p)),_0(a)}t.subtitles&&(o=t.subtitles,_0(o));const c=l.slice(0);l.sort((p,m)=>{if(p.attrs["HDCP-LEVEL"]!==m.attrs["HDCP-LEVEL"])return(p.attrs["HDCP-LEVEL"]||"")>(m.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&p.height!==m.height)return p.height-m.height;if(p.frameRate!==m.frameRate)return p.frameRate-m.frameRate;if(p.videoRange!==m.videoRange)return Ol.indexOf(p.videoRange)-Ol.indexOf(m.videoRange);if(p.videoCodec!==m.videoCodec){const g=Ug(p.videoCodec),v=Ug(m.videoCodec);if(g!==v)return v-g}if(p.uri===m.uri&&p.codecSet!==m.codecSet){const g=Pl(p.codecSet),v=Pl(m.codecSet);if(g!==v)return v-g}return p.averageBitrate!==m.averageBitrate?p.averageBitrate-m.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let p=0;p<c.length;p++)if(c[p].pathwayId===l[0].pathwayId){u=c[p];break}}this._levels=l;for(let p=0;p<l.length;p++)if(l[p]===u){var d;this._firstLevel=p;const m=u.bitrate,g=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${m}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const v=Math.min(m,this.hls.config.abrEwmaDefaultEstimateMax);v>g&&g===ib.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=v)}break}const f=i&&!s,h={levels:l,audioTracks:a,subtitleTracks:o,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:s,altAudio:!f&&a.some(p=>!!p.url)};this.hls.trigger(C.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(C.ERROR,{type:ie.OTHER_ERROR,details:U.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,t.length-1)}const r=this.currentLevelIndex,s=this.currentLevel,i=s?s.attrs["PATHWAY-ID"]:void 0,a=t[e],o=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,r===e&&a.details&&s&&i===o)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${o?" with Pathway "+o:""} from level ${r}${i?" with Pathway "+i:""}`);const l={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(C.LEVEL_SWITCHING,l);const c=a.details;if(!c||c.live){const u=this.switchParams(a.uri,s==null?void 0:s.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){t.fatal||!t.context||t.context.type===ye.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===ne.MAIN){const r=t.elementaryStreams;if(!Object.keys(r).some(i=>!!r[i]))return;const s=this._levels[t.level];s!=null&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(e,t){var r;const{level:s,details:i}=t,a=this._levels[s];if(!a){var o;this.warn(`Invalid level index ${s}`),(o=t.deliveryDirectives)!=null&&o.skip&&(i.deltaUpdateFailed=!0);return}s===this.currentLevelIndex?(a.fragmentError===0&&(a.loadError=0),this.playlistLoaded(s,t,a.details)):(r=t.deliveryDirectives)!=null&&r.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const t=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let s=r.uri;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}const i=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${i?" Pathway "+i:""} ${s}`),this.clearTimer(),this.hls.trigger(C.LEVEL_LOADING,{url:s,level:t,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;const r=this._levels.filter((s,i)=>i!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(a=>a.level=-1)),!1));bw(r),this._levels=r,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(C.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(C.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function _0(n){const e={};n.forEach(t=>{const r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++})}class LD{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const s=this.keyUriToKeyInfo[r].loader;if(s){var t;if(e&&e!==((t=s.context)==null?void 0:t.frag.type))return;s.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=U.KEY_LOAD_ERROR,r,s,i){return new Hn({type:ie.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:r,networkDetails:s})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:s}=e;for(let i=0;i<t.length;i++){const a=t[i];if(s<=a.cc&&(r==="initSegment"||a.sn==="initSegment"||r<a.sn)){this.emeController.selectKeySystemFormat(a).then(o=>{a.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var r,s;t&&e.setKeyFormat(t);const i=e.decryptdata;if(!i){const c=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,U.KEY_LOAD_ERROR,c))}const a=i.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,U.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let o=this.keyUriToKeyInfo[a];if((r=o)!=null&&r.decryptdata.key)return i.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((s=o)!=null&&s.keyLoadPromise){var l;switch((l=o.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(c=>(i.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[a]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return i.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,U.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(e,t){const r={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const s=this.emeController.loadKey(r);if(s)return(e.keyLoadPromise=s.then(i=>(e.mediaKeySessionContext=i,r))).catch(i=>{throw e.keyLoadPromise=null,i})}return Promise.resolve(r)}loadKeyHTTP(e,t){const r=this.config,s=r.loader,i=new s(r);return t.keyLoader=e.loader=i,e.keyLoadPromise=new Promise((a,o)=>{const l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,m)=>{const{frag:g,keyInfo:v,url:w}=p;if(!g.decryptdata||v!==this.keyUriToKeyInfo[w])return o(this.createKeyLoadError(g,U.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));v.decryptdata.key=g.decryptdata.key=new Uint8Array(f.data),g.keyLoader=null,v.loader=null,a({frag:g,keyInfo:v})},onError:(f,h,p,m)=>{this.resetLoader(h),o(this.createKeyLoadError(t,U.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),p,et({url:l.url,data:void 0},f)))},onTimeout:(f,h,p)=>{this.resetLoader(h),o(this.createKeyLoadError(t,U.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(f,h,p)=>{this.resetLoader(h),o(this.createKeyLoadError(t,U.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};i.load(l,u,d)})}resetLoader(e){const{frag:t,keyInfo:r,url:s}=e,i=r.loader;t.keyLoader===i&&(t.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[s],i&&i.destroy()}}function ab(){return self.SourceBuffer||self.WebKitSourceBuffer}function ob(){if(!ps())return!1;const e=ab();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function CD(){if(!ob())return!1;const n=ps();return typeof(n==null?void 0:n.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>n.isTypeSupported(wa(e,"video")))||["mp4a.40.2","fLaC"].some(e=>n.isTypeSupported(wa(e,"audio"))))}function ID(){var n;const e=ab();return typeof(e==null||(n=e.prototype)==null?void 0:n.changeType)=="function"}const kD=250,Go=2,RD=.1,ND=.05;class DD{constructor(e,t,r,s){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=r,this.hls=s}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){const{config:r,media:s,stalled:i}=this;if(s===null)return;const{currentTime:a,seeking:o}=s,l=this.seeking&&!o,c=!this.seeking&&o;if(this.seeking=o,a!==e){if(this.moved=!0,o||(this.nudgeRetry=0),i!==null){if(this.stallReported){const g=self.performance.now()-i;j.warn(`playback not stuck anymore @${a}, after ${Math.round(g)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(s.paused&&!o||s.ended||s.playbackRate===0||!ke.getBuffered(s).length){this.nudgeRetry=0;return}const u=ke.bufferInfo(s,a,0),d=u.nextStart||0;if(o){const g=u.len>Go,v=!d||t&&t.start<=a||d-a>Go&&!this.fragmentTracker.getPartialFragment(a);if(g||v)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(u.len>0)&&!d)return;const v=Math.max(d,u.start||0)-a,w=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,S=(w==null||(f=w.details)==null?void 0:f.live)?w.details.targetduration*2:Go,b=this.fragmentTracker.getPartialFragment(a);if(v>0&&(v<=S||b)){s.paused||this._trySkipBufferHole(b);return}}const h=self.performance.now();if(i===null){this.stalled=h;return}const p=h-i;if(!o&&p>=kD&&(this._reportStall(u),!this.media))return;const m=ke.bufferInfo(s,a,r.maxBufferHole);this._tryFixBufferStall(m,p)}_tryFixBufferStall(e,t){const{config:r,fragmentTracker:s,media:i}=this;if(i===null)return;const a=i.currentTime,o=s.getPartialFragment(a);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-a<r.maxBufferHole)&&t>r.highBufferWatchdogPeriod*1e3&&(j.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:t,media:r,stallReported:s}=this;if(!s&&r){this.stallReported=!0;const i=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);j.warn(i.message),t.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:e.len})}}_trySkipBufferHole(e){const{config:t,hls:r,media:s}=this;if(s===null)return 0;const i=s.currentTime,a=ke.bufferInfo(s,i,0),o=i<a.start?a.start:a.nextStart;if(o){const l=a.len<=t.maxBufferHole,c=a.len>0&&a.len<1&&s.readyState<3,u=o-i;if(u>0&&(l||c)){if(u>t.maxBufferHole){const{fragmentTracker:f}=this;let h=!1;if(i===0){const p=f.getAppendedFrag(0,ne.MAIN);p&&o<p.end&&(h=!0)}if(!h){const p=e||f.getAppendedFrag(i,ne.MAIN);if(p){let m=!1,g=p.end;for(;g<o;){const v=f.getPartialFragment(g);if(v)g+=v.duration;else{m=!0;break}}if(m)return 0}}}const d=Math.max(o+ND,i+RD);if(j.warn(`skipping hole, adjusting currentTime from ${i} to ${d}`),this.moved=!0,this.stalled=null,s.currentTime=d,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${d}`);r.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:t,media:r,nudgeRetry:s}=this;if(r===null)return;const i=r.currentTime;if(this.nudgeRetry++,s<e.nudgeMaxRetry){const a=i+(s+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${i} to ${a}`);j.warn(o.message),r.currentTime=a,t.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const a=new Error(`Playhead still not moving while enough data buffered @${i} after ${e.nudgeMaxRetry} nudges`);j.error(a.message),t.trigger(C.ERROR,{type:ie.MEDIA_ERROR,details:U.BUFFER_STALLED_ERROR,error:a,fatal:!0})}}}const PD=100;class _D extends rp{constructor(e,t,r){super(e,t,r,"[stream-controller]",ne.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(C.MANIFEST_LOADING,this.onManifestLoading,this),e.on(C.MANIFEST_PARSED,this.onManifestParsed,this),e.on(C.LEVEL_LOADING,this.onLevelLoading,this),e.on(C.LEVEL_LOADED,this.onLevelLoaded,this),e.on(C.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(C.ERROR,this.onError,this),e.on(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(C.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(C.BUFFER_CREATED,this.onBufferCreated,this),e.on(C.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(C.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(C.MANIFEST_LOADING,this.onManifestLoading,this),e.off(C.MANIFEST_PARSED,this.onManifestParsed,this),e.off(C.LEVEL_LOADED,this.onLevelLoaded,this),e.off(C.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(C.ERROR,this.onError,this),e.off(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(C.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(C.BUFFER_CREATED,this.onBufferCreated,this),e.off(C.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(C.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(C.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:t,hls:r}=this;if(this.stopLoad(),this.setInterval(PD),this.level=-1,!this.startFragRequested){let s=r.startLevel;s===-1&&(r.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=r.firstAutoLevel),r.nextLoadLevel=s,this.level=r.loadLevel,this.loadedmetadata=!1}t>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t),this.state=G.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=G.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case G.WAITING_LEVEL:{const{levels:t,level:r}=this,s=t==null?void 0:t[r],i=s==null?void 0:s.details;if(i&&(!i.live||this.levelLastLoaded===s)){if(this.waitForCdnTuneIn(i))break;this.state=G.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=G.IDLE;break}break}case G.FRAG_LOADING_WAITING_RETRY:{var e;const t=self.performance.now(),r=this.retryDate;if(!r||t>=r||(e=this.media)!=null&&e.seeking){const{levels:s,level:i}=this,a=s==null?void 0:s[i];this.resetStartWhenNotLoaded(a||null),this.state=G.IDLE}}break}this.state===G.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:r,media:s}=this;if(t===null||!s&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const i=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[i]))return;const a=r[i],o=this.getMainFwdBufferInfo();if(o===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){const m={};this.altAudio&&(m.type="video"),this.hls.trigger(C.BUFFER_EOS,m),this.state=G.ENDED;return}if(!this.buffering)return;e.loadLevel!==i&&e.manualLevel===-1&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=e.nextLoadLevel=i;const c=a.details;if(!c||this.state===G.WAITING_LEVEL||c.live&&this.levelLastLoaded!==a){this.level=i,this.state=G.WAITING_LEVEL;return}const u=o.len,d=this.getMaxBufferLength(a.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:o.end;let h=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&h&&h.sn!=="initSegment"&&this.fragmentTracker.getState(h)!==Je.OK){var p;const g=((p=this.backtrackFragment)!=null?p:h).sn-c.startSN,v=c.fragments[g-1];v&&h.cc===v.cc&&(h=v,this.fragmentTracker.removeFragment(v))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,f)){if(!h.gap){const g=this.audioOnly&&!this.altAudio?Ae.AUDIO:Ae.VIDEO,v=(g===Ae.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;v&&this.afterBufferFlushed(v,g,ne.MAIN)}h=this.getNextFragmentLoopLoading(h,c,o,ne.MAIN,d)}h&&(h.initSegment&&!h.initSegment.data&&!this.bitrateTest&&(h=h.initSegment),this.loadFragment(h,a,f))}loadFragment(e,t,r){const s=this.fragmentTracker.getState(e);this.fragCurrent=e,s===Je.NOT_LOADED||s===Je.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,t):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,ne.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let r;const s=this.getAppendedFrag(t.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);const i=this.getLevelDetails();if(i!=null&&i.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<i.targetduration*2)return}if(!t.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const a=this.getBufferedFrag(t.currentTime+r);if(a){const o=this.followingBufferedFrag(a);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,c=o.duration,u=Math.max(a.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case G.KEY_LOADING:case G.FRAG_LOADING:case G.FRAG_LOADING_WAITING_RETRY:case G.PARSING:case G.PARSED:this.state=G.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const r=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new DD(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,t=e?e.currentTime:null;X(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(C.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let r=!1,s=!1;t.levels.forEach(i=>{const a=i.audioCodec;a&&(r=r||a.indexOf("mp4a.40.2")!==-1,s=s||a.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&s&&!ID(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:r}=this;if(!r||this.state!==G.IDLE)return;const s=r[t.level];(!s.details||s.details.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(s.details))&&(this.state=G.WAITING_LEVEL)}onLevelLoaded(e,t){var r;const{levels:s}=this,i=t.level,a=t.details,o=a.totalduration;if(!s){this.warn(`Levels were reset while loading level ${i}`);return}this.log(`Level ${i} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${o}`);const l=s[i],c=this.fragCurrent;c&&(this.state===G.FRAG_LOADING||this.state===G.FRAG_LOADING_WAITING_RETRY)&&c.level!==t.level&&c.loader&&this.abortCurrentFrag();let u=0;if(a.live||(r=l.details)!=null&&r.live){var d;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=a,this.levelLastLoaded=l,this.hls.trigger(C.LEVEL_UPDATED,{details:a,level:i}),this.state===G.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=G.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:r,part:s,payload:i}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const o=a[r.level],l=o.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=o.videoCodec,u=l.PTSKnown||!l.live,d=(t=r.initSegment)==null?void 0:t.data,f=this._getAudioCodec(o),h=this.transmuxer=this.transmuxer||new Uw(this.hls,ne.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=s?s.index:-1,m=p!==-1,g=new tp(r.level,r.sn,r.stats.chunkCount,i.byteLength,p,m),v=this.initPTS[r.cc];h.push(i,d,f,c,r,s,l.totalduration,u,g,v)}onAudioTrackSwitching(e,t){const r=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const i=this.hls;r&&(i.trigger(C.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(C.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const r=t.id,s=!!this.hls.audioTracks[r].url;if(s){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=s,this.tick()}onBufferCreated(e,t){const r=t.tracks;let s,i,a=!1;for(const o in r){const l=r[o];if(l.id==="main"){if(i=o,s=l,o==="video"){const c=r[o];c&&(this.videoBuffer=c.buffer)}}else a=!0}a&&s?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:r,part:s}=t;if(r&&r.type!==ne.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${s?" p: "+s.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===G.PARSED&&(this.state=G.IDLE);return}const i=s?s.stats:r.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,s)}onError(e,t){var r;if(t.fatal){this.state=G.ERROR;return}switch(t.details){case U.FRAG_GAP:case U.FRAG_PARSING_ERROR:case U.FRAG_DECRYPT_ERROR:case U.FRAG_LOAD_ERROR:case U.FRAG_LOAD_TIMEOUT:case U.KEY_LOAD_ERROR:case U.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ne.MAIN,t);break;case U.LEVEL_LOAD_ERROR:case U.LEVEL_LOAD_TIMEOUT:case U.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===G.WAITING_LEVEL&&((r=t.context)==null?void 0:r.type)===ye.LEVEL&&(this.state=G.IDLE);break;case U.BUFFER_APPEND_ERROR:case U.BUFFER_FULL_ERROR:if(!t.parent||t.parent!=="main")return;if(t.details===U.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case U.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}checkBuffer(){const{media:e,gapController:t}=this;if(!(!e||!t||!e.readyState)){if(this.loadedmetadata||!ke.getBuffered(e).length){const r=this.state!==G.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=G.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Ae.AUDIO||this.audioOnly&&!this.altAudio){const r=(t===Ae.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,t,ne.MAIN),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let r=this.startPosition;if(r>=0&&t<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${t}`);return}const s=ke.getBuffered(e),a=(s.length?s.start(0):0)-r;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${a} to match buffer start`),r+=a,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${t}`),e.currentTime=r}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(r=>{const{hls:s}=this;if(!r||this.fragContextChanged(e))return;t.fragmentError=0,this.state=G.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const i=e.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),s.trigger(C.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var t;const r="main",{hls:s}=this,{remuxResult:i,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{video:d,text:f,id3:h,initSegment:p}=i,{details:m}=u,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=G.PARSING,p){if(p!=null&&p.tracks){const y=l.initSegment||l;this._bufferInitSegment(u,p.tracks,y,a),s.trigger(C.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:r,tracks:p.tracks})}const v=p.initPTS,w=p.timescale;X(v)&&(this.initPTS[l.cc]={baseTime:v,timescale:w},s.trigger(C.INIT_PTS_FOUND,{frag:l,id:r,initPTS:v,timescale:w}))}if(d&&m&&l.sn!=="initSegment"){const v=m.fragments[l.sn-1-m.startSN],w=l.sn===m.startSN,y=!v||l.cc>v.cc;if(i.independent!==!1){const{startPTS:S,endPTS:b,startDTS:T,endDTS:I}=d;if(c)c.elementaryStreams[d.type]={startPTS:S,endPTS:b,startDTS:T,endDTS:I};else if(d.firstKeyFrame&&d.independent&&a.id===1&&!y&&(this.couldBacktrack=!0),d.dropped&&d.independent){const E=this.getMainFwdBufferInfo(),A=(E?E.end:this.getLoadPosition())+this.config.maxBufferHole,L=d.firstKeyFramePTS?d.firstKeyFramePTS:S;if(!w&&A<L-this.config.maxBufferHole&&!y){this.backtrack(l);return}else y&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,b,l.start,I,!0)}else w&&S>Go&&(l.gap=!0);l.setElementaryStreamInfo(d.type,S,b,T,I),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,a,w||y)}else if(w||y)l.gap=!0;else{this.backtrack(l);return}}if(g){const{startPTS:v,endPTS:w,startDTS:y,endDTS:S}=g;c&&(c.elementaryStreams[Ae.AUDIO]={startPTS:v,endPTS:w,startDTS:y,endDTS:S}),l.setElementaryStreamInfo(Ae.AUDIO,v,w,y,S),this.bufferFragmentData(g,l,c,a)}if(m&&h!=null&&(t=h.samples)!=null&&t.length){const v={id:r,frag:l,details:m,samples:h.samples};s.trigger(C.FRAG_PARSING_METADATA,v)}if(m&&f){const v={id:r,frag:l,details:m,samples:f.samples};s.trigger(C.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,t,r,s){if(this.state!==G.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:i,video:a,audiovideo:o}=t;if(i){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=i.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&i.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),i.levelCodec=l,i.id="main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${i.codec}]`)}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${a.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),this.hls.trigger(C.BUFFER_CODECS,t),Object.keys(t).forEach(l=>{const u=t[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(C.BUFFER_APPENDING,{type:l,data:u,frag:r,part:null,chunkMeta:s,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ne.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=G.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(ke.isBuffered(e,r)?t=this.getAppendedFrag(r):ke.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){this.backtrackFragment=null;const s=this.fragPlaying,i=t.level;(!s||t.sn!==s.sn||s.level!==i)&&(this.fragPlaying=t,this.hls.trigger(C.FRAG_CHANGED,{frag:t}),(!s||s.level!==i)&&this.hls.trigger(C.LEVEL_SWITCHED,{level:i}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const t=e.currentTime,r=this.currentFrag;if(r&&X(t)&&X(r.programDateTime)){const s=r.programDateTime+(t-r.start)*1e3;return new Date(s)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Sr{static get version(){return"1.5.20"}static isMSESupported(){return ob()}static isSupported(){return CD()}static getMediaSource(){return ps()}static get Events(){return C}static get ErrorTypes(){return ie}static get ErrorDetails(){return U}static get DefaultConfig(){return Sr.defaultConfig?Sr.defaultConfig:ib}static set DefaultConfig(e){Sr.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new lp,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,SR(e.debug||!1,"Hls instance");const t=this.config=ED(Sr.DefaultConfig,e);this.userConfig=e,t.progressive&&TD(t);const{abrController:r,bufferController:s,capLevelController:i,errorController:a,fpsController:o}=t,l=new a(this),c=this.abrController=new r(this),u=this.bufferController=new s(this),d=this.capLevelController=new i(this),f=new o(this),h=new g4(this),p=new b4(this),m=t.contentSteeringController,g=m?new m(this):null,v=this.levelController=new AD(this,g),w=new X4(this),y=new LD(this.config),S=this.streamController=new _D(this,w,y);d.setStreamController(S),f.setStreamController(S);const b=[h,v,S];g&&b.splice(1,0,g),this.networkControllers=b;const T=[c,u,d,f,p,w];this.audioTrackController=this.createController(t.audioTrackController,b);const I=t.audioStreamController;I&&b.push(new I(this,w,y)),this.subtitleTrackController=this.createController(t.subtitleTrackController,b);const E=t.subtitleStreamController;E&&b.push(new E(this,w,y)),this.createController(t.timelineController,T),y.emeController=this.emeController=this.createController(t.emeController,T),this.cmcdController=this.createController(t.cmcdController,T),this.latencyController=this.createController(S4,T),this.coreComponents=T,b.push(l);const A=l.onErrorOut;typeof A=="function"&&this.on(C.ERROR,A,l)}createController(e,t){if(e){const r=new e(this);return t&&t.push(r),r}return null}on(e,t,r=this){this._emitter.on(e,t,r)}once(e,t,r=this){this._emitter.once(e,t,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,r=this,s){this._emitter.off(e,t,r,s)}listeners(e){return this._emitter.listeners(e)}emit(e,t,r){return this._emitter.emit(e,t,r)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(r){if(j.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const s=e===C.ERROR;this.trigger(C.ERROR,{type:ie.OTHER_ERROR,details:U.INTERNAL_EXCEPTION,fatal:s,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){j.log("destroy"),this.trigger(C.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){j.log("attachMedia"),this._media=e,this.trigger(C.MEDIA_ATTACHING,{media:e})}detachMedia(){j.log("detachMedia"),this.trigger(C.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const t=this.media,r=this.url,s=this.url=qh.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,j.log(`loadSource:${s}`),t&&r&&(r!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(C.MANIFEST_LOADING,{url:e})}startLoad(e=-1){j.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].startLoad(e),!(!this.started||!this.networkControllers));t++);}stopLoad(){j.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}resumeBuffering(){j.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()})}pauseBuffering(){j.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()})}swapAudioCodec(){j.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){j.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){j.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){j.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){j.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){j.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){j.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(j.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){E4(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const r=e.length;for(let s=0;s<r;s++)if(e[s].maxBitrate>=t)return s;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:r}=this;let s;if(t===-1&&e!=null&&e.length?s=e.length-1:s=t,r)for(let i=s;i--;){const a=e[i].attrs["HDCP-LEVEL"];if(a&&a<=r)return i}return s}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return(t=this.audioTrackController)==null?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return(t=this.subtitleTrackController)==null||t.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Sr.defaultConfig=void 0;function zl(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hl={exports:{}};Hl.exports;(function(n,e){/*!
 * artplayer.js v5.2.2
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2025 Harvey Zack
 * Released under the MIT License.
 */(function(t,r,s,i,a){var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Vo<"u"?Vo:{},l=typeof o[i]=="function"&&o[i],c=l.cache||{},u=typeof zl=="function"&&zl.bind(n);function d(p,m){if(!c[p]){if(!t[p]){var g=typeof o[i]=="function"&&o[i];if(!m&&g)return g(p,!0);if(l)return l(p,!0);if(u&&typeof p=="string")return u(p);var v=Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}y.resolve=function(S){var b=t[p][1][S];return b??S},y.cache={};var w=c[p]=new d.Module(p);t[p][0].call(w.exports,y,w,w.exports,this)}return c[p].exports;function y(S){var b=y.resolve(S);return b===!1?{}:d(b)}}d.isParcelRequire=!0,d.Module=function(p){this.id=p,this.bundle=d,this.exports={}},d.modules=t,d.cache=c,d.parent=l,d.register=function(p,m){t[p]=[function(g,v){v.exports=m},{}]},Object.defineProperty(d,"root",{get:function(){return o[i]}}),o[i]=d;for(var f=0;f<r.length;f++)d(r[f]);{var h=d(s);n.exports=h}})({"5lTcX":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("bundle-text:./style/index.less"),o=i.interopDefault(a),l=t("option-validator"),c=i.interopDefault(l),u=t("./utils/emitter"),d=i.interopDefault(u),f=t("./utils"),h=t("./scheme"),p=i.interopDefault(h),m=t("./config"),g=i.interopDefault(m),v=t("./template"),w=i.interopDefault(v),y=t("./i18n"),S=i.interopDefault(y),b=t("./player"),T=i.interopDefault(b),I=t("./control"),E=i.interopDefault(I),A=t("./contextmenu"),L=i.interopDefault(A),k=t("./info"),R=i.interopDefault(k),N=t("./subtitle"),P=i.interopDefault(N),_=t("./events"),$=i.interopDefault(_),H=t("./hotkey"),F=i.interopDefault(H),O=t("./layer"),M=i.interopDefault(O),V=t("./loading"),W=i.interopDefault(V),J=t("./notice"),re=i.interopDefault(J),pe=t("./mask"),Q=i.interopDefault(pe),ae=t("./icons"),Ie=i.interopDefault(ae),we=t("./setting"),Yt=i.interopDefault(we),qt=t("./storage"),Xt=i.interopDefault(qt),le=t("./plugins"),ge=i.interopDefault(le);let Ce=0,xe=[];class ee extends d.default{constructor(ze,Qt){super(),this.id=++Ce;let Mn=f.mergeDeep(ee.option,ze);if(Mn.container=ze.container,this.option=(0,c.default)(Mn,p.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new w.default(this),this.events=new $.default(this),this.storage=new Xt.default(this),this.icons=new Ie.default(this),this.i18n=new S.default(this),this.notice=new re.default(this),this.player=new T.default(this),this.layers=new M.default(this),this.controls=new E.default(this),this.contextmenu=new L.default(this),this.subtitle=new P.default(this),this.info=new R.default(this),this.loading=new W.default(this),this.hotkey=new F.default(this),this.mask=new Q.default(this),this.setting=new Yt.default(this),this.plugins=new ge.default(this),typeof Qt=="function"&&this.on("ready",()=>Qt.call(this,this)),ee.DEBUG){let Jt=Mt=>console.log(`[ART.${this.id}] -> ${Mt}`);Jt("Version@"+ee.version),Jt("Env@"+ee.env),Jt("Build@"+ee.build);for(let Mt=0;Mt<g.default.events.length;Mt++)this.on("video:"+g.default.events[Mt],ir=>Jt("Event@"+ir.type))}xe.push(this)}static get instances(){return xe}static get version(){return"5.2.2"}static get env(){return"production"}static get build(){return"2025-01-19 17:32:44"}static get config(){return g.default}static get utils(){return f}static get scheme(){return p.default}static get Emitter(){return d.default}static get validator(){return c.default}static get kindOf(){return c.default.kindOf}static get html(){return w.default.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,airplay:!1,proxy:void 0,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0,scale:1},subtitle:{url:"",type:"",style:{},name:"",escape:!0,encoding:"utf-8",onVttLoad:ze=>ze},moreVideoAttr:{controls:!1,preload:f.isSafari?"auto":"metadata"},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator==null?void 0:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(ze=!0){this.events.destroy(),this.template.destroy(ze),xe.splice(xe.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}s.default=ee,ee.STYLE=o.default,ee.DEBUG=!1,ee.CONTEXTMENU=!0,ee.NOTICE_TIME=2e3,ee.SETTING_WIDTH=250,ee.SETTING_ITEM_WIDTH=200,ee.SETTING_ITEM_HEIGHT=35,ee.RESIZE_TIME=200,ee.SCROLL_TIME=200,ee.SCROLL_GAP=50,ee.AUTO_PLAYBACK_MAX=10,ee.AUTO_PLAYBACK_MIN=5,ee.AUTO_PLAYBACK_TIMEOUT=3e3,ee.RECONNECT_TIME_MAX=5,ee.RECONNECT_SLEEP_TIME=1e3,ee.CONTROL_HIDE_TIME=3e3,ee.DBCLICK_TIME=300,ee.DBCLICK_FULLSCREEN=!0,ee.MOBILE_DBCLICK_PLAY=!0,ee.MOBILE_CLICK_PLAY=!1,ee.AUTO_ORIENTATION_TIME=200,ee.INFO_LOOP_TIME=1e3,ee.FAST_FORWARD_VALUE=3,ee.FAST_FORWARD_TIME=1e3,ee.TOUCH_MOVE_RATIO=.5,ee.VOLUME_STEP=.1,ee.SEEK_STEP=5,ee.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2],ee.ASPECT_RATIO=["default","4:3","16:9"],ee.FLIP=["normal","horizontal","vertical"],ee.FULLSCREEN_WEB_IN_BODY=!1,ee.LOG_VERSION=!0,ee.USE_RAF=!1,f.isBrowser&&(window.Artplayer=ee,f.setStyleText("artplayer-style",o.default),setTimeout(()=>{ee.LOG_VERSION&&console.log(`%c ArtPlayer %c ${ee.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")},100))},{"bundle-text:./style/index.less":"0016T","option-validator":"bAWi2","./utils/emitter":"66mFZ","./utils":"71aH7","./scheme":"AKEiO","./config":"lyjeQ","./template":"X13Zf","./i18n":"3jKkj","./player":"a90nx","./control":"8Z0Uf","./contextmenu":"2KYsr","./info":"02ajl","./subtitle":"eSWto","./events":"jo4S1","./hotkey":"6NoFy","./layer":"6G6hZ","./loading":"3dsEe","./notice":"dWGTw","./mask":"5POkG","./icons":"6OeNg","./setting":"3eYNH","./storage":"2aaJe","./plugins":"8MTUM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"0016T":[function(t,r,s){r.exports='.art-video-player{--art-theme:red;--art-font-color:#fff;--art-background-color:#000;--art-text-shadow-color:#00000080;--art-transition-duration:.2s;--art-padding:10px;--art-border-radius:3px;--art-progress-height:6px;--art-progress-color:#ffffff40;--art-hover-color:#ffffff40;--art-loaded-color:#ffffff40;--art-state-size:80px;--art-state-opacity:.8;--art-bottom-height:100px;--art-bottom-offset:20px;--art-bottom-gap:5px;--art-highlight-width:8px;--art-highlight-color:#ffffff80;--art-control-height:46px;--art-control-opacity:.75;--art-control-icon-size:36px;--art-control-icon-scale:1.1;--art-volume-height:120px;--art-volume-handle-size:14px;--art-lock-size:36px;--art-indicator-scale:0;--art-indicator-size:16px;--art-fullscreen-web-index:9999;--art-settings-icon-size:24px;--art-settings-max-height:300px;--art-selector-max-height:300px;--art-contextmenus-min-width:250px;--art-subtitle-font-size:20px;--art-subtitle-gap:5px;--art-subtitle-bottom:15px;--art-subtitle-border:#000;--art-widget-background:#000000d9;--art-tip-background:#000000b3;--art-scrollbar-size:4px;--art-scrollbar-background:#ffffff40;--art-scrollbar-background-hover:#ffffff80;--art-mini-progress-height:2px}.art-bg-cover{background-position:50%;background-repeat:no-repeat;background-size:cover}.art-bottom-gradient{background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x}.art-backdrop-filter{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.art-video-player{zoom:1;text-align:left;user-select:none;box-sizing:border-box;color:var(--art-font-color);background-color:var(--art-background-color);text-shadow:0 0 2px var(--art-text-shadow-color);-webkit-tap-highlight-color:#0000;-ms-touch-action:manipulation;touch-action:manipulation;-ms-high-contrast-adjust:none;direction:ltr;outline:0;width:100%;height:100%;margin:0 auto;padding:0;font-family:PingFang SC,Helvetica Neue,Microsoft YaHei,Roboto,Arial,sans-serif;font-size:14px;line-height:1.3;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box}.art-video-player ::-webkit-scrollbar{width:var(--art-scrollbar-size);height:var(--art-scrollbar-size)}.art-video-player ::-webkit-scrollbar-thumb{background-color:var(--art-scrollbar-background)}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:var(--art-scrollbar-background-hover)}.art-video-player img{vertical-align:top;max-width:100%}.art-video-player svg{fill:var(--art-font-color)}.art-video-player a{color:var(--art-font-color);text-decoration:none}.art-icon{justify-content:center;align-items:center;line-height:1;display:flex}.art-video-player.art-backdrop .art-contextmenus,.art-video-player.art-backdrop .art-info,.art-video-player.art-backdrop .art-settings,.art-video-player.art-backdrop .art-layer-auto-playback,.art-video-player.art-backdrop .art-selector-list,.art-video-player.art-backdrop .art-volume-inner{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-video{z-index:10;cursor:pointer;width:100%;height:100%;position:absolute;inset:0}.art-poster{z-index:11;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;text-align:center;pointer-events:none;justify-content:center;align-items:center;gap:var(--art-subtitle-gap);bottom:var(--art-subtitle-bottom);font-size:var(--art-subtitle-font-size);transition:bottom var(--art-transition-duration)ease;text-shadow:var(--art-subtitle-border)1px 0 1px,var(--art-subtitle-border)0 1px 1px,var(--art-subtitle-border)-1px 0 1px,var(--art-subtitle-border)0 -1px 1px,var(--art-subtitle-border)1px 1px 1px,var(--art-subtitle-border)-1px -1px 1px,var(--art-subtitle-border)1px -1px 1px,var(--art-subtitle-border)-1px 1px 1px;flex-direction:column;width:100%;padding:0 5%;display:none;position:absolute}.art-video-player.art-subtitle-show .art-subtitle{display:flex}.art-video-player.art-control-show .art-subtitle{bottom:calc(var(--art-control-height) + var(--art-subtitle-bottom))}.art-danmuku{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;pointer-events:none;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:flex}.art-video-player .art-mask{z-index:50;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;inset:0}.art-video-player .art-mask .art-state{opacity:0;width:var(--art-state-size);height:var(--art-state-size);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;display:flex;transform:scale(2)}.art-video-player.art-mask-show .art-state{cursor:pointer;pointer-events:auto;opacity:var(--art-state-opacity);transform:scale(1)}.art-video-player.art-loading-show .art-state{display:none}.art-video-player .art-loading{z-index:70;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;opacity:0;pointer-events:none;padding:0 var(--art-padding);transition:all var(--art-transition-duration)ease;background-size:100% var(--art-bottom-height);background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:flex-end;width:100%;height:100%;display:flex;position:absolute;inset:0;overflow:hidden}.art-video-player .art-bottom .art-controls,.art-video-player .art-bottom .art-progress{transform:translateY(var(--art-bottom-offset));transition:transform var(--art-transition-duration)ease}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1}.art-video-player.art-control-show .art-bottom .art-controls,.art-video-player.art-hover .art-bottom .art-controls,.art-video-player.art-control-show .art-bottom .art-progress,.art-video-player.art-hover .art-bottom .art-progress{transform:translateY(0)}.art-bottom .art-progress{z-index:0;pointer-events:auto;padding-bottom:var(--art-bottom-gap);position:relative}.art-bottom .art-progress .art-control-progress{cursor:pointer;height:var(--art-progress-height);justify-content:center;align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner{transition:height var(--art-transition-duration)ease;background-color:var(--art-progress-color);align-items:center;width:100%;height:50%;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-hover{z-index:0;background-color:var(--art-hover-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;background-color:var(--art-loaded-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;background-color:var(--art-theme);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{z-index:0;pointer-events:auto;transform:translateX(calc(var(--art-highlight-width)/-2));background-color:var(--art-highlight-color);width:100%;height:100%;position:absolute;inset:0 auto 0 0;width:var(--art-highlight-width)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{z-index:40;width:var(--art-indicator-size);height:var(--art-indicator-size);transform:scale(var(--art-indicator-scale));margin-left:calc(var(--art-indicator-size)/-2);transition:transform var(--art-transition-duration)ease;border-radius:50%;justify-content:center;align-items:center;display:flex;position:absolute;left:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{pointer-events:none;width:100%;height:100%}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:hover{transform:scale(1.2)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:active{transform:scale(1)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;border-radius:var(--art-border-radius);white-space:nowrap;background-color:var(--art-tip-background);padding:3px 5px;font-size:12px;line-height:1;display:none;position:absolute;top:-25px;left:0}.art-bottom .art-progress .art-control-progress:hover .art-control-progress-inner{height:100%}.art-bottom .art-progress .art-control-thumbnails{bottom:calc(var(--art-bottom-gap) + 10px);border-radius:var(--art-border-radius);pointer-events:none;background-color:var(--art-widget-background);display:none;position:absolute;left:0;box-shadow:0 1px 3px #0003,0 1px 2px -1px #0003}.art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1)}.art-controls{z-index:10;pointer-events:auto;height:var(--art-control-height);justify-content:space-between;align-items:center;display:flex;position:relative}.art-controls .art-controls-left,.art-controls .art-controls-right{height:100%;display:flex}.art-controls .art-controls-center{flex:1;justify-content:center;align-items:center;height:100%;padding:0 10px;display:none}.art-controls .art-controls-right{justify-content:flex-end}.art-controls .art-control{cursor:pointer;white-space:nowrap;opacity:var(--art-control-opacity);min-height:var(--art-control-height);min-width:var(--art-control-height);transition:opacity var(--art-transition-duration)ease;flex-shrink:0;justify-content:center;align-items:center;display:flex}.art-controls .art-control .art-icon{height:var(--art-control-icon-size);width:var(--art-control-icon-size);transform:scale(var(--art-control-icon-scale));transition:transform var(--art-transition-duration)ease}.art-controls .art-control .art-icon:active{transform:scale(calc(var(--art-control-icon-scale)*.8))}.art-controls .art-control:hover{opacity:1}.art-control-volume{position:relative}.art-control-volume .art-volume-panel{text-align:center;cursor:default;opacity:0;pointer-events:none;left:0;right:0;bottom:var(--art-control-height);width:var(--art-control-height);height:var(--art-volume-height);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;padding:0 5px;font-size:12px;display:flex;position:absolute;transform:translateY(10px)}.art-control-volume .art-volume-panel .art-volume-inner{border-radius:var(--art-border-radius);background-color:var(--art-widget-background);flex-direction:column;align-items:center;gap:10px;width:100%;height:100%;padding:10px 0 12px;display:flex}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider{cursor:pointer;flex:1;justify-content:center;width:100%;display:flex;position:relative}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle{border-radius:var(--art-border-radius);background-color:#ffffff40;justify-content:center;width:2px;display:flex;position:relative;overflow:hidden}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle .art-volume-loaded{z-index:0;background-color:var(--art-theme);width:100%;height:100%;position:absolute;inset:0}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-indicator{width:var(--art-volume-handle-size);height:var(--art-volume-handle-size);margin-top:calc(var(--art-volume-handle-size)/-2);background-color:var(--art-theme);transition:transform var(--art-transition-duration)ease;border-radius:100%;flex-shrink:0;position:absolute;transform:scale(1)}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider:active .art-volume-indicator{transform:scale(.9)}.art-control-volume:hover .art-volume-panel{opacity:1;pointer-events:auto;transform:translateY(0)}.art-video-player .art-notice{z-index:80;padding:var(--art-padding);pointer-events:none;width:100%;height:auto;display:none;position:absolute;inset:0 0 auto}.art-video-player .art-notice .art-notice-inner{border-radius:var(--art-border-radius);background-color:var(--art-tip-background);padding:5px;line-height:1;display:inline-flex}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);min-width:var(--art-contextmenus-min-width);flex-direction:column;padding:5px 0;font-size:12px;display:none;position:absolute}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;border-bottom:1px solid #ffffff1a;padding:10px 15px;display:flex}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 8px}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:var(--art-theme)}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;border-radius:var(--art-border-radius);max-height:var(--art-settings-max-height);left:auto;right:var(--art-padding);bottom:var(--art-control-height);transition:all var(--art-transition-duration)ease;background-color:var(--art-widget-background);flex-direction:column;display:none;position:absolute;overflow:hidden auto}.art-video-player .art-settings .art-setting-panel{flex-direction:column;display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item{cursor:pointer;transition:background-color var(--art-transition-duration)ease;justify-content:space-between;align-items:center;padding:0 5px;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:var(--art-theme)}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{flex-shrink:0;justify-content:center;align-items:center;gap:5px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:var(--art-settings-icon-size);width:var(--art-settings-icon-size);justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{justify-content:center;align-items:center;gap:5px;font-size:12px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{justify-content:center;align-items:center;min-width:32px;height:24px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{appearance:none;background-color:#fff3;outline:none;width:80px;height:3px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:flex}.art-video-player .art-info{left:var(--art-padding);top:var(--art-padding);z-index:100;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);padding:10px;font-size:12px;display:none;position:absolute}.art-video-player .art-info .art-info-panel{flex-direction:column;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item{align-items:center;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-panel .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;user-select:all;width:250px;overflow:hidden}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio]{overflow:hidden}.art-video-player[data-aspect-ratio] .art-video{object-fit:fill;box-sizing:content-box}.art-fullscreen{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3}.art-fullscreen-web{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3;z-index:var(--art-fullscreen-web-index);width:100%;height:100%;position:fixed;inset:0}.art-mini-popup{z-index:9999;border-radius:var(--art-border-radius);cursor:move;user-select:none;background:#000;width:320px;height:180px;transition:opacity .2s;position:fixed;overflow:hidden;box-shadow:0 0 5px #00000080}.art-mini-popup svg{fill:#fff}.art-mini-popup .art-video{pointer-events:none}.art-mini-popup .art-mini-close{z-index:20;cursor:pointer;opacity:0;transition:opacity .2s;position:absolute;top:10px;right:10px}.art-mini-popup .art-mini-state{z-index:30;pointer-events:none;opacity:0;background-color:#00000040;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .2s;display:flex;position:absolute;inset:0}.art-mini-popup .art-mini-state .art-icon{opacity:.75;cursor:pointer;pointer-events:auto;transition:transform .2s;transform:scale(3)}.art-mini-popup .art-mini-state .art-icon:active{transform:scale(2.5)}.art-mini-popup.art-mini-droging{opacity:.9}.art-mini-popup:hover .art-mini-close,.art-mini-popup:hover .art-mini-state{opacity:1}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{height:var(--art-lock-size);width:var(--art-lock-size);top:50%;left:var(--art-padding);background-color:var(--art-tip-background);border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;transform:translateY(-50%)}.art-video-player .art-layer-auto-playback{border-radius:var(--art-border-radius);left:var(--art-padding);bottom:calc(var(--art-control-height) + var(--art-bottom-gap) + 10px);background-color:var(--art-widget-background);align-items:center;gap:10px;padding:10px;line-height:1;display:none;position:absolute}.art-video-player .art-layer-auto-playback .art-auto-playback-close{cursor:pointer;justify-content:center;align-items:center;display:flex}.art-video-player .art-layer-auto-playback .art-auto-playback-close svg{fill:var(--art-theme);width:15px;height:15px}.art-video-player .art-layer-auto-playback .art-auto-playback-jump{color:var(--art-theme);cursor:pointer}.art-video-player.art-lock .art-subtitle{bottom:var(--art-subtitle-bottom)!important}.art-video-player.art-mini-progress-bar .art-bottom,.art-video-player.art-lock .art-bottom{opacity:1;background-image:none;padding:0}.art-video-player.art-mini-progress-bar .art-bottom .art-controls,.art-video-player.art-lock .art-bottom .art-controls,.art-video-player.art-mini-progress-bar .art-bottom .art-progress,.art-video-player.art-lock .art-bottom .art-progress{transform:translateY(calc(var(--art-control-height) + var(--art-bottom-gap) + var(--art-progress-height)/4))}.art-video-player.art-mini-progress-bar .art-bottom .art-progress-indicator,.art-video-player.art-lock .art-bottom .art-progress-indicator{display:none!important}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-control-selector{justify-content:center;display:flex;position:relative}.art-control-selector .art-selector-list{text-align:center;border-radius:var(--art-border-radius);opacity:0;pointer-events:none;bottom:var(--art-control-height);max-height:var(--art-selector-max-height);background-color:var(--art-widget-background);transition:all var(--art-transition-duration)ease;flex-direction:column;align-items:center;display:flex;position:absolute;overflow:hidden auto;transform:translateY(10px)}.art-control-selector .art-selector-list .art-selector-item{flex-shrink:0;justify-content:center;align-items:center;width:100%;padding:10px 15px;line-height:1;display:flex}.art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-control-selector .art-selector-list .art-selector-item:hover,.art-control-selector .art-selector-list .art-selector-item.art-current{color:var(--art-theme)}.art-control-selector:hover .art-selector-list{opacity:1;pointer-events:auto;transform:translateY(0)}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}.art-video-player.art-mobile{--art-bottom-gap:10px;--art-control-height:38px;--art-control-icon-scale:1;--art-state-size:60px;--art-settings-max-height:180px;--art-selector-max-height:180px;--art-indicator-scale:1;--art-control-opacity:1}.art-video-player.art-mobile .art-controls-left{margin-left:calc(var(--art-padding)/-1)}.art-video-player.art-mobile .art-controls-right{margin-right:calc(var(--art-padding)/-1)}'},{}],bAWi2:[function(t,r,s){var i;i=function(){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}var o=Object.prototype.toString,l=function(h){if(h===void 0)return"undefined";if(h===null)return"null";var p=a(h);if(p==="boolean")return"boolean";if(p==="string")return"string";if(p==="number")return"number";if(p==="symbol")return"symbol";if(p==="function")return c(h)==="GeneratorFunction"?"generatorfunction":"function";if(Array.isArray?Array.isArray(h):h instanceof Array)return"array";if(h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h))return"buffer";if(function(m){try{if(typeof m.length=="number"&&typeof m.callee=="function")return!0}catch(g){if(g.message.indexOf("callee")!==-1)return!0}return!1}(h))return"arguments";if(h instanceof Date||typeof h.toDateString=="function"&&typeof h.getDate=="function"&&typeof h.setDate=="function")return"date";if(h instanceof Error||typeof h.message=="string"&&h.constructor&&typeof h.constructor.stackTraceLimit=="number")return"error";if(h instanceof RegExp||typeof h.flags=="string"&&typeof h.ignoreCase=="boolean"&&typeof h.multiline=="boolean"&&typeof h.global=="boolean")return"regexp";switch(c(h)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(typeof h.throw=="function"&&typeof h.return=="function"&&typeof h.next=="function")return"generator";switch(p=o.call(h)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return p.slice(8,-1).toLowerCase().replace(/\s/g,"")};function c(h){return h.constructor?h.constructor.name:null}function u(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:["option"];return d(h,p,m),f(h,p,m),function(g,v,w){var y=l(v),S=l(g);if(y==="object"){if(S!=="object")throw Error("[Type Error]: '".concat(w.join("."),"' require 'object' type, but got '").concat(S,"'"));Object.keys(v).forEach(function(b){var T=g[b],I=v[b],E=w.slice();E.push(b),d(T,I,E),f(T,I,E),u(T,I,E)})}if(y==="array"){if(S!=="array")throw Error("[Type Error]: '".concat(w.join("."),"' require 'array' type, but got '").concat(S,"'"));g.forEach(function(b,T){var I=g[T],E=v[T]||v[0],A=w.slice();A.push(T),d(I,E,A),f(I,E,A),u(I,E,A)})}}(h,p,m),h}function d(h,p,m){if(l(p)==="string"){var g=l(h);if(p[0]==="?"&&(p=p.slice(1)+"|undefined"),!(-1<p.indexOf("|")?p.split("|").map(function(v){return v.toLowerCase().trim()}).filter(Boolean).some(function(v){return g===v}):p.toLowerCase().trim()===g))throw Error("[Type Error]: '".concat(m.join("."),"' require '").concat(p,"' type, but got '").concat(g,"'"))}}function f(h,p,m){if(l(p)==="function"){var g=p(h,l(h),m);if(g!==!0){var v=l(g);throw v==="string"?Error(g):v==="error"?g:Error("[Validator Error]: The scheme for '".concat(m.join("."),"' validator require return true, but got '").concat(g,"'"))}}}return u.kindOf=l,u},r.exports=i()},{}],"66mFZ":[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{on(i,a,o){let l=this.e||(this.e={});return(l[i]||(l[i]=[])).push({fn:a,ctx:o}),this}once(i,a,o){let l=this;function c(...u){l.off(i,c),a.apply(o,u)}return c._=a,this.on(i,c,o)}emit(i,...a){let o=((this.e||(this.e={}))[i]||[]).slice();for(let l=0;l<o.length;l+=1)o[l].fn.apply(o[l].ctx,a);return this}off(i,a){let o=this.e||(this.e={}),l=o[i],c=[];if(l&&a)for(let u=0,d=l.length;u<d;u+=1)l[u].fn!==a&&l[u].fn._!==a&&c.push(l[u]);return c.length?o[i]=c:delete o[i],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(t,r,s){s.interopDefault=function(i){return i&&i.__esModule?i:{default:i}},s.defineInteropFlag=function(i){Object.defineProperty(i,"__esModule",{value:!0})},s.exportAll=function(i,a){return Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:function(){return i[o]}})}),a},s.export=function(i,a,o){Object.defineProperty(i,a,{enumerable:!0,get:o})}},{}],"71aH7":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./dom");i.exportAll(a,s);var o=t("./error");i.exportAll(o,s);var l=t("./subtitle");i.exportAll(l,s);var c=t("./file");i.exportAll(c,s);var u=t("./property");i.exportAll(u,s);var d=t("./time");i.exportAll(d,s);var f=t("./format");i.exportAll(f,s);var h=t("./compatibility");i.exportAll(h,s)},{"./dom":"bSNiV","./error":"hwmZz","./subtitle":"inzwq","./file":"6b7Ip","./property":"5NSdr","./time":"epmNy","./format":"gapRl","./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bSNiV:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"query",()=>o),i.export(s,"queryAll",()=>l),i.export(s,"addClass",()=>c),i.export(s,"removeClass",()=>u),i.export(s,"hasClass",()=>d),i.export(s,"append",()=>f),i.export(s,"remove",()=>h),i.export(s,"setStyle",()=>p),i.export(s,"setStyles",()=>m),i.export(s,"getStyle",()=>g),i.export(s,"sublings",()=>v),i.export(s,"inverseClass",()=>w),i.export(s,"tooltip",()=>y),i.export(s,"isInViewport",()=>S),i.export(s,"includeFromEvent",()=>b),i.export(s,"replaceElement",()=>T),i.export(s,"createElement",()=>I),i.export(s,"getIcon",()=>E),i.export(s,"setStyleText",()=>A),i.export(s,"supportsFlex",()=>L),i.export(s,"getRect",()=>k),i.export(s,"loadImg",()=>R);var a=t("./compatibility");function o(N,P=document){return P.querySelector(N)}function l(N,P=document){return Array.from(P.querySelectorAll(N))}function c(N,P){return N.classList.add(P)}function u(N,P){return N.classList.remove(P)}function d(N,P){return N.classList.contains(P)}function f(N,P){return P instanceof Element?N.appendChild(P):N.insertAdjacentHTML("beforeend",String(P)),N.lastElementChild||N.lastChild}function h(N){return N.parentNode.removeChild(N)}function p(N,P,_){return N.style[P]=_,N}function m(N,P){for(let _ in P)p(N,_,P[_]);return N}function g(N,P,_=!0){let $=window.getComputedStyle(N,null).getPropertyValue(P);return _?parseFloat($):$}function v(N){return Array.from(N.parentElement.children).filter(P=>P!==N)}function w(N,P){v(N).forEach(_=>u(_,P)),c(N,P)}function y(N,P,_="top"){a.isMobile||(N.setAttribute("aria-label",P),c(N,"hint--rounded"),c(N,`hint--${_}`))}function S(N,P=0){let _=N.getBoundingClientRect(),$=window.innerHeight||document.documentElement.clientHeight,H=window.innerWidth||document.documentElement.clientWidth,F=_.top-P<=$&&_.top+_.height+P>=0,O=_.left-P<=H+P&&_.left+_.width+P>=0;return F&&O}function b(N,P){return N.composedPath&&N.composedPath().indexOf(P)>-1}function T(N,P){return P.parentNode.replaceChild(N,P),N}function I(N){return document.createElement(N)}function E(N="",P=""){let _=I("i");return c(_,"art-icon"),c(_,`art-icon-${N}`),f(_,P),_}function A(N,P){let _=document.getElementById(N);_||((_=document.createElement("style")).id=N,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{document.head.appendChild(_)}):(document.head||document.documentElement).appendChild(_)),_.textContent=P}function L(){let N=document.createElement("div");return N.style.display="flex",N.style.display==="flex"}function k(N){return N.getBoundingClientRect()}function R(N,P){return new Promise((_,$)=>{let H=new Image;H.onload=function(){if(P&&P!==1){let F=document.createElement("canvas"),O=F.getContext("2d");F.width=H.width*P,F.height=H.height*P,O.drawImage(H,0,0,F.width,F.height),F.toBlob(M=>{let V=URL.createObjectURL(M),W=new Image;W.onload=function(){_(W)},W.onerror=function(){URL.revokeObjectURL(V),$(Error(`Image load failed: ${N}`))},W.src=V})}else _(H)},H.onerror=function(){$(Error(`Image load failed: ${N}`))},H.src=N})}},{"./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6ZTr6":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"userAgent",()=>a),i.export(s,"isSafari",()=>o),i.export(s,"isWechat",()=>l),i.export(s,"isIE",()=>c),i.export(s,"isAndroid",()=>u),i.export(s,"isIOS",()=>d),i.export(s,"isIOS13",()=>f),i.export(s,"isMobile",()=>h),i.export(s,"isBrowser",()=>p);let a=typeof navigator<"u"?navigator.userAgent:"",o=/^((?!chrome|android).)*safari/i.test(a),l=/MicroMessenger/i.test(a),c=/MSIE|Trident/i.test(a),u=/android/i.test(a),d=/iPad|iPhone|iPod/i.test(a)&&!window.MSStream,f=d||a.includes("Macintosh")&&navigator.maxTouchPoints>=1,h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)||f,p=typeof window<"u"},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hwmZz:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"ArtPlayerError",()=>a),i.export(s,"errorHandle",()=>o);class a extends Error{constructor(c,u){super(c),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u||this.constructor),this.name="ArtPlayerError"}}function o(l,c){if(!l)throw new a(c);return l}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],inzwq:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(c){return`WEBVTT \r
\r
`.concat(c.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(u,d,f)=>{let h=f.slice(0,3);return f.length===1&&(h=f+"00"),f.length===2&&(h=f+"0"),`${d},${h}`}).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function o(c){return URL.createObjectURL(new Blob([c],{type:"text/vtt"}))}function l(c){let u=RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function d(f=""){return f.split(/[:.]/).map((h,p,m)=>{if(p===m.length-1){if(h.length===1)return`.${h}00`;if(h.length===2)return`.${h}0`}else if(h.length===1)return(p===0?"0":":0")+h;return p===0?h:p===m.length-1?`.${h}`:`:${h}`}).join("")}return`WEBVTT

`+c.split(/\r?\n/).map(f=>{let h=f.match(u);return h?{start:d(h[1].trim()),end:d(h[2].trim()),text:h[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(p=>p.trim()).join(`
`)}:null}).filter(f=>f).map((f,h)=>f?h+1+`
${f.start} --> ${f.end}
${f.text}`:"").filter(f=>f.trim()).join(`

`)}i.defineInteropFlag(s),i.export(s,"srtToVtt",()=>a),i.export(s,"vttToBlob",()=>o),i.export(s,"assToVtt",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6b7Ip":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o,l){let c=document.createElement("a");c.style.display="none",c.href=o,c.download=l,document.body.appendChild(c),c.click(),document.body.removeChild(c)}i.defineInteropFlag(s),i.export(s,"getExt",()=>function o(l){return l.includes("?")?o(l.split("?")[0]):l.includes("#")?o(l.split("#")[0]):l.trim().toLowerCase().split(".").pop()}),i.export(s,"download",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5NSdr":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"def",()=>a),i.export(s,"has",()=>l),i.export(s,"get",()=>c),i.export(s,"mergeDeep",()=>function u(...d){let f=h=>h&&typeof h=="object"&&!Array.isArray(h);return d.reduce((h,p)=>(Object.keys(p).forEach(m=>{let g=h[m],v=p[m];Array.isArray(g)&&Array.isArray(v)?h[m]=g.concat(...v):f(g)&&f(v)?h[m]=u(g,v):h[m]=v}),h),{})});let a=Object.defineProperty,{hasOwnProperty:o}=Object.prototype;function l(u,d){return o.call(u,d)}function c(u,d){return Object.getOwnPropertyDescriptor(u,d)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],epmNy:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(c=0){return new Promise(u=>setTimeout(u,c))}function o(c,u){let d;return function(...f){clearTimeout(d),d=setTimeout(()=>(d=null,c.apply(this,f)),u)}}function l(c,u){let d=!1;return function(...f){d||(c.apply(this,f),d=!0,setTimeout(function(){d=!1},u))}}i.defineInteropFlag(s),i.export(s,"sleep",()=>a),i.export(s,"debounce",()=>o),i.export(s,"throttle",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gapRl:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(d,f,h){return Math.max(Math.min(d,Math.max(f,h)),Math.min(f,h))}function o(d){return d.charAt(0).toUpperCase()+d.slice(1)}function l(d){if(!d)return"00:00";let f=Math.floor(d/3600),h=Math.floor((d-3600*f)/60),p=Math.floor(d-3600*f-60*h);return(f>0?[f,h,p]:[h,p]).map(m=>m<10?`0${m}`:String(m)).join(":")}function c(d){return d.replace(/[&<>'"]/g,f=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[f]||f)}function u(d){let f={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},h=RegExp(`(${Object.keys(f).join("|")})`,"g");return d.replace(h,p=>f[p]||p)}i.defineInteropFlag(s),i.export(s,"clamp",()=>a),i.export(s,"capitalize",()=>o),i.export(s,"secondToTime",()=>l),i.export(s,"escape",()=>c),i.export(s,"unescape",()=>u)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],AKEiO:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"ComponentOption",()=>p);var a=t("../utils");let o="array",l="boolean",c="string",u="number",d="object",f="function";function h(m,g,v){return(0,a.errorHandle)(g===c||g===u||m instanceof Element,`${v.join(".")} require '${c}' or 'Element' type`)}let p={html:h,disable:`?${l}`,name:`?${c}`,index:`?${u}`,style:`?${d}`,click:`?${f}`,mounted:`?${f}`,tooltip:`?${c}|${u}`,width:`?${u}`,selector:`?${o}`,onSelect:`?${f}`,switch:`?${l}`,onSwitch:`?${f}`,range:`?${o}`,onRange:`?${f}`,onChange:`?${f}`};s.default={id:c,container:h,url:c,poster:c,type:c,theme:c,lang:c,volume:u,isLive:l,muted:l,autoplay:l,autoSize:l,autoMini:l,loop:l,flip:l,playbackRate:l,aspectRatio:l,screenshot:l,setting:l,hotkey:l,pip:l,mutex:l,backdrop:l,fullscreen:l,fullscreenWeb:l,subtitleOffset:l,miniProgressBar:l,useSSR:l,playsInline:l,lock:l,fastForward:l,autoPlayback:l,autoOrientation:l,airplay:l,proxy:`?${f}`,plugins:[f],layers:[p],contextmenu:[p],settings:[p],controls:[{...p,position:(m,g,v)=>{let w=["top","left","right"];return(0,a.errorHandle)(w.includes(m),`${v.join(".")} only accept ${w.toString()} as parameters`)}}],quality:[{default:`?${l}`,html:c,url:c}],highlight:[{time:u,text:c}],thumbnails:{url:c,number:u,column:u,width:u,height:u,scale:u},subtitle:{url:c,name:c,type:c,style:d,escape:l,encoding:c,onVttLoad:f},moreVideoAttr:d,i18n:d,icons:d,cssVar:d,customType:d}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lyjeQ:[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],X13Zf:[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var i=t("./utils");class a{constructor(l){this.art=l;let{option:c,constructor:u}=l;c.container instanceof Element?this.$container=c.container:(this.$container=(0,i.query)(c.container),(0,i.errorHandle)(this.$container,`No container element found by ${c.container}`)),(0,i.errorHandle)((0,i.supportsFlex)(),"The current browser does not support flex layout");let d=this.$container.tagName.toLowerCase();(0,i.errorHandle)(d==="div",`Unsupported container element type, only support 'div' but got '${d}'`),(0,i.errorHandle)(u.instances.every(f=>f.template.$container!==this.$container),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=l.id,this.init()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"><track default kind="metadata" src=""></track></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">5.2.2</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span>x<span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-contextmenus"></div></div>'}query(l){return(0,i.query)(l,this.$container)}init(){let{option:l}=this.art;if(l.useSSR||(this.$container.innerHTML=a.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),l.proxy){let c=l.proxy.call(this.art,this.art);(0,i.errorHandle)(c instanceof HTMLVideoElement||c instanceof HTMLCanvasElement,"Function 'option.proxy' needs to return 'HTMLVideoElement' or 'HTMLCanvasElement'"),(0,i.replaceElement)(c,this.$video),c.className="art-video",this.$video=c}l.backdrop&&(0,i.addClass)(this.$player,"art-backdrop"),i.isMobile&&(0,i.addClass)(this.$player,"art-mobile")}destroy(l){l?this.$container.innerHTML="":(0,i.addClass)(this.$player,"art-destroy")}}s.default=a},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3jKkj":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("../utils"),o=t("./zh-cn"),l=i.interopDefault(o);s.default=class{constructor(c){this.art=c,this.languages={"zh-cn":l.default},this.language={},this.update(c.option.i18n)}init(){let c=this.art.option.lang.toLowerCase();this.language=this.languages[c]||{}}get(c){return this.language[c]||c}update(c){this.languages=(0,a.mergeDeep)(this.languages,c),this.init()}}},{"../utils":"71aH7","./zh-cn":"5Y91w","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5Y91w":[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);let i={"Video Info":"",Close:"","Video Load Failed":"",Volume:"",Play:"",Pause:"",Rate:"",Mute:"","Video Flip":"",Horizontal:"",Vertical:"",Reconnect:"","Show Setting":"","Hide Setting":"",Screenshot:"","Play Speed":"","Aspect Ratio":"",Default:"",Normal:"",Open:"","Switch Video":"","Switch Subtitle":"",Fullscreen:"","Exit Fullscreen":"","Web Fullscreen":"","Exit Web Fullscreen":"","Mini Player":"","PIP Mode":"","Exit PIP Mode":"","PIP Not Supported":"","Fullscreen Not Supported":"","Subtitle Offset":"","Last Seen":"","Jump Play":"",AirPlay:"","AirPlay Not Available":""};s.default=i,typeof window<"u"&&(window["artplayer-i18n-zh-cn"]=i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],a90nx:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./urlMix"),o=i.interopDefault(a),l=t("./attrMix"),c=i.interopDefault(l),u=t("./playMix"),d=i.interopDefault(u),f=t("./pauseMix"),h=i.interopDefault(f),p=t("./toggleMix"),m=i.interopDefault(p),g=t("./seekMix"),v=i.interopDefault(g),w=t("./volumeMix"),y=i.interopDefault(w),S=t("./currentTimeMix"),b=i.interopDefault(S),T=t("./durationMix"),I=i.interopDefault(T),E=t("./switchMix"),A=i.interopDefault(E),L=t("./playbackRateMix"),k=i.interopDefault(L),R=t("./aspectRatioMix"),N=i.interopDefault(R),P=t("./screenshotMix"),_=i.interopDefault(P),$=t("./fullscreenMix"),H=i.interopDefault($),F=t("./fullscreenWebMix"),O=i.interopDefault(F),M=t("./pipMix"),V=i.interopDefault(M),W=t("./loadedMix"),J=i.interopDefault(W),re=t("./playedMix"),pe=i.interopDefault(re),Q=t("./playingMix"),ae=i.interopDefault(Q),Ie=t("./autoSizeMix"),we=i.interopDefault(Ie),Yt=t("./rectMix"),qt=i.interopDefault(Yt),Xt=t("./flipMix"),le=i.interopDefault(Xt),ge=t("./miniMix"),Ce=i.interopDefault(ge),xe=t("./posterMix"),ee=i.interopDefault(xe),On=t("./autoHeightMix"),ze=i.interopDefault(On),Qt=t("./cssVarMix"),Mn=i.interopDefault(Qt),Jt=t("./themeMix"),Mt=i.interopDefault(Jt),ir=t("./typeMix"),vs=i.interopDefault(ir),Ur=t("./stateMix"),ar=i.interopDefault(Ur),_a=t("./subtitleOffsetMix"),cb=i.interopDefault(_a),ub=t("./airplayMix"),db=i.interopDefault(ub),fb=t("./qualityMix"),hb=i.interopDefault(fb),pb=t("./thumbnailsMix"),mb=i.interopDefault(pb),gb=t("./optionInit"),xb=i.interopDefault(gb),yb=t("./eventInit"),vb=i.interopDefault(yb);s.default=class{constructor(me){(0,o.default)(me),(0,c.default)(me),(0,d.default)(me),(0,h.default)(me),(0,m.default)(me),(0,v.default)(me),(0,y.default)(me),(0,b.default)(me),(0,I.default)(me),(0,A.default)(me),(0,k.default)(me),(0,N.default)(me),(0,_.default)(me),(0,H.default)(me),(0,O.default)(me),(0,V.default)(me),(0,J.default)(me),(0,pe.default)(me),(0,ae.default)(me),(0,we.default)(me),(0,qt.default)(me),(0,le.default)(me),(0,Ce.default)(me),(0,ee.default)(me),(0,ze.default)(me),(0,Mn.default)(me),(0,Mt.default)(me),(0,vs.default)(me),(0,ar.default)(me),(0,cb.default)(me),(0,db.default)(me),(0,hb.default)(me),(0,mb.default)(me),(0,vb.default)(me),(0,xb.default)(me)}}},{"./urlMix":"kQoac","./attrMix":"deCma","./playMix":"fOJuP","./pauseMix":"fzHAy","./toggleMix":"cBHxQ","./seekMix":"koAPr","./volumeMix":"6eyuR","./currentTimeMix":"faaWv","./durationMix":"5y91K","./switchMix":"iceD8","./playbackRateMix":"keKwh","./aspectRatioMix":"jihET","./screenshotMix":"36kPY","./fullscreenMix":"2GYOJ","./fullscreenWebMix":"5aYAP","./pipMix":"7EnIB","./loadedMix":"3N9mP","./playedMix":"et96R","./playingMix":"9DzzM","./autoSizeMix":"i1LDY","./rectMix":"IqARI","./flipMix":"7E7Vs","./miniMix":"gpugx","./posterMix":"1SuFS","./autoHeightMix":"8x4te","./cssVarMix":"1CaTA","./themeMix":"2FqhO","./typeMix":"1fQQs","./stateMix":"iBOQW","./subtitleOffsetMix":"6vlBV","./airplayMix":"eftqT","./qualityMix":"5SdyX","./thumbnailsMix":"4HcqV","./optionInit":"fCWZK","./eventInit":"f8Lv3","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kQoac:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{option:c,template:{$video:u}}=l;(0,a.def)(l,"url",{get:()=>u.src,async set(d){if(d){let f=l.url,h=c.type||(0,a.getExt)(d),p=c.customType[h];h&&p?(await(0,a.sleep)(),l.loading.show=!0,p.call(l,u,d,l)):(URL.revokeObjectURL(f),u.src=d),f!==l.url&&(l.option.url=d,l.isReady&&f&&l.once("video:canplay",()=>{l.emit("restart",d)}))}else await(0,a.sleep)(),l.loading.show=!0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],deCma:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$video:c}}=l;(0,a.def)(l,"attr",{value(u,d){if(d===void 0)return c[u];c[u]=d}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fOJuP:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{i18n:c,notice:u,option:d,constructor:{instances:f},template:{$video:h}}=l;(0,a.def)(l,"play",{value:async function(){let p=await h.play();if(u.show=c.get("Play"),l.emit("play"),d.mutex)for(let m=0;m<f.length;m++){let g=f[m];g!==l&&g.pause()}return p}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fzHAy:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$video:c},i18n:u,notice:d}=l;(0,a.def)(l,"pause",{value(){let f=c.pause();return d.show=u.get("Pause"),l.emit("pause"),f}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cBHxQ:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"toggle",{value:()=>l.playing?l.pause():l.play()})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],koAPr:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{notice:c}=l;(0,a.def)(l,"seek",{set(u){l.currentTime=u,l.emit("seek",l.currentTime),l.duration&&(c.show=`${(0,a.secondToTime)(l.currentTime)} / ${(0,a.secondToTime)(l.duration)}`)}}),(0,a.def)(l,"forward",{set(u){l.seek=l.currentTime+u}}),(0,a.def)(l,"backward",{set(u){l.seek=l.currentTime-u}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6eyuR":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$video:c},i18n:u,notice:d,storage:f}=l;(0,a.def)(l,"volume",{get:()=>c.volume||0,set:h=>{c.volume=(0,a.clamp)(h,0,1),d.show=`${u.get("Volume")}: ${parseInt(100*c.volume,10)}`,c.volume!==0&&f.set("volume",c.volume)}}),(0,a.def)(l,"muted",{get:()=>c.muted,set:h=>{c.muted=h,l.emit("muted",h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],faaWv:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{$video:c}=l.template;(0,a.def)(l,"currentTime",{get:()=>c.currentTime||0,set:u=>{Number.isNaN(u=parseFloat(u))||(c.currentTime=(0,a.clamp)(u,0,l.duration))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5y91K":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"duration",{get:()=>{let{duration:c}=l.template.$video;return c===1/0?0:c||0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iceD8:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){function c(u,d){return new Promise((f,h)=>{if(u===l.url)return;let{playing:p,aspectRatio:m,playbackRate:g}=l;l.pause(),l.url=u,l.notice.show="",l.once("video:error",h),l.once("video:loadedmetadata",()=>{l.currentTime=d}),l.once("video:canplay",async()=>{l.playbackRate=g,l.aspectRatio=m,p&&await l.play(),l.notice.show="",f()})})}(0,a.def)(l,"switchQuality",{value:u=>c(u,l.currentTime)}),(0,a.def)(l,"switchUrl",{value:u=>c(u,0)}),(0,a.def)(l,"switch",{set:l.switchUrl})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],keKwh:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$video:c},i18n:u,notice:d}=l;(0,a.def)(l,"playbackRate",{get:()=>c.playbackRate,set(f){f?f!==c.playbackRate&&(c.playbackRate=f,d.show=`${u.get("Rate")}: ${f===1?u.get("Normal"):`${f}x`}`):l.playbackRate=1}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jihET:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{i18n:c,notice:u,template:{$video:d,$player:f}}=l;(0,a.def)(l,"aspectRatio",{get:()=>f.dataset.aspectRatio||"default",set(h){if(h||(h="default"),h==="default")(0,a.setStyle)(d,"width",null),(0,a.setStyle)(d,"height",null),(0,a.setStyle)(d,"margin",null),delete f.dataset.aspectRatio;else{let p=h.split(":").map(Number),{clientWidth:m,clientHeight:g}=f,v=p[0]/p[1];m/g>v?((0,a.setStyle)(d,"width",`${v*g}px`),(0,a.setStyle)(d,"height","100%"),(0,a.setStyle)(d,"margin","0 auto")):((0,a.setStyle)(d,"width","100%"),(0,a.setStyle)(d,"height",`${m/v}px`),(0,a.setStyle)(d,"margin","auto 0")),f.dataset.aspectRatio=h}u.show=`${c.get("Aspect Ratio")}: ${h==="default"?c.get("Default"):h}`,l.emit("aspectRatio",h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"36kPY":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{notice:c,template:{$video:u}}=l,d=(0,a.createElement)("canvas");(0,a.def)(l,"getDataURL",{value:()=>new Promise((f,h)=>{try{d.width=u.videoWidth,d.height=u.videoHeight,d.getContext("2d").drawImage(u,0,0),f(d.toDataURL("image/png"))}catch(p){c.show=p,h(p)}})}),(0,a.def)(l,"getBlobUrl",{value:()=>new Promise((f,h)=>{try{d.width=u.videoWidth,d.height=u.videoHeight,d.getContext("2d").drawImage(u,0,0),d.toBlob(p=>{f(URL.createObjectURL(p))})}catch(p){c.show=p,h(p)}})}),(0,a.def)(l,"screenshot",{value:async f=>{let h=await l.getDataURL(),p=f||`artplayer_${(0,a.secondToTime)(u.currentTime)}`;return(0,a.download)(h,`${p}.png`),l.emit("screenshot",h),h}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2GYOJ":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>c);var a=t("../libs/screenfull"),o=i.interopDefault(a),l=t("../utils");function c(u){let{i18n:d,notice:f,template:{$video:h,$player:p}}=u,m=v=>{o.default.on("change",()=>{v.emit("fullscreen",o.default.isFullscreen),o.default.isFullscreen?(v.state="fullscreen",(0,l.addClass)(p,"art-fullscreen")):(0,l.removeClass)(p,"art-fullscreen"),v.emit("resize")}),o.default.on("error",w=>{v.emit("fullscreenError",w)}),(0,l.def)(v,"fullscreen",{get:()=>o.default.isFullscreen,async set(w){w?await o.default.request(p):await o.default.exit()}})},g=v=>{v.proxy(document,"webkitfullscreenchange",()=>{v.emit("fullscreen",v.fullscreen),v.emit("resize")}),(0,l.def)(v,"fullscreen",{get:()=>document.fullscreenElement===h,set(w){w?(v.state="fullscreen",h.webkitEnterFullscreen()):h.webkitExitFullscreen()}})};u.once("video:loadedmetadata",()=>{o.default.isEnabled?m(u):h.webkitSupportsFullscreen?g(u):(0,l.def)(u,"fullscreen",{get:()=>!1,set(){f.show=d.get("Fullscreen Not Supported")}}),(0,l.def)(u,"fullscreen",(0,l.get)(u,"fullscreen"))})}},{"../libs/screenfull":"8v40z","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8v40z":[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);let i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=(()=>{if(typeof document>"u")return!1;let c=i[0],u={};for(let d of i)if(d[1]in document){for(let[f,h]of d.entries())u[c[f]]=h;return u}return!1})(),o={change:a.fullscreenchange,error:a.fullscreenerror},l={request:(c=document.documentElement,u)=>new Promise((d,f)=>{let h=()=>{l.off("change",h),d()};l.on("change",h);let p=c[a.requestFullscreen](u);p instanceof Promise&&p.then(h).catch(f)}),exit:()=>new Promise((c,u)=>{if(!l.isFullscreen){c();return}let d=()=>{l.off("change",d),c()};l.on("change",d);let f=document[a.exitFullscreen]();f instanceof Promise&&f.then(d).catch(u)}),toggle:(c,u)=>l.isFullscreen?l.exit():l.request(c,u),onchange(c){l.on("change",c)},onerror(c){l.on("error",c)},on(c,u){let d=o[c];d&&document.addEventListener(d,u,!1)},off(c,u){let d=o[c];d&&document.removeEventListener(d,u,!1)},raw:a};Object.defineProperties(l,{isFullscreen:{get:()=>!!document[a.fullscreenElement]},element:{enumerable:!0,get:()=>document[a.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>!!document[a.fullscreenEnabled]}}),a||(l={isEnabled:!1}),s.default=l},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aYAP":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{constructor:c,template:{$container:u,$player:d}}=l,f="";(0,a.def)(l,"fullscreenWeb",{get:()=>(0,a.hasClass)(d,"art-fullscreen-web"),set(h){h?(f=d.style.cssText,c.FULLSCREEN_WEB_IN_BODY&&(0,a.append)(document.body,d),l.state="fullscreenWeb",(0,a.setStyle)(d,"width","100%"),(0,a.setStyle)(d,"height","100%"),(0,a.addClass)(d,"art-fullscreen-web"),l.emit("fullscreenWeb",!0)):(c.FULLSCREEN_WEB_IN_BODY&&(0,a.append)(u,d),f&&(d.style.cssText=f,f=""),(0,a.removeClass)(d,"art-fullscreen-web"),l.emit("fullscreenWeb",!1)),l.emit("resize")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7EnIB":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{i18n:c,notice:u,template:{$video:d}}=l;document.pictureInPictureEnabled?function(f){let{template:{$video:h},proxy:p,notice:m}=f;h.disablePictureInPicture=!1,(0,a.def)(f,"pip",{get:()=>document.pictureInPictureElement,set(g){g?(f.state="pip",h.requestPictureInPicture().catch(v=>{throw m.show=v,v})):document.exitPictureInPicture().catch(v=>{throw m.show=v,v})}}),p(h,"enterpictureinpicture",()=>{f.emit("pip",!0)}),p(h,"leavepictureinpicture",()=>{f.emit("pip",!1)})}(l):d.webkitSupportsPresentationMode?function(f){let{$video:h}=f.template;h.webkitSetPresentationMode("inline"),(0,a.def)(f,"pip",{get:()=>h.webkitPresentationMode==="picture-in-picture",set(p){p?(f.state="pip",h.webkitSetPresentationMode("picture-in-picture"),f.emit("pip",!0)):(h.webkitSetPresentationMode("inline"),f.emit("pip",!1))}})}(l):(0,a.def)(l,"pip",{get:()=>!1,set(){u.show=c.get("PIP Not Supported")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3N9mP":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{$video:c}=l.template;(0,a.def)(l,"loaded",{get:()=>l.loadedTime/c.duration}),(0,a.def)(l,"loadedTime",{get:()=>c.buffered.length?c.buffered.end(c.buffered.length-1):0})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],et96R:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"played",{get:()=>l.currentTime/l.duration})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9DzzM":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{$video:c}=l.template;(0,a.def)(l,"playing",{get:()=>typeof c.playing=="boolean"?c.playing:c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],i1LDY:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{$container:c,$player:u,$video:d}=l.template;(0,a.def)(l,"autoSize",{value(){let{videoWidth:f,videoHeight:h}=d,{width:p,height:m}=(0,a.getRect)(c),g=f/h;p/m>g?((0,a.setStyle)(u,"width",`${m*g/p*100}%`),(0,a.setStyle)(u,"height","100%")):((0,a.setStyle)(u,"width","100%"),(0,a.setStyle)(u,"height",`${p/g/m*100}%`)),l.emit("autoSize",{width:l.width,height:l.height})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],IqARI:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"rect",{get:()=>(0,a.getRect)(l.template.$player)});let c=["bottom","height","left","right","top","width"];for(let u=0;u<c.length;u++){let d=c[u];(0,a.def)(l,d,{get:()=>l.rect[d]})}(0,a.def)(l,"x",{get:()=>l.left+window.pageXOffset}),(0,a.def)(l,"y",{get:()=>l.top+window.pageYOffset})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7E7Vs":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$player:c},i18n:u,notice:d}=l;(0,a.def)(l,"flip",{get:()=>c.dataset.flip||"normal",set(f){f||(f="normal"),f==="normal"?delete c.dataset.flip:c.dataset.flip=f,d.show=`${u.get("Video Flip")}: ${u.get((0,a.capitalize)(f))}`,l.emit("flip",f)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gpugx:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{icons:c,proxy:u,storage:d,template:{$player:f,$video:h}}=l,p=!1,m=0,g=0;function v(){let{$mini:S}=l.template;S&&((0,a.removeClass)(f,"art-mini"),(0,a.setStyle)(S,"display","none"),f.prepend(h),l.emit("mini",!1))}function w(S,b){l.playing?((0,a.setStyle)(S,"display","none"),(0,a.setStyle)(b,"display","flex")):((0,a.setStyle)(S,"display","flex"),(0,a.setStyle)(b,"display","none"))}function y(){let{$mini:S}=l.template,b=(0,a.getRect)(S),T=window.innerHeight-b.height-50,I=window.innerWidth-b.width-50;d.set("top",T),d.set("left",I),(0,a.setStyle)(S,"top",`${T}px`),(0,a.setStyle)(S,"left",`${I}px`)}(0,a.def)(l,"mini",{get:()=>(0,a.hasClass)(f,"art-mini"),set(S){if(S){l.state="mini",(0,a.addClass)(f,"art-mini");let b=function(){let{$mini:E}=l.template;if(E)return(0,a.append)(E,h),(0,a.setStyle)(E,"display","flex");{let A=(0,a.createElement)("div");(0,a.addClass)(A,"art-mini-popup"),(0,a.append)(document.body,A),l.template.$mini=A,(0,a.append)(A,h);let L=(0,a.append)(A,'<div class="art-mini-close"></div>');(0,a.append)(L,c.close),u(L,"click",v);let k=(0,a.append)(A,'<div class="art-mini-state"></div>'),R=(0,a.append)(k,c.play),N=(0,a.append)(k,c.pause);return u(R,"click",()=>l.play()),u(N,"click",()=>l.pause()),w(R,N),l.on("video:playing",()=>w(R,N)),l.on("video:pause",()=>w(R,N)),l.on("video:timeupdate",()=>w(R,N)),u(A,"mousedown",P=>{p=P.button===0,m=P.pageX,g=P.pageY}),l.on("document:mousemove",P=>{if(p){(0,a.addClass)(A,"art-mini-droging");let _=P.pageX-m,$=P.pageY-g;(0,a.setStyle)(A,"transform",`translate(${_}px, ${$}px)`)}}),l.on("document:mouseup",()=>{if(p){p=!1,(0,a.removeClass)(A,"art-mini-droging");let P=(0,a.getRect)(A);d.set("left",P.left),d.set("top",P.top),(0,a.setStyle)(A,"left",`${P.left}px`),(0,a.setStyle)(A,"top",`${P.top}px`),(0,a.setStyle)(A,"transform",null)}}),A}}(),T=d.get("top"),I=d.get("left");T&&I?((0,a.setStyle)(b,"top",`${T}px`),(0,a.setStyle)(b,"left",`${I}px`),(0,a.isInViewport)(b)||y()):y(),l.emit("mini",!0)}else v()}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1SuFS":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$poster:c}}=l;(0,a.def)(l,"poster",{get:()=>{try{return c.style.backgroundImage.match(/"(.*)"/)[1]}catch{return""}},set(u){(0,a.setStyle)(c,"backgroundImage",`url(${u})`)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8x4te":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{template:{$container:c,$video:u}}=l;(0,a.def)(l,"autoHeight",{value(){let{clientWidth:d}=c,{videoHeight:f,videoWidth:h}=u,p=d/h*f;(0,a.setStyle)(c,"height",p+"px"),l.emit("autoHeight",p)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1CaTA":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{$player:c}=l.template;(0,a.def)(l,"cssVar",{value:(u,d)=>d?c.style.setProperty(u,d):getComputedStyle(c).getPropertyValue(u)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2FqhO":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"theme",{get:()=>l.cssVar("--art-theme"),set(c){l.cssVar("--art-theme",c)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1fQQs":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"type",{get:()=>l.option.type,set(c){l.option.type=c}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iBOQW:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let c=["mini","pip","fullscreen","fullscreenWeb"];(0,a.def)(l,"state",{get:()=>c.find(u=>l[u])||"standard",set(u){for(let d=0;d<c.length;d++){let f=c[d];f!==u&&l[f]&&(l[f]=!1)}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6vlBV":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{notice:c,i18n:u,template:d}=l;(0,a.def)(l,"subtitleOffset",{get:()=>{var f;return((f=d.$track)==null?void 0:f.offset)||0},set(f){let{cues:h}=l.subtitle;if(!d.$track||h.length===0)return;let p=(0,a.clamp)(f,-10,10);d.$track.offset=p;for(let m=0;m<h.length;m++){let g=h[m];g.originalStartTime=g.originalStartTime??g.startTime,g.originalEndTime=g.originalEndTime??g.endTime,g.startTime=(0,a.clamp)(g.originalStartTime+p,0,l.duration),g.endTime=(0,a.clamp)(g.originalEndTime+p,0,l.duration)}l.subtitle.update(),c.show=`${u.get("Subtitle Offset")}: ${f}s`,l.emit("subtitleOffset",f)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eftqT:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{i18n:c,notice:u,proxy:d,template:{$video:f}}=l,h=!0;window.WebKitPlaybackTargetAvailabilityEvent&&f.webkitShowPlaybackTargetPicker?d(f,"webkitplaybacktargetavailabilitychanged",p=>{switch(p.availability){case"available":h=!0;break;case"not-available":h=!1}}):h=!1,(0,a.def)(l,"airplay",{value(){h?(f.webkitShowPlaybackTargetPicker(),l.emit("airplay")):u.show=c.get("AirPlay Not Available")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5SdyX":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){(0,a.def)(l,"quality",{set(c){let{controls:u,notice:d,i18n:f}=l,h=c.find(p=>p.default)||c[0];u.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:(h==null?void 0:h.html)||"",selector:c,onSelect:async p=>(await l.switchQuality(p.url),d.show=`${f.get("Switch Video")}: ${p.html}`,p.html)})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4HcqV":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{events:c,option:u,template:{$progress:d,$video:f}}=l,h=null,p=null,m=!1,g=!1,v=!1;c.hover(d,()=>{v=!0},()=>{v=!1}),l.on("setBar",async(w,y,S)=>{var A;let b=(A=l.controls)==null?void 0:A.thumbnails,{url:T,scale:I}=u.thumbnails;if(!b||!T)return;let E=w==="played"&&S&&a.isMobile;if(w==="hover"||E){if(m||(m=!0,p=await(0,a.loadImg)(T,I),g=!0),!g||!v)return;let L=d.clientWidth*y;(0,a.setStyle)(b,"display","flex"),L>0&&L<d.clientWidth?function(k){var W;let R=(W=l.controls)==null?void 0:W.thumbnails;if(!R)return;let{number:N,column:P,width:_,height:$,scale:H}=u.thumbnails,F=_*H||p.naturalWidth/P,O=$*H||F/(f.videoWidth/f.videoHeight),M=Math.floor(k/(d.clientWidth/N)),V=Math.ceil(M/P)-1;(0,a.setStyle)(R,"backgroundImage",`url(${p.src})`),(0,a.setStyle)(R,"height",`${O}px`),(0,a.setStyle)(R,"width",`${F}px`),(0,a.setStyle)(R,"backgroundPosition",`-${(M%P||P-1)*F}px -${V*O}px`),k<=F/2?(0,a.setStyle)(R,"left",0):k>d.clientWidth-F/2?(0,a.setStyle)(R,"left",`${d.clientWidth-F}px`):(0,a.setStyle)(R,"left",`${k-F/2}px`)}(L):a.isMobile||(0,a.setStyle)(b,"display","none"),E&&(clearTimeout(h),h=setTimeout(()=>{(0,a.setStyle)(b,"display","none")},500))}}),(0,a.def)(l,"thumbnails",{get:()=>l.option.thumbnails,set(w){w.url&&!l.option.isLive&&(l.option.thumbnails=w,clearTimeout(h),h=null,p=null,m=!1,g=!1)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fCWZK:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{option:c,storage:u,template:{$video:d,$poster:f}}=l;for(let p in c.moreVideoAttr)l.attr(p,c.moreVideoAttr[p]);c.muted&&(l.muted=c.muted),c.volume&&(d.volume=(0,a.clamp)(c.volume,0,1));let h=u.get("volume");for(let p in typeof h=="number"&&(d.volume=(0,a.clamp)(h,0,1)),c.poster&&(0,a.setStyle)(f,"backgroundImage",`url(${c.poster})`),c.autoplay&&(d.autoplay=c.autoplay),c.playsInline&&(d.playsInline=!0,d["webkit-playsinline"]=!0),c.theme&&(c.cssVar["--art-theme"]=c.theme),c.cssVar)l.cssVar(p,c.cssVar[p]);l.url=c.url}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f8Lv3:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>c);var a=t("../config"),o=i.interopDefault(a),l=t("../utils");function c(u){let{i18n:d,notice:f,option:h,constructor:p,proxy:m,template:{$player:g,$video:v,$poster:w}}=u,y=0;for(let S=0;S<o.default.events.length;S++)m(v,o.default.events[S],b=>{u.emit(`video:${b.type}`,b)});u.on("video:canplay",()=>{y=0,u.loading.show=!1}),u.once("video:canplay",()=>{u.loading.show=!1,u.controls.show=!0,u.mask.show=!0,u.isReady=!0,u.emit("ready")}),u.on("video:ended",()=>{h.loop?(u.seek=0,u.play(),u.controls.show=!1,u.mask.show=!1):(u.controls.show=!0,u.mask.show=!0)}),u.on("video:error",async S=>{y<p.RECONNECT_TIME_MAX?(await(0,l.sleep)(p.RECONNECT_SLEEP_TIME),y+=1,u.url=h.url,f.show=`${d.get("Reconnect")}: ${y}`,u.emit("error",S,y)):(u.mask.show=!0,u.loading.show=!1,u.controls.show=!0,(0,l.addClass)(g,"art-error"),await(0,l.sleep)(p.RECONNECT_SLEEP_TIME),f.show=d.get("Video Load Failed"))}),u.on("video:loadedmetadata",()=>{u.emit("resize"),l.isMobile&&(u.loading.show=!1,u.controls.show=!0,u.mask.show=!0)}),u.on("video:loadstart",()=>{u.loading.show=!0,u.mask.show=!1,u.controls.show=!0}),u.on("video:pause",()=>{u.controls.show=!0,u.mask.show=!0}),u.on("video:play",()=>{u.mask.show=!1,(0,l.setStyle)(w,"display","none")}),u.on("video:playing",()=>{u.mask.show=!1}),u.on("video:progress",()=>{u.playing&&(u.loading.show=!1)}),u.on("video:seeked",()=>{u.loading.show=!1,u.mask.show=!0}),u.on("video:seeking",()=>{u.loading.show=!0,u.mask.show=!1}),u.on("video:timeupdate",()=>{u.mask.show=!1}),u.on("video:waiting",()=>{u.loading.show=!0,u.mask.show=!1})}},{"../config":"lyjeQ","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8Z0Uf":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("../utils/component"),o=i.interopDefault(a),l=t("./fullscreen"),c=i.interopDefault(l),u=t("./fullscreenWeb"),d=i.interopDefault(u),f=t("./pip"),h=i.interopDefault(f),p=t("./playAndPause"),m=i.interopDefault(p),g=t("./progress"),v=i.interopDefault(g),w=t("./time"),y=i.interopDefault(w),S=t("./volume"),b=i.interopDefault(S),T=t("./setting"),I=i.interopDefault(T),E=t("./screenshot"),A=i.interopDefault(E),L=t("./airplay"),k=i.interopDefault(L),R=t("../utils");class N extends o.default{constructor(_){super(_),this.isHover=!1,this.name="control",this.timer=Date.now();let{constructor:$}=_,{$player:H,$bottom:F}=this.art.template;_.on("mousemove",()=>{R.isMobile||(this.show=!0)}),_.on("click",()=>{R.isMobile?this.toggle():this.show=!0}),_.on("document:mousemove",O=>{this.isHover=(0,R.includeFromEvent)(O,F)}),_.on("video:timeupdate",()=>{!_.setting.show&&!this.isHover&&!_.isInput&&_.playing&&this.show&&Date.now()-this.timer>=$.CONTROL_HIDE_TIME&&(this.show=!1)}),_.on("control",O=>{O?((0,R.removeClass)(H,"art-hide-cursor"),(0,R.addClass)(H,"art-hover"),this.timer=Date.now()):((0,R.addClass)(H,"art-hide-cursor"),(0,R.removeClass)(H,"art-hover"))}),this.init()}init(){let{option:_}=this.art;_.isLive||this.add((0,v.default)({name:"progress",position:"top",index:10})),this.add({name:"thumbnails",position:"top",index:20}),this.add((0,m.default)({name:"playAndPause",position:"left",index:10})),this.add((0,b.default)({name:"volume",position:"left",index:20})),_.isLive||this.add((0,y.default)({name:"time",position:"left",index:30})),_.quality.length&&(0,R.sleep)().then(()=>{this.art.quality=_.quality}),_.screenshot&&!R.isMobile&&this.add((0,A.default)({name:"screenshot",position:"right",index:20})),_.setting&&this.add((0,I.default)({name:"setting",position:"right",index:30})),_.pip&&this.add((0,h.default)({name:"pip",position:"right",index:40})),_.airplay&&window.WebKitPlaybackTargetAvailabilityEvent&&this.add((0,k.default)({name:"airplay",position:"right",index:50})),_.fullscreenWeb&&this.add((0,d.default)({name:"fullscreenWeb",position:"right",index:60})),_.fullscreen&&this.add((0,c.default)({name:"fullscreen",position:"right",index:70}));for(let $=0;$<_.controls.length;$++)this.add(_.controls[$])}add(_){let $=typeof _=="function"?_(this.art):_,{$progress:H,$controlsLeft:F,$controlsRight:O}=this.art.template;switch($.position){case"top":this.$parent=H;break;case"left":this.$parent=F;break;case"right":this.$parent=O;break;default:(0,R.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add($)}check(_){_.$control_value.innerHTML=_.html;for(let $=0;$<_.$control_option.length;$++){let H=_.$control_option[$];H.default=H===_,H.default&&(0,R.inverseClass)(H.$control_item,"art-current")}}selector(_,$,H){let{proxy:F}=this.art.events;(0,R.addClass)($,"art-control-selector");let O=(0,R.createElement)("div");(0,R.addClass)(O,"art-selector-value"),(0,R.append)(O,_.html),$.innerText="",(0,R.append)($,O);let M=(0,R.createElement)("div");(0,R.addClass)(M,"art-selector-list"),(0,R.append)($,M);for(let W=0;W<_.selector.length;W++){let J=_.selector[W],re=(0,R.createElement)("div");(0,R.addClass)(re,"art-selector-item"),J.default&&(0,R.addClass)(re,"art-current"),re.dataset.index=W,re.dataset.value=J.value,re.innerHTML=J.html,(0,R.append)(M,re),(0,R.def)(J,"$control_option",{get:()=>_.selector}),(0,R.def)(J,"$control_item",{get:()=>re}),(0,R.def)(J,"$control_value",{get:()=>O})}let V=F(M,"click",async W=>{let J=W.composedPath()||[],re=_.selector.find(pe=>pe.$control_item===J.find(Q=>pe.$control_item===Q));this.check(re),_.onSelect&&(O.innerHTML=await _.onSelect.call(this.art,re,re.$control_item,W))});H.push(V)}}s.default=N},{"../utils/component":"18nVI","./fullscreen":"c61Lj","./fullscreenWeb":"03jeB","./pip":"u8l8e","./playAndPause":"ebXtb","./progress":"bgoVP","./time":"ikc2j","./volume":"b8NFx","./setting":"03o9l","./screenshot":"4KCF5","./airplay":"4IS2d","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"18nVI":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./dom"),o=t("./error"),l=t("option-validator"),c=i.interopDefault(l),u=t("../scheme");s.default=class{constructor(d){this.id=0,this.art=d,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return(0,a.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(d){let{$player:f}=this.art.template,h=`art-${this.name}-show`;d?(0,a.addClass)(f,h):(0,a.removeClass)(f,h),this.art.emit(this.name,d)}toggle(){this.show=!this.show}add(d){let f=typeof d=="function"?d(this.art):d;if(f.html=f.html||"",(0,c.default)(f,u.ComponentOption),!this.$parent||!this.name||f.disable)return;let h=f.name||`${this.name}${this.id}`,p=this.cache.get(h);(0,o.errorHandle)(!p,`Can't add an existing [${h}] to the [${this.name}]`),this.id+=1;let m=(0,a.createElement)("div");(0,a.addClass)(m,`art-${this.name}`),(0,a.addClass)(m,`art-${this.name}-${h}`);let g=Array.from(this.$parent.children);m.dataset.index=f.index||this.id;let v=g.find(y=>Number(y.dataset.index)>=Number(m.dataset.index));v?v.insertAdjacentElement("beforebegin",m):(0,a.append)(this.$parent,m),f.html&&(0,a.append)(m,f.html),f.style&&(0,a.setStyles)(m,f.style),f.tooltip&&(0,a.tooltip)(m,f.tooltip);let w=[];if(f.click){let y=this.art.events.proxy(m,"click",S=>{S.preventDefault(),f.click.call(this.art,this,S)});w.push(y)}return f.selector&&["left","right"].includes(f.position)&&this.selector(f,m,w),this[h]=m,this.cache.set(h,{$ref:m,events:w,option:f}),f.mounted&&f.mounted.call(this.art,m),m}remove(d){let f=this.cache.get(d);(0,o.errorHandle)(f,`Can't find [${d}] from the [${this.name}]`),f.option.beforeUnmount&&f.option.beforeUnmount.call(this.art,f.$ref);for(let h=0;h<f.events.length;h++)this.art.events.remove(f.events[h]);this.cache.delete(d),delete this[d],(0,a.remove)(f.$ref)}update(d){let f=this.cache.get(d.name);return f&&(d=Object.assign(f.option,d),this.remove(d.name)),this.add(d)}}},{"./dom":"bSNiV","./error":"hwmZz","option-validator":"bAWi2","../scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],c61Lj:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,tooltip:c.i18n.get("Fullscreen"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c,p=(0,a.append)(u,f.fullscreenOn),m=(0,a.append)(u,f.fullscreenOff);(0,a.setStyle)(m,"display","none"),d(u,"click",()=>{c.fullscreen=!c.fullscreen}),c.on("fullscreen",g=>{g?((0,a.tooltip)(u,h.get("Exit Fullscreen")),(0,a.setStyle)(p,"display","none"),(0,a.setStyle)(m,"display","inline-flex")):((0,a.tooltip)(u,h.get("Fullscreen")),(0,a.setStyle)(p,"display","inline-flex"),(0,a.setStyle)(m,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03jeB":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,tooltip:c.i18n.get("Web Fullscreen"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c,p=(0,a.append)(u,f.fullscreenWebOn),m=(0,a.append)(u,f.fullscreenWebOff);(0,a.setStyle)(m,"display","none"),d(u,"click",()=>{c.fullscreenWeb=!c.fullscreenWeb}),c.on("fullscreenWeb",g=>{g?((0,a.tooltip)(u,h.get("Exit Web Fullscreen")),(0,a.setStyle)(p,"display","none"),(0,a.setStyle)(m,"display","inline-flex")):((0,a.tooltip)(u,h.get("Web Fullscreen")),(0,a.setStyle)(p,"display","inline-flex"),(0,a.setStyle)(m,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],u8l8e:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,tooltip:c.i18n.get("PIP Mode"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c;(0,a.append)(u,f.pip),d(u,"click",()=>{c.pip=!c.pip}),c.on("pip",p=>{(0,a.tooltip)(u,h.get(p?"Exit PIP Mode":"PIP Mode"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ebXtb:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,mounted:u=>{let{proxy:d,icons:f,i18n:h}=c,p=(0,a.append)(u,f.play),m=(0,a.append)(u,f.pause);function g(){(0,a.setStyle)(p,"display","flex"),(0,a.setStyle)(m,"display","none")}function v(){(0,a.setStyle)(p,"display","none"),(0,a.setStyle)(m,"display","flex")}(0,a.tooltip)(p,h.get("Play")),(0,a.tooltip)(m,h.get("Pause")),d(p,"click",()=>{c.play()}),d(m,"click",()=>{c.pause()}),c.playing?v():g(),c.on("video:playing",()=>{v()}),c.on("video:pause",()=>{g()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bgoVP:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"getPosFromEvent",()=>o),i.export(s,"setCurrentTime",()=>l),i.export(s,"default",()=>c);var a=t("../utils");function o(u,d){let{$progress:f}=u.template,{left:h}=(0,a.getRect)(f),p=a.isMobile?d.touches[0].clientX:d.clientX,m=(0,a.clamp)(p-h,0,f.clientWidth),g=m/f.clientWidth*u.duration,v=(0,a.secondToTime)(g),w=(0,a.clamp)(m/f.clientWidth,0,1);return{second:g,time:v,width:m,percentage:w}}function l(u,d){if(u.isRotate){let f=d.touches[0].clientY/u.height,h=f*u.duration;u.emit("setBar","played",f,d),u.seek=h}else{let{second:f,percentage:h}=o(u,d);u.emit("setBar","played",h,d),u.seek=f}}function c(u){return d=>{let{icons:f,option:h,proxy:p}=d;return{...u,html:'<div class="art-control-progress-inner"><div class="art-progress-hover"></div><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:m=>{let g=null,v=!1,w=(0,a.query)(".art-progress-hover",m),y=(0,a.query)(".art-progress-loaded",m),S=(0,a.query)(".art-progress-played",m),b=(0,a.query)(".art-progress-highlight",m),T=(0,a.query)(".art-progress-indicator",m),I=(0,a.query)(".art-progress-tip",m);function E(A,L){let{width:k,time:R}=L||o(d,A);I.innerText=R;let N=I.clientWidth;k<=N/2?(0,a.setStyle)(I,"left",0):k>m.clientWidth-N/2?(0,a.setStyle)(I,"left",`${m.clientWidth-N}px`):(0,a.setStyle)(I,"left",`${k-N/2}px`)}f.indicator?(0,a.append)(T,f.indicator):(0,a.setStyle)(T,"backgroundColor","var(--art-theme)"),d.on("setBar",function(A,L,k){let R=A==="played"&&k&&a.isMobile;A==="loaded"&&(0,a.setStyle)(y,"width",`${100*L}%`),A==="hover"&&(0,a.setStyle)(w,"width",`${100*L}%`),A==="played"&&((0,a.setStyle)(S,"width",`${100*L}%`),(0,a.setStyle)(T,"left",`${100*L}%`)),R&&((0,a.setStyle)(I,"display","flex"),E(k,{width:m.clientWidth*L,time:(0,a.secondToTime)(L*d.duration)}),clearTimeout(g),g=setTimeout(()=>{(0,a.setStyle)(I,"display","none")},500))}),d.on("video:loadedmetadata",function(){b.innerText="";for(let A=0;A<h.highlight.length;A++){let L=h.highlight[A],k=(0,a.clamp)(L.time,0,d.duration)/d.duration*100,R=`<span data-text="${L.text}" data-time="${L.time}" style="left: ${k}%"></span>`;(0,a.append)(b,R)}}),d.on("video:progress",()=>{d.emit("setBar","loaded",d.loaded)}),d.constructor.USE_RAF?d.on("raf",()=>{d.emit("setBar","played",d.played)}):d.on("video:timeupdate",()=>{d.emit("setBar","played",d.played)}),d.on("video:ended",()=>{d.emit("setBar","played",1)}),d.emit("setBar","loaded",d.loaded||0),a.isMobile||(p(m,"click",A=>{A.target!==T&&l(d,A)}),p(m,"mousemove",A=>{let{percentage:L}=o(d,A);d.emit("setBar","hover",L,A),(0,a.setStyle)(I,"display","flex"),(0,a.includeFromEvent)(A,b)?function(k){let{width:R}=o(d,k),{text:N}=k.target.dataset;I.innerText=N;let P=I.clientWidth;R<=P/2?(0,a.setStyle)(I,"left",0):R>m.clientWidth-P/2?(0,a.setStyle)(I,"left",`${m.clientWidth-P}px`):(0,a.setStyle)(I,"left",`${R-P/2}px`)}(A):E(A)}),p(m,"mouseleave",A=>{(0,a.setStyle)(I,"display","none"),d.emit("setBar","hover",0,A)}),p(m,"mousedown",A=>{v=A.button===0}),d.on("document:mousemove",A=>{if(v){let{second:L,percentage:k}=o(d,A);d.emit("setBar","played",k,A),d.seek=L}}),d.on("document:mouseup",()=>{v&&(v=!1)}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ikc2j:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,style:a.isMobile?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:u=>{function d(){let h=`${(0,a.secondToTime)(c.currentTime)} / ${(0,a.secondToTime)(c.duration)}`;h!==u.innerText&&(u.innerText=h)}d();let f=["video:loadedmetadata","video:timeupdate","video:progress"];for(let h=0;h<f.length;h++)c.on(f[h],d)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],b8NFx:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,mounted:u=>{let{proxy:d,icons:f}=c,h=(0,a.append)(u,f.volume),p=(0,a.append)(u,f.volumeClose),m=(0,a.append)(u,'<div class="art-volume-panel"></div>'),g=(0,a.append)(m,'<div class="art-volume-inner"></div>'),v=(0,a.append)(g,'<div class="art-volume-val"></div>'),w=(0,a.append)(g,'<div class="art-volume-slider"></div>'),y=(0,a.append)(w,'<div class="art-volume-handle"></div>'),S=(0,a.append)(y,'<div class="art-volume-loaded"></div>'),b=(0,a.append)(w,'<div class="art-volume-indicator"></div>');function T(E){let{top:A,height:L}=(0,a.getRect)(w);return 1-(E.clientY-A)/L}function I(){if(c.muted||c.volume===0)(0,a.setStyle)(h,"display","none"),(0,a.setStyle)(p,"display","flex"),(0,a.setStyle)(b,"top","100%"),(0,a.setStyle)(S,"top","100%"),v.innerText=0;else{let E=100*c.volume;(0,a.setStyle)(h,"display","flex"),(0,a.setStyle)(p,"display","none"),(0,a.setStyle)(b,"top",`${100-E}%`),(0,a.setStyle)(S,"top",`${100-E}%`),v.innerText=Math.floor(E)}}if(I(),c.on("video:volumechange",I),d(h,"click",()=>{c.muted=!0}),d(p,"click",()=>{c.muted=!1}),a.isMobile)(0,a.setStyle)(m,"display","none");else{let E=!1;d(w,"mousedown",A=>{E=A.button===0,c.volume=T(A)}),c.on("document:mousemove",A=>{E&&(c.muted=!1,c.volume=T(A))}),c.on("document:mouseup",()=>{E&&(E=!1)})}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03o9l":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,tooltip:c.i18n.get("Show Setting"),mounted:u=>{let{proxy:d,icons:f,i18n:h}=c;(0,a.append)(u,f.setting),d(u,"click",()=>{c.setting.toggle(),c.setting.resize()}),c.on("setting",p=>{(0,a.tooltip)(u,h.get(p?"Hide Setting":"Show Setting"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4KCF5":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,tooltip:c.i18n.get("Screenshot"),mounted:u=>{let{proxy:d,icons:f}=c;(0,a.append)(u,f.screenshot),d(u,"click",()=>{c.screenshot()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4IS2d":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>({...l,tooltip:c.i18n.get("AirPlay"),mounted:u=>{let{proxy:d,icons:f}=c;(0,a.append)(u,f.airplay),d(u,"click",()=>c.airplay())}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2KYsr":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("../utils"),o=t("../utils/component"),l=i.interopDefault(o),c=t("./playbackRate"),u=i.interopDefault(c),d=t("./aspectRatio"),f=i.interopDefault(d),h=t("./flip"),p=i.interopDefault(h),m=t("./info"),g=i.interopDefault(m),v=t("./version"),w=i.interopDefault(v),y=t("./close"),S=i.interopDefault(y);class b extends l.default{constructor(I){super(I),this.name="contextmenu",this.$parent=I.template.$contextmenu,a.isMobile||this.init()}init(){let{option:I,proxy:E,template:{$player:A,$contextmenu:L}}=this.art;I.playbackRate&&this.add((0,u.default)({name:"playbackRate",index:10})),I.aspectRatio&&this.add((0,f.default)({name:"aspectRatio",index:20})),I.flip&&this.add((0,p.default)({name:"flip",index:30})),this.add((0,g.default)({name:"info",index:40})),this.add((0,w.default)({name:"version",index:50})),this.add((0,S.default)({name:"close",index:60}));for(let k=0;k<I.contextmenu.length;k++)this.add(I.contextmenu[k]);E(A,"contextmenu",k=>{if(!this.art.constructor.CONTEXTMENU)return;k.preventDefault(),this.show=!0;let R=k.clientX,N=k.clientY,{height:P,width:_,left:$,top:H}=(0,a.getRect)(A),{height:F,width:O}=(0,a.getRect)(L),M=R-$,V=N-H;R+O>$+_&&(M=_-O),N+F>H+P&&(V=P-F),(0,a.setStyles)(L,{top:`${V}px`,left:`${M}px`})}),E(A,"click",k=>{(0,a.includeFromEvent)(k,L)||(this.show=!1)}),this.art.on("blur",()=>{this.show=!1})}}s.default=b},{"../utils":"71aH7","../utils/component":"18nVI","./playbackRate":"69eLi","./aspectRatio":"lUefg","./flip":"kysiM","./info":"gqIgJ","./version":"kRU7C","./close":"jQ8Pm","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"69eLi":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>{let{i18n:u,constructor:{PLAYBACK_RATE:d}}=c,f=d.map(h=>`<span data-value="${h}">${h===1?u.get("Normal"):h.toFixed(1)}</span>`).join("");return{...l,html:`${u.get("Play Speed")}: ${f}`,click:(h,p)=>{let{value:m}=p.target.dataset;m&&(c.playbackRate=Number(m),h.show=!1)},mounted:h=>{let p=(0,a.query)('[data-value="1"]',h);p&&(0,a.inverseClass)(p,"art-current"),c.on("video:ratechange",()=>{let m=(0,a.queryAll)("span",h).find(g=>Number(g.dataset.value)===c.playbackRate);m&&(0,a.inverseClass)(m,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lUefg:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>{let{i18n:u,constructor:{ASPECT_RATIO:d}}=c,f=d.map(h=>`<span data-value="${h}">${h==="default"?u.get("Default"):h}</span>`).join("");return{...l,html:`${u.get("Aspect Ratio")}: ${f}`,click:(h,p)=>{let{value:m}=p.target.dataset;m&&(c.aspectRatio=m,h.show=!1)},mounted:h=>{let p=(0,a.query)('[data-value="default"]',h);p&&(0,a.inverseClass)(p,"art-current"),c.on("aspectRatio",m=>{let g=(0,a.queryAll)("span",h).find(v=>v.dataset.value===m);g&&(0,a.inverseClass)(g,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kysiM:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return c=>{let{i18n:u,constructor:{FLIP:d}}=c,f=d.map(h=>`<span data-value="${h}">${u.get((0,a.capitalize)(h))}</span>`).join("");return{...l,html:`${u.get("Video Flip")}: ${f}`,click:(h,p)=>{let{value:m}=p.target.dataset;m&&(c.flip=m.toLowerCase(),h.show=!1)},mounted:h=>{let p=(0,a.query)('[data-value="normal"]',h);p&&(0,a.inverseClass)(p,"art-current"),c.on("flip",m=>{let g=(0,a.queryAll)("span",h).find(v=>v.dataset.value===m);g&&(0,a.inverseClass)(g,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gqIgJ:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){return l=>({...o,html:l.i18n.get("Video Info"),click:c=>{l.info.show=!0,c.show=!1}})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kRU7C:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){return{...o,html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 5.2.2</a>'}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jQ8Pm:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){return l=>({...o,html:l.i18n.get("Close"),click:c=>{c.show=!1}})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"02ajl":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./utils"),o=t("./utils/component"),l=i.interopDefault(o);class c extends l.default{constructor(d){super(d),this.name="info",a.isMobile||this.init()}init(){let{proxy:d,constructor:f,template:{$infoPanel:h,$infoClose:p,$video:m}}=this.art;d(p,"click",()=>{this.show=!1});let g=null,v=(0,a.queryAll)("[data-video]",h)||[];this.art.on("destroy",()=>clearTimeout(g)),function w(){for(let y=0;y<v.length;y++){let S=v[y],b=m[S.dataset.video],T=typeof b=="number"?b.toFixed(2):b;S.innerText!==T&&(S.innerText=T)}g=setTimeout(w,f.INFO_LOOP_TIME)}()}}s.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eSWto:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./utils"),o=t("./utils/component"),l=i.interopDefault(o),c=t("option-validator"),u=i.interopDefault(c),d=t("./scheme"),f=i.interopDefault(d);class h extends l.default{constructor(m){super(m),this.name="subtitle",this.option=null,this.destroyEvent=()=>null,this.init(m.option.subtitle);let g=!1;m.on("video:timeupdate",()=>{if(!this.url)return;let v=this.art.template.$video.webkitDisplayingFullscreen;typeof v=="boolean"&&v!==g&&(g=v,this.createTrack(v?"subtitles":"metadata",this.url))})}get url(){return this.art.template.$track.src}set url(m){this.switch(m)}get textTrack(){var m,g;return(g=(m=this.art.template.$video)==null?void 0:m.textTracks)==null?void 0:g[0]}get activeCues(){return this.textTrack?Array.from(this.textTrack.activeCues):[]}get cues(){return this.textTrack?Array.from(this.textTrack.cues):[]}style(m,g){let{$subtitle:v}=this.art.template;return typeof m=="object"?(0,a.setStyles)(v,m):(0,a.setStyle)(v,m,g)}update(){let{option:{subtitle:m},template:{$subtitle:g}}=this.art;g.innerHTML="",this.activeCues.length&&(this.art.emit("subtitleBeforeUpdate",this.activeCues),g.innerHTML=this.activeCues.map((v,w)=>v.text.split(/\r?\n/).filter(y=>y.trim()).map(y=>`<div class="art-subtitle-line" data-group="${w}">${m.escape?(0,a.escape)(y):y}</div>`).join("")).join(""),this.art.emit("subtitleAfterUpdate",this.activeCues))}async switch(m,g={}){let{i18n:v,notice:w,option:y}=this.art,S={...y.subtitle,...g,url:m},b=await this.init(S);return g.name&&(w.show=`${v.get("Switch Subtitle")}: ${g.name}`),b}createTrack(m,g){let{template:v,proxy:w,option:y}=this.art,{$video:S,$track:b}=v,T=(0,a.createElement)("track");T.default=!0,T.kind=m,T.src=g,T.label=y.subtitle.name||"Artplayer",T.track.mode="hidden",T.onload=()=>{this.art.emit("subtitleLoad",this.cues,this.option)},this.art.events.remove(this.destroyEvent),b.onload=null,(0,a.remove)(b),(0,a.append)(S,T),v.$track=T,this.destroyEvent=w(this.textTrack,"cuechange",()=>this.update())}async init(m){let{notice:g,template:{$subtitle:v}}=this.art;return this.textTrack?((0,u.default)(m,f.default.subtitle),m.url?(this.option=m,this.style(m.style),fetch(m.url).then(w=>w.arrayBuffer()).then(w=>{let y=new TextDecoder(m.encoding).decode(w);switch(m.type||(0,a.getExt)(m.url)){case"srt":{let S=(0,a.srtToVtt)(y),b=m.onVttLoad(S);return(0,a.vttToBlob)(b)}case"ass":{let S=(0,a.assToVtt)(y),b=m.onVttLoad(S);return(0,a.vttToBlob)(b)}case"vtt":{let S=m.onVttLoad(y);return(0,a.vttToBlob)(S)}default:return m.url}}).then(w=>(v.innerHTML="",this.url===w||(URL.revokeObjectURL(this.url),this.createTrack("metadata",w)),w)).catch(w=>{throw v.innerHTML="",g.show=w,w})):void 0):null}}s.default=h},{"./utils":"71aH7","./utils/component":"18nVI","option-validator":"bAWi2","./scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jo4S1:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./clickInit"),o=i.interopDefault(a),l=t("./hoverInit"),c=i.interopDefault(l),u=t("./moveInit"),d=i.interopDefault(u),f=t("./resizeInit"),h=i.interopDefault(f),p=t("./gestureInit"),m=i.interopDefault(p),g=t("./viewInit"),v=i.interopDefault(g),w=t("./documentInit"),y=i.interopDefault(w),S=t("./updateInit"),b=i.interopDefault(S),T=t("./restoreInit"),I=i.interopDefault(T);s.default=class{constructor(E){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),(0,o.default)(E,this),(0,c.default)(E,this),(0,d.default)(E,this),(0,h.default)(E,this),(0,m.default)(E,this),(0,v.default)(E,this),(0,y.default)(E,this),(0,b.default)(E,this),(0,I.default)(E,this)}proxy(E,A,L,k={}){if(Array.isArray(A))return A.map(N=>this.proxy(E,N,L,k));E.addEventListener(A,L,k);let R=()=>E.removeEventListener(A,L,k);return this.destroyEvents.push(R),R}hover(E,A,L){A&&this.proxy(E,"mouseenter",A),L&&this.proxy(E,"mouseleave",L)}remove(E){let A=this.destroyEvents.indexOf(E);A>-1&&(E(),this.destroyEvents.splice(A,1))}destroy(){for(let E=0;E<this.destroyEvents.length;E++)this.destroyEvents[E]()}}},{"./clickInit":"6UrCm","./hoverInit":"4jWHi","./moveInit":"eqaUm","./resizeInit":"eDXPO","./gestureInit":"95GtS","./viewInit":"InUBx","./documentInit":"hoLfM","./updateInit":"cl8m3","./restoreInit":"bK8As","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6UrCm":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l,c){let{constructor:u,template:{$player:d,$video:f}}=l;c.proxy(document,["click","contextmenu"],p=>{(0,a.includeFromEvent)(p,d)?(l.isInput=p.target.tagName==="INPUT",l.isFocus=!0,l.emit("focus",p)):(l.isInput=!1,l.isFocus=!1,l.emit("blur",p))});let h=[];c.proxy(f,"click",p=>{let m=Date.now();h.push(m);let{MOBILE_CLICK_PLAY:g,DBCLICK_TIME:v,MOBILE_DBCLICK_PLAY:w,DBCLICK_FULLSCREEN:y}=u,S=h.filter(b=>m-b<=v);switch(S.length){case 1:l.emit("click",p),a.isMobile?!l.isLock&&g&&l.toggle():l.toggle(),h=S;break;case 2:l.emit("dblclick",p),a.isMobile?!l.isLock&&w&&l.toggle():y&&(l.fullscreen=!l.fullscreen),h=[];break;default:h=[]}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4jWHi":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l,c){let{$player:u}=l.template;c.hover(u,d=>{(0,a.addClass)(u,"art-hover"),l.emit("hover",!0,d)},d=>{(0,a.removeClass)(u,"art-hover"),l.emit("hover",!1,d)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eqaUm:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o,l){let{$player:c}=o.template;l.proxy(c,"mousemove",u=>{o.emit("mousemove",u)})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eDXPO:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l,c){let{option:u,constructor:d}=l;l.on("resize",()=>{let{aspectRatio:h,notice:p}=l;l.state==="standard"&&u.autoSize&&l.autoSize(),l.aspectRatio=h,p.show=""});let f=(0,a.debounce)(()=>l.emit("resize"),d.RESIZE_TIME);c.proxy(window,["orientationchange","resize"],()=>f()),screen&&screen.orientation&&screen.orientation.onchange&&c.proxy(screen.orientation,"change",()=>f())}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"95GtS":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>l);var a=t("../utils"),o=t("../control/progress");function l(c,u){if(a.isMobile&&!c.option.isLive){let{$video:d,$progress:f}=c.template,h=null,p=!1,m=0,g=0,v=0,w=S=>{if(S.touches.length===1&&!c.isLock){h===f&&(0,o.setCurrentTime)(c,S),p=!0;let{pageX:b,pageY:T}=S.touches[0];m=b,g=T,v=c.currentTime}},y=S=>{if(S.touches.length===1&&p&&c.duration){let{pageX:b,pageY:T}=S.touches[0],I=function(L,k,R,N){var P=k-N,_=R-L,$=0;if(2>Math.abs(_)&&2>Math.abs(P))return $;var H=180*Math.atan2(P,_)/Math.PI;return H>=-45&&H<45?$=4:H>=45&&H<135?$=1:H>=-135&&H<-45?$=2:(H>=135&&H<=180||H>=-180&&H<-135)&&($=3),$}(m,g,b,T),E=[3,4].includes(I),A=[1,2].includes(I);if(E&&!c.isRotate||A&&c.isRotate){let L=(0,a.clamp)((b-m)/c.width,-1,1),k=(0,a.clamp)((T-g)/c.height,-1,1),R=c.isRotate?k:L,N=h===d?c.constructor.TOUCH_MOVE_RATIO:1,P=(0,a.clamp)(v+c.duration*R*N,0,c.duration);c.seek=P,c.emit("setBar","played",(0,a.clamp)(P/c.duration,0,1),S),c.notice.show=`${(0,a.secondToTime)(P)} / ${(0,a.secondToTime)(c.duration)}`}}};u.proxy(f,"touchstart",S=>{h=f,w(S)}),u.proxy(d,"touchstart",S=>{h=d,w(S)}),u.proxy(d,"touchmove",y),u.proxy(f,"touchmove",y),u.proxy(document,"touchend",()=>{p&&(m=0,g=0,v=0,p=!1,h=null)})}}},{"../utils":"71aH7","../control/progress":"bgoVP","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],InUBx:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l,c){let{option:u,constructor:d,template:{$container:f}}=l,h=(0,a.throttle)(()=>{l.emit("view",(0,a.isInViewport)(f,d.SCROLL_GAP))},d.SCROLL_TIME);c.proxy(window,"scroll",()=>h()),l.on("view",p=>{u.autoMini&&(l.mini=!p)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hoLfM:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o,l){l.proxy(document,"mousemove",c=>{o.emit("document:mousemove",c)}),l.proxy(document,"mouseup",c=>{o.emit("document:mouseup",c)})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cl8m3:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){if(o.constructor.USE_RAF){let l=null;(function c(){o.playing&&o.emit("raf"),o.isDestroy||(l=requestAnimationFrame(c))})(),o.on("destroy",()=>{cancelAnimationFrame(l)})}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bK8As:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o,l){}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6NoFy":[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var i=t("./utils");s.default=class{constructor(a){this.art=a,this.keys={},a.option.hotkey&&!i.isMobile&&this.init()}init(){let{proxy:a,constructor:o}=this.art;this.add("Escape",()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)}),this.add("Space",()=>{this.art.toggle()}),this.add("ArrowLeft",()=>{this.art.backward=o.SEEK_STEP}),this.add("ArrowUp",()=>{this.art.volume+=o.VOLUME_STEP}),this.add("ArrowRight",()=>{this.art.forward=o.SEEK_STEP}),this.add("ArrowDown",()=>{this.art.volume-=o.VOLUME_STEP}),a(document,"keydown",l=>{if(this.art.isFocus){let c=document.activeElement.tagName.toUpperCase(),u=document.activeElement.getAttribute("contenteditable");if(c!=="INPUT"&&c!=="TEXTAREA"&&u!==""&&u!=="true"&&!l.altKey&&!l.ctrlKey&&!l.metaKey&&!l.shiftKey){let d=this.keys[l.code];if(d){l.preventDefault();for(let f=0;f<d.length;f++)d[f].call(this.art,l);this.art.emit("hotkey",l)}}}this.art.emit("keydown",l)})}add(a,o){return this.keys[a]?this.keys[a].push(o):this.keys[a]=[o],this}remove(a,o){if(this.keys[a]){let l=this.keys[a].indexOf(o);l!==-1&&this.keys[a].splice(l,1)}return this}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6G6hZ":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./utils/component"),o=i.interopDefault(a);class l extends o.default{constructor(u){super(u);let{option:d,template:{$layer:f}}=u;this.name="layer",this.$parent=f;for(let h=0;h<d.layers.length;h++)this.add(d.layers[h])}}s.default=l},{"./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3dsEe":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./utils"),o=t("./utils/component"),l=i.interopDefault(o);class c extends l.default{constructor(d){super(d),this.name="loading",(0,a.append)(d.template.$loading,d.icons.loading)}}s.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],dWGTw:[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var i=t("./utils");s.default=class{constructor(a){this.art=a,this.timer=null}set show(a){let{constructor:o,template:{$player:l,$noticeInner:c}}=this.art;a?(c.innerText=a instanceof Error?a.message.trim():a,(0,i.addClass)(l,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout(()=>{c.innerText="",(0,i.removeClass)(l,"art-notice-show")},o.NOTICE_TIME)):(0,i.removeClass)(l,"art-notice-show")}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5POkG":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./utils"),o=t("./utils/component"),l=i.interopDefault(o);class c extends l.default{constructor(d){super(d),this.name="mask";let{template:f,icons:h,events:p}=d,m=(0,a.append)(f.$state,h.state),g=(0,a.append)(f.$state,h.error);(0,a.setStyle)(g,"display","none"),d.on("destroy",()=>{(0,a.setStyle)(m,"display","none"),(0,a.setStyle)(g,"display",null)}),p.proxy(f.$state,"click",()=>d.play())}}s.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6OeNg":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("../utils"),o=t("bundle-text:./loading.svg"),l=i.interopDefault(o),c=t("bundle-text:./state.svg"),u=i.interopDefault(c),d=t("bundle-text:./check.svg"),f=i.interopDefault(d),h=t("bundle-text:./play.svg"),p=i.interopDefault(h),m=t("bundle-text:./pause.svg"),g=i.interopDefault(m),v=t("bundle-text:./volume.svg"),w=i.interopDefault(v),y=t("bundle-text:./volume-close.svg"),S=i.interopDefault(y),b=t("bundle-text:./screenshot.svg"),T=i.interopDefault(b),I=t("bundle-text:./setting.svg"),E=i.interopDefault(I),A=t("bundle-text:./arrow-left.svg"),L=i.interopDefault(A),k=t("bundle-text:./arrow-right.svg"),R=i.interopDefault(k),N=t("bundle-text:./playback-rate.svg"),P=i.interopDefault(N),_=t("bundle-text:./aspect-ratio.svg"),$=i.interopDefault(_),H=t("bundle-text:./config.svg"),F=i.interopDefault(H),O=t("bundle-text:./pip.svg"),M=i.interopDefault(O),V=t("bundle-text:./lock.svg"),W=i.interopDefault(V),J=t("bundle-text:./unlock.svg"),re=i.interopDefault(J),pe=t("bundle-text:./fullscreen-off.svg"),Q=i.interopDefault(pe),ae=t("bundle-text:./fullscreen-on.svg"),Ie=i.interopDefault(ae),we=t("bundle-text:./fullscreen-web-off.svg"),Yt=i.interopDefault(we),qt=t("bundle-text:./fullscreen-web-on.svg"),Xt=i.interopDefault(qt),le=t("bundle-text:./switch-on.svg"),ge=i.interopDefault(le),Ce=t("bundle-text:./switch-off.svg"),xe=i.interopDefault(Ce),ee=t("bundle-text:./flip.svg"),On=i.interopDefault(ee),ze=t("bundle-text:./error.svg"),Qt=i.interopDefault(ze),Mn=t("bundle-text:./close.svg"),Jt=i.interopDefault(Mn),Mt=t("bundle-text:./airplay.svg"),ir=i.interopDefault(Mt);s.default=class{constructor(vs){let Ur={loading:l.default,state:u.default,play:p.default,pause:g.default,check:f.default,volume:w.default,volumeClose:S.default,screenshot:T.default,setting:E.default,pip:M.default,arrowLeft:L.default,arrowRight:R.default,playbackRate:P.default,aspectRatio:$.default,config:F.default,lock:W.default,flip:On.default,unlock:re.default,fullscreenOff:Q.default,fullscreenOn:Ie.default,fullscreenWebOff:Yt.default,fullscreenWebOn:Xt.default,switchOn:ge.default,switchOff:xe.default,error:Qt.default,close:Jt.default,airplay:ir.default,...vs.option.icons};for(let ar in Ur)(0,a.def)(this,ar,{get:()=>(0,a.getIcon)(ar,Ur[ar])})}}},{"../utils":"71aH7","bundle-text:./loading.svg":"7tDub","bundle-text:./state.svg":"1ElZc","bundle-text:./check.svg":"lmgoP","bundle-text:./play.svg":"lVWoQ","bundle-text:./pause.svg":"5Mnax","bundle-text:./volume.svg":"w3eIa","bundle-text:./volume-close.svg":"rHjo1","bundle-text:./screenshot.svg":"2KcqM","bundle-text:./setting.svg":"8rQMV","bundle-text:./arrow-left.svg":"kqGBE","bundle-text:./arrow-right.svg":"aFjpC","bundle-text:./playback-rate.svg":"lx7ZM","bundle-text:./aspect-ratio.svg":"2sEjf","bundle-text:./config.svg":"fQTgE","bundle-text:./pip.svg":"2CaxO","bundle-text:./lock.svg":"aCGnW","bundle-text:./unlock.svg":"bTrAV","bundle-text:./fullscreen-off.svg":"bA3p0","bundle-text:./fullscreen-on.svg":"fTuY8","bundle-text:./fullscreen-web-off.svg":"tvKf4","bundle-text:./fullscreen-web-on.svg":"1F1oB","bundle-text:./switch-on.svg":"7qNHs","bundle-text:./switch-off.svg":"28aV8","bundle-text:./flip.svg":"1uXI6","bundle-text:./error.svg":"9f4dh","bundle-text:./close.svg":"4nTtS","bundle-text:./airplay.svg":"cDPXC","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7tDub":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><path fill="none" class="bk" d="M0 0h100v100H0z"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(30 105.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(60 75.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(90 65 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(120 58.66 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(150 54.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(180 50 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-90 35 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>'},{}],"1ElZc":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24"><path fill="#fff" d="M9.5 9.325v5.35q0 .575.525.875t1.025-.05l4.15-2.65q.475-.3.475-.85t-.475-.85L11.05 8.5q-.5-.35-1.025-.05t-.525.875ZM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"/></svg>'},{}],lmgoP:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"/></svg>'},{}],lVWoQ:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"/></svg>'},{}],"5Mnax":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"/></svg>'},{}],w3eIa:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zm4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"/><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"/></svg>'},{}],rHjo1:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"/><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zm5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"/></svg>'},{}],"2KcqM":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10Zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8Z"/></svg>'},{}],"8rQMV":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>'},{}],kqGBE:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z" fill="#fff"/></svg>'},{}],aFjpC:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z" fill="#fff"/></svg>'},{}],lx7ZM:[function(t,r,s){r.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10 8v8l6-4-6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2zM5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8zm0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4l.8-.7zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22l.1-1zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2sEjf":[function(t,r,s){r.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" style="width:100%;height:100%;transform:translate(0,0)"><defs><clipPath id="a"><path d="M0 0h88v88H0z"/></clipPath></defs><g style="display:block" clip-path="url('#a')"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0zm-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13-2.83-2.82zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8h56z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>`},{}],fQTgE:[function(t,r,s){r.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15 17h6v1h-6v-1zm-4 0H3v1h8v2h1v-5h-1v2zm3-9h1V3h-1v2H3v1h11v2zm4-3v1h3V5h-3zM6 14h1V9H6v2H3v1h3v2zm4-2h11v-1H10v1z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2CaxO":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25 17h-8v6h8v-6Zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2Zm-2 .02H9V10.97h18v14.05Z"/></svg>'},{}],aCGnW:[function(t,r,s){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128z" fill="#fff"/></svg>'},{}],bTrAV:[function(t,r,s){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816z" fill="#fff"/></svg>'},{}],bA3p0:[function(t,r,s){r.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768v170.667zM341.333 384h-256v-85.333H256V128h85.333v256zM768 725.333V896h-85.333V640h256v85.333H768zM341.333 640v256H256V725.333H85.333V640h256z"/></svg>'},{}],fTuY8:[function(t,r,s){r.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256V256zM256 398.222V256h142.222V142.222h-256v256H256zm512 227.556V768H625.778v113.778h256v-256H768zM398.222 768H256V625.778H142.222v256h256V768z"/></svg>'},{}],tvKf4:[function(t,r,s){r.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384H896zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448H256z"/></svg>'},{}],"1F1oB":[function(t,r,s){r.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448H448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384H704z"/></svg>'},{}],"7qNHs":[function(t,r,s){r.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024zm0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"/></svg>'},{}],"28aV8":[function(t,r,s){r.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898zm-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.872 463.872 0 0 1 511.334 48.435v.205z"/></svg>'},{}],"1uXI6":[function(t,r,s){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M554.667 810.667V896h-85.334v-85.333h85.334zm-384-632.662a42.667 42.667 0 0 1 34.986 18.219l203.904 291.328a42.667 42.667 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667zm682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.667 42.667 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.667 42.667 0 0 1 34.944-18.219zM554.667 640v85.333h-85.334V640h85.334zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334h85.334zm0-170.667V384h-85.334v-85.333h85.334zm0-170.667v85.333h-85.334V128h85.334z" fill="#fff"/></svg>'},{}],"9f4dh":[function(t,r,s){r.exports='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="50" height="50"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.082 93.082 0 0 1 34.448 33.341zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88zm0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2z"/></svg>'},{}],"4nTtS":[function(t,r,s){r.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733L571.733 512z"/></svg>'},{}],cDPXC:[function(t,r,s){r.exports='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="M16 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h3v-2H3V3h12v8h-2v2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1Z"/><path d="M4 17h10l-5-6z"/></g></svg>'},{}],"3eYNH":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("./flip"),o=i.interopDefault(a),l=t("./aspectRatio"),c=i.interopDefault(l),u=t("./playbackRate"),d=i.interopDefault(u),f=t("./subtitleOffset"),h=i.interopDefault(f),p=t("../utils/component"),m=i.interopDefault(p),g=t("../utils");class v extends m.default{constructor(y){super(y);let{option:S,controls:b,template:{$setting:T}}=y;this.name="setting",this.$parent=T,this.id=0,this.active=null,this.cache=new Map,this.option=[...this.builtin,...S.settings],S.setting&&(this.format(),this.render(),y.on("blur",()=>{this.show&&(this.show=!1,this.render())}),y.on("focus",I=>{let E=(0,g.includeFromEvent)(I,b.setting),A=(0,g.includeFromEvent)(I,this.$parent);!this.show||E||A||(this.show=!1,this.render())}),y.on("resize",()=>this.resize()))}get builtin(){let y=[],{option:S}=this.art;return S.playbackRate&&y.push((0,d.default)(this.art)),S.aspectRatio&&y.push((0,c.default)(this.art)),S.flip&&y.push((0,o.default)(this.art)),S.subtitleOffset&&y.push((0,h.default)(this.art)),y}traverse(y,S=this.option){var b;for(let T=0;T<S.length;T++){let I=S[T];y(I),(b=I.selector)!=null&&b.length&&this.traverse.call(this,y,I.selector)}}check(y){y.$parent.tooltip=y.html,this.traverse(S=>{S.default=S===y,S.default&&S.$item&&(0,g.inverseClass)(S.$item,"art-current")},y.$option),this.render(y.$parents)}format(y=this.option,S,b,T=[]){for(let I=0;I<y.length;I++){let E=y[I];if(E!=null&&E.name?((0,g.errorHandle)(!T.includes(E.name),`The [${E.name}] is already exist in [setting]`),T.push(E.name)):E.name=`setting-${this.id++}`,!E.$formatted){(0,g.def)(E,"$parent",{get:()=>S}),(0,g.def)(E,"$parents",{get:()=>b}),(0,g.def)(E,"$option",{get:()=>y});let A=[];(0,g.def)(E,"$events",{get:()=>A}),(0,g.def)(E,"$formatted",{get:()=>!0})}this.format(E.selector||[],E,y,T)}this.option=y}find(y=""){let S=null;return this.traverse(b=>{b.name===y&&(S=b)}),S}resize(){var E,A;let{controls:y,constructor:{SETTING_WIDTH:S,SETTING_ITEM_HEIGHT:b},template:{$player:T,$setting:I}}=this.art;if(y.setting&&this.show){let L=((A=(E=this.active[0])==null?void 0:E.$parent)==null?void 0:A.width)||S,{left:k,width:R}=(0,g.getRect)(y.setting),{left:N,width:P}=(0,g.getRect)(T),_=k-N+R/2-L/2,$=this.active===this.option?this.active.length*b:(this.active.length+1)*b;if((0,g.setStyle)(I,"height",`${$}px`),(0,g.setStyle)(I,"width",`${L}px`),this.art.isRotate||g.isMobile)return;_+L>P?((0,g.setStyle)(I,"left",null),(0,g.setStyle)(I,"right",null)):((0,g.setStyle)(I,"left",`${_}px`),(0,g.setStyle)(I,"right","auto"))}}inactivate(y){for(let S=0;S<y.$events.length;S++)this.art.events.remove(y.$events[S]);y.$events.length=0}remove(y){let S=this.find(y);(0,g.errorHandle)(S,`Can't find [${y}] in the [setting]`);let b=S.$option.indexOf(S);S.$option.splice(b,1),this.inactivate(S),S.$item&&(0,g.remove)(S.$item),this.render()}update(y){let S=this.find(y.name);return S?(this.inactivate(S),Object.assign(S,y),this.format(),this.creatItem(S,!0),this.render(),S):this.add(y)}add(y,S=this.option){return S.push(y),this.format(),this.creatItem(y),this.render(),y}creatHeader(y){if(!this.cache.has(y.$option))return;let S=this.cache.get(y.$option),{proxy:b,icons:{arrowLeft:T},constructor:{SETTING_ITEM_HEIGHT:I}}=this.art,E=(0,g.createElement)("div");(0,g.setStyle)(E,"height",`${I}px`),(0,g.addClass)(E,"art-setting-item"),(0,g.addClass)(E,"art-setting-item-back");let A=(0,g.append)(E,'<div class="art-setting-item-left"></div>'),L=(0,g.createElement)("div");(0,g.addClass)(L,"art-setting-item-left-icon"),(0,g.append)(L,T),(0,g.append)(A,L),(0,g.append)(A,y.$parent.html);let k=b(E,"click",()=>this.render(y.$parents));y.$parent.$events.push(k),(0,g.append)(S,E)}creatItem(y,S=!1){var H,F;if(!this.cache.has(y.$option))return;let b=this.cache.get(y.$option),T=y.$item,I="selector";(0,g.has)(y,"switch")&&(I="switch"),(0,g.has)(y,"range")&&(I="range");let{icons:E,proxy:A,constructor:L}=this.art,k=(0,g.createElement)("div");(0,g.addClass)(k,"art-setting-item"),(0,g.setStyle)(k,"height",`${L.SETTING_ITEM_HEIGHT}px`),k.dataset.name=y.name||"",k.dataset.value=y.value||"";let R=(0,g.append)(k,'<div class="art-setting-item-left"></div>'),N=(0,g.append)(k,'<div class="art-setting-item-right"></div>'),P=(0,g.createElement)("div");switch((0,g.addClass)(P,"art-setting-item-left-icon"),I){case"switch":case"range":(0,g.append)(P,y.icon||E.config);break;case"selector":(H=y.selector)!=null&&H.length?(0,g.append)(P,y.icon||E.config):(0,g.append)(P,E.check)}(0,g.append)(R,P),(0,g.def)(y,"$icon",{configurable:!0,get:()=>P}),(0,g.def)(y,"icon",{configurable:!0,get:()=>P.innerHTML,set(O){P.innerHTML="",(0,g.append)(P,O)}});let _=(0,g.createElement)("div");(0,g.addClass)(_,"art-setting-item-left-text"),(0,g.append)(_,y.html||""),(0,g.append)(R,_),(0,g.def)(y,"$html",{configurable:!0,get:()=>_}),(0,g.def)(y,"html",{configurable:!0,get:()=>_.innerHTML,set(O){_.innerHTML="",(0,g.append)(_,O)}});let $=(0,g.createElement)("div");switch((0,g.addClass)($,"art-setting-item-right-tooltip"),(0,g.append)($,y.tooltip||""),(0,g.append)(N,$),(0,g.def)(y,"$tooltip",{configurable:!0,get:()=>$}),(0,g.def)(y,"tooltip",{configurable:!0,get:()=>$.innerHTML,set(O){$.innerHTML="",(0,g.append)($,O)}}),I){case"switch":{let O=(0,g.createElement)("div");(0,g.addClass)(O,"art-setting-item-right-icon");let M=(0,g.append)(O,E.switchOn),V=(0,g.append)(O,E.switchOff);(0,g.setStyle)(y.switch?V:M,"display","none"),(0,g.append)(N,O),(0,g.def)(y,"$switch",{configurable:!0,get:()=>O});let W=y.switch;(0,g.def)(y,"switch",{configurable:!0,get:()=>W,set(J){W=J,J?((0,g.setStyle)(V,"display","none"),(0,g.setStyle)(M,"display",null)):((0,g.setStyle)(V,"display",null),(0,g.setStyle)(M,"display","none"))}});break}case"range":{let O=(0,g.createElement)("div");(0,g.addClass)(O,"art-setting-item-right-icon");let M=(0,g.append)(O,'<input type="range">');M.value=y.range[0],M.min=y.range[1],M.max=y.range[2],M.step=y.range[3],(0,g.addClass)(M,"art-setting-range"),(0,g.append)(N,O),(0,g.def)(y,"$range",{configurable:!0,get:()=>M});let V=[...y.range];(0,g.def)(y,"range",{configurable:!0,get:()=>V,set(W){V=[...W],M.value=W[0],M.min=W[1],M.max=W[2],M.step=W[3]}})}break;case"selector":if((F=y.selector)!=null&&F.length){let O=(0,g.createElement)("div");(0,g.addClass)(O,"art-setting-item-right-icon"),(0,g.append)(O,E.arrowRight),(0,g.append)(N,O)}}switch(I){case"switch":if(y.onSwitch){let O=A(k,"click",async M=>{y.switch=await y.onSwitch.call(this.art,y,k,M)});y.$events.push(O)}break;case"range":if(y.$range){if(y.onRange){let O=A(y.$range,"change",async M=>{y.range[0]=y.$range.valueAsNumber,y.tooltip=await y.onRange.call(this.art,y,k,M)});y.$events.push(O)}if(y.onChange){let O=A(y.$range,"input",async M=>{y.range[0]=y.$range.valueAsNumber,y.tooltip=await y.onChange.call(this.art,y,k,M)});y.$events.push(O)}}break;case"selector":{let O=A(k,"click",async M=>{var V;(V=y.selector)!=null&&V.length?this.render(y.selector):(this.check(y),y.$parent.onSelect&&(y.$parent.tooltip=await y.$parent.onSelect.call(this.art,y,k,M)))});y.$events.push(O),y.default&&(0,g.addClass)(k,"art-current")}}(0,g.def)(y,"$item",{configurable:!0,get:()=>k}),S?(0,g.replaceElement)(k,T):(0,g.append)(b,k),y.mounted&&setTimeout(()=>y.mounted.call(this.art,y.$item,y),0)}render(y=this.option){var S;if(this.active=y,this.cache.has(y)){let b=this.cache.get(y);(0,g.inverseClass)(b,"art-current")}else{let b=(0,g.createElement)("div");this.cache.set(y,b),(0,g.addClass)(b,"art-setting-panel"),(0,g.append)(this.$parent,b),(0,g.inverseClass)(b,"art-current"),(S=y[0])!=null&&S.$parent&&this.creatHeader(y[0]);for(let T=0;T<y.length;T++)this.creatItem(y[T])}this.resize()}}s.default=v},{"./flip":"kONUB","./aspectRatio":"84NBV","./playbackRate":"aetWt","./subtitleOffset":"fIBkO","../utils/component":"18nVI","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kONUB:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{i18n:c,icons:u,constructor:{SETTING_ITEM_WIDTH:d,FLIP:f}}=l;function h(m){return c.get((0,a.capitalize)(m))}function p(){let m=l.setting.find(`flip-${l.flip}`);l.setting.check(m)}return{width:d,name:"flip",html:c.get("Video Flip"),tooltip:h(l.flip),icon:u.flip,selector:f.map(m=>({value:m,name:`flip-${m}`,default:m===l.flip,html:h(m)})),onSelect:m=>(l.flip=m.value,m.html),mounted:()=>{p(),l.on("flip",()=>p())}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"84NBV":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){let{i18n:l,icons:c,constructor:{SETTING_ITEM_WIDTH:u,ASPECT_RATIO:d}}=o;function f(p){return p==="default"?l.get("Default"):p}function h(){let p=o.setting.find(`aspect-ratio-${o.aspectRatio}`);o.setting.check(p)}return{width:u,name:"aspect-ratio",html:l.get("Aspect Ratio"),icon:c.aspectRatio,tooltip:f(o.aspectRatio),selector:d.map(p=>({value:p,name:`aspect-ratio-${p}`,default:p===o.aspectRatio,html:f(p)})),onSelect:p=>(o.aspectRatio=p.value,p.html),mounted:()=>{h(),o.on("aspectRatio",()=>h())}}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],aetWt:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){let{i18n:l,icons:c,constructor:{SETTING_ITEM_WIDTH:u,PLAYBACK_RATE:d}}=o;function f(p){return p===1?l.get("Normal"):p.toFixed(1)}function h(){let p=o.setting.find(`playback-rate-${o.playbackRate}`);o.setting.check(p)}return{width:u,name:"playback-rate",html:l.get("Play Speed"),tooltip:f(o.playbackRate),icon:c.playbackRate,selector:d.map(p=>({value:p,name:`playback-rate-${p}`,default:p===o.playbackRate,html:f(p)})),onSelect:p=>(o.playbackRate=p.value,p.html),mounted:()=>{h(),o.on("video:ratechange",()=>h())}}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fIBkO:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(o){let{i18n:l,icons:c,constructor:u}=o;return{width:u.SETTING_ITEM_WIDTH,name:"subtitle-offset",html:l.get("Subtitle Offset"),icon:c.subtitle,tooltip:"0s",range:[0,-10,10,.1],onChange:d=>(o.subtitleOffset=d.range[0],d.range[0]+"s"),mounted:(d,f)=>{o.on("subtitleOffset",h=>{f.$range.value=h,f.tooltip=h+"s"})}}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2aaJe":[function(t,r,s){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(i){try{let a=JSON.parse(window.localStorage.getItem(this.name))||{};return i?a[i]:a}catch{return i?this.settings[i]:this.settings}}set(i,a){try{let o=Object.assign({},this.get(),{[i]:a});window.localStorage.setItem(this.name,JSON.stringify(o))}catch{this.settings[i]=a}}del(i){try{let a=this.get();delete a[i],window.localStorage.setItem(this.name,JSON.stringify(a))}catch{delete this.settings[i]}}clear(){try{window.localStorage.removeItem(this.name)}catch{this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8MTUM":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=t("../utils"),o=t("./miniProgressBar"),l=i.interopDefault(o),c=t("./autoOrientation"),u=i.interopDefault(c),d=t("./autoPlayback"),f=i.interopDefault(d),h=t("./fastForward"),p=i.interopDefault(h),m=t("./lock"),g=i.interopDefault(m);s.default=class{constructor(v){this.art=v,this.id=0;let{option:w}=v;w.miniProgressBar&&!w.isLive&&this.add(l.default),w.lock&&a.isMobile&&this.add(g.default),w.autoPlayback&&!w.isLive&&this.add(f.default),w.autoOrientation&&a.isMobile&&this.add(u.default),w.fastForward&&a.isMobile&&!w.isLive&&this.add(p.default);for(let y=0;y<w.plugins.length;y++)this.add(w.plugins[y])}add(v){this.id+=1;let w=v.call(this.art,this.art);return w instanceof Promise?w.then(y=>this.next(v,y)):this.next(v,w)}next(v,w){let y=w&&w.name||v.name||`plugin${this.id}`;return(0,a.errorHandle)(!(0,a.has)(this,y),`Cannot add a plugin that already has the same name: ${y}`),(0,a.def)(this,y,{value:w}),this}}},{"../utils":"71aH7","./miniProgressBar":"87pSL","./autoOrientation":"ePEg5","./autoPlayback":"cVO99","./fastForward":"hFDwt","./lock":"1hsTH","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"87pSL":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){return l.on("control",c=>{c?(0,a.removeClass)(l.template.$player,"art-mini-progress-bar"):(0,a.addClass)(l.template.$player,"art-mini-progress-bar")}),{name:"mini-progress-bar"}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ePEg5:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{constructor:c,template:{$player:u,$video:d}}=l;return l.on("fullscreenWeb",f=>{if(f){let{videoWidth:h,videoHeight:p}=d,{clientWidth:m,clientHeight:g}=document.documentElement;(h>p&&m<g||h<p&&m>g)&&setTimeout(()=>{(0,a.setStyle)(u,"width",`${g}px`),(0,a.setStyle)(u,"height",`${m}px`),(0,a.setStyle)(u,"transform-origin","0 0"),(0,a.setStyle)(u,"transform",`rotate(90deg) translate(0, -${m}px)`),(0,a.addClass)(u,"art-auto-orientation"),l.isRotate=!0,l.emit("resize")},c.AUTO_ORIENTATION_TIME)}else(0,a.hasClass)(u,"art-auto-orientation")&&((0,a.removeClass)(u,"art-auto-orientation"),l.isRotate=!1,l.emit("resize"))}),l.on("fullscreen",async f=>{var p;if(!((p=screen==null?void 0:screen.orientation)!=null&&p.lock))return;let h=screen.orientation.type;if(f){let{videoWidth:m,videoHeight:g}=d,{clientWidth:v,clientHeight:w}=document.documentElement;if(m>g&&v<w||m<g&&v>w){let y=h.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(y),(0,a.addClass)(u,"art-auto-orientation-fullscreen")}}else(0,a.hasClass)(u,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(h),(0,a.removeClass)(u,"art-auto-orientation-fullscreen"))}),{name:"autoOrientation",get state(){return(0,a.hasClass)(u,"art-auto-orientation")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cVO99:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{i18n:c,icons:u,storage:d,constructor:f,proxy:h,template:{$poster:p}}=l,m=l.layers.add({name:"auto-playback",html:'<div class="art-auto-playback-close"></div><div class="art-auto-playback-last"></div><div class="art-auto-playback-jump"></div>'}),g=(0,a.query)(".art-auto-playback-last",m),v=(0,a.query)(".art-auto-playback-jump",m),w=(0,a.query)(".art-auto-playback-close",m);(0,a.append)(w,u.close);let y=null;function S(){let b=(d.get("times")||{})[l.option.id||l.option.url];clearTimeout(y),(0,a.setStyle)(m,"display","none"),b&&b>=f.AUTO_PLAYBACK_MIN&&((0,a.setStyle)(m,"display","flex"),g.innerText=`${c.get("Last Seen")} ${(0,a.secondToTime)(b)}`,v.innerText=c.get("Jump Play"),h(w,"click",()=>{(0,a.setStyle)(m,"display","none")}),h(v,"click",()=>{l.seek=b,l.play(),(0,a.setStyle)(p,"display","none"),(0,a.setStyle)(m,"display","none")}),l.once("video:timeupdate",()=>{y=setTimeout(()=>{(0,a.setStyle)(m,"display","none")},f.AUTO_PLAYBACK_TIMEOUT)}))}return l.on("video:timeupdate",()=>{if(l.playing){let b=d.get("times")||{},T=Object.keys(b);T.length>f.AUTO_PLAYBACK_MAX&&delete b[T[0]],b[l.option.id||l.option.url]=l.currentTime,d.set("times",b)}}),l.on("ready",S),l.on("restart",S),{name:"auto-playback",get times(){return d.get("times")||{}},clear:()=>d.del("times"),delete(b){let T=d.get("times")||{};return delete T[b],d.set("times",T),T}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hFDwt:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{constructor:c,proxy:u,template:{$player:d,$video:f}}=l,h=null,p=!1,m=1,g=()=>{clearTimeout(h),p&&(p=!1,l.playbackRate=m,(0,a.removeClass)(d,"art-fast-forward"))};return u(f,"touchstart",v=>{v.touches.length===1&&l.playing&&!l.isLock&&(h=setTimeout(()=>{p=!0,m=l.playbackRate,l.playbackRate=c.FAST_FORWARD_VALUE,(0,a.addClass)(d,"art-fast-forward")},c.FAST_FORWARD_TIME))}),u(document,"touchmove",g),u(document,"touchend",g),{name:"fastForward",get state(){return(0,a.hasClass)(d,"art-fast-forward")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1hsTH":[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>o);var a=t("../utils");function o(l){let{layers:c,icons:u,template:{$player:d}}=l;function f(){return(0,a.hasClass)(d,"art-lock")}function h(){(0,a.addClass)(d,"art-lock"),l.isLock=!0,l.emit("lock",!0)}function p(){(0,a.removeClass)(d,"art-lock"),l.isLock=!1,l.emit("lock",!1)}return c.add({name:"lock",mounted(m){let g=(0,a.append)(m,u.lock),v=(0,a.append)(m,u.unlock);(0,a.setStyle)(g,"display","none"),l.on("lock",w=>{w?((0,a.setStyle)(g,"display","inline-flex"),(0,a.setStyle)(v,"display","none")):((0,a.setStyle)(g,"display","none"),(0,a.setStyle)(v,"display","inline-flex"))})},click(){f()?p():h()}}),{name:"lock",get state(){return f()},set state(m){m?h():p()}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["5lTcX"],"5lTcX","parcelRequire4dc0")})(Hl,Hl.exports);var OD=Hl.exports;const gn=Vl(OD),O0=`
.artplayer-plugin-chapter .art-control-progress-inner {
    height: 100% !important;
    background-color: transparent !important;
}
.artplayer-plugin-chapter .art-control-progress-inner > .art-progress-hover,
.artplayer-plugin-chapter .art-control-progress-inner > .art-progress-loaded,
.artplayer-plugin-chapter .art-control-progress-inner > .art-progress-played {
    display: none !important;
}
.artplayer-plugin-chapter .art-control-thumbnails {
    bottom: calc(var(--art-bottom-gap) + 64px) !important;
}
.artplayer-plugin-chapter .art-chapters {
    position: absolute;
    z-index: 0;
    inset: 0;
    display: flex;
    align-items: center;
    gap: 4px;
    height: 100%;
    transform: scaleY(1.25);
}
.artplayer-plugin-chapter .art-chapters .art-chapter {
    display: flex;
    align-items: center;
    height: 100%;
}
.artplayer-plugin-chapter .art-chapters .art-chapter .art-chapter-inner {
    position: relative;
    cursor: pointer;
    width: 100%;
    height: 50%;
    border-radius: 10px;
    overflow: hidden;
    transition: height var(--art-transition-duration) ease;
    background-color: var(--art-progress-color);
}
.artplayer-plugin-chapter .art-chapters .art-chapter:hover .art-chapter-inner {
    height: 100%;
}
.artplayer-plugin-chapter .art-chapter-title {
    display: none;
    position: absolute;
    z-index: 70;
    top: -50px;
    left: 0;
    padding: 3px 5px;
    line-height: 1;
    font-size: 14px;
    border-radius: var(--art-border-radius);
    white-space: nowrap;
    background-color: var(--art-tip-background);
}
`;function lb(n={}){return e=>{const{$player:t}=e.template,{setStyle:r,append:s,clamp:i,query:a,isMobile:o,addClass:l,removeClass:c}=e.constructor.utils,u=`
                <div class="art-chapter">
                    <div class="art-chapter-inner">
                        <div class="art-progress-hover"></div>
                        <div class="art-progress-loaded"></div>
                        <div class="art-progress-played"></div>
                    </div>
                </div>
        `;let d=null,f=[];const h=e.query(".art-control-progress"),p=e.query(".art-control-progress-inner"),m=s(p,'<div class="art-chapters"></div>'),g=s(p,'<div class="art-chapter-title"></div>');function v({$chapter:y,width:S}){const b=y.dataset.title.trim();if(b){r(g,"display","flex"),g.innerText=b;const T=g.clientWidth;S<=T/2?r(g,"left",0):S>p.clientWidth-T/2?r(g,"left",`${p.clientWidth-T}px`):r(g,"left",`${S-T/2}px`)}else r(g,"display","none")}function w(y=[]){if(f=[],m.innerText="",c(t,"artplayer-plugin-chapter"),!!Array.isArray(y)&&y.length&&e.duration){y=y.sort((S,b)=>S.start-b.start);for(let S=0;S<y.length;S++){const b=y[S],T=y[S+1];if(b.end===1/0&&(b.end=e.duration),typeof b.start!="number"||typeof b.end!="number"||typeof b.title!="string")throw new Error("Illegal chapter data type");if(b.start<0||b.end>Math.ceil(e.duration)||b.start>=b.end)throw new Error("Illegal chapter time point");if(T&&b.end>T.start)throw new Error("Illegal chapter time point")}y[0].start>0&&y.unshift({start:0,end:y[0].start,title:""}),y[y.length-1].end<e.duration&&y.push({start:y[y.length-1].end,end:e.duration,title:""});for(let S=0;S<y.length-1;S++)y[S].end!==y[S+1].start&&y.splice(S+1,0,{start:y[S].end,end:y[S+1].start,title:""});f=y.map(S=>{const b=s(m,u),T=i(S.start,0,e.duration),I=i(S.end,0,e.duration),E=I-T,A=E/e.duration;return b.dataset.start=T,b.dataset.end=I,b.dataset.duration=E,b.dataset.title=S.title.trim(),b.style.width=`${A*100}%`,{$chapter:b,$hover:a(".art-progress-hover",b),$loaded:a(".art-progress-loaded",b),$played:a(".art-progress-played",b)}}),l(t,"artplayer-plugin-chapter"),e.emit("setBar","loaded",e.loaded||0)}}return e.on("setBar",(y,S,b)=>{if(f.length)for(let T=0;T<f.length;T++){const{$chapter:I,$loaded:E,$played:A,$hover:L}=f[T],k={hover:L,loaded:E,played:A}[y];if(!k)return;const R=m.clientWidth*S,N=e.duration*S,P=parseFloat(I.dataset.duration),_=parseFloat(I.dataset.start),$=parseFloat(I.dataset.end);if(N<_&&r(k,"width",0),N>$&&r(k,"width","100%"),N>=_&&N<=$){const H=(N-_)/P;r(k,"width",`${H*100}%`),o?y==="played"&&b&&(v({$chapter:I,width:R}),clearTimeout(d),d=setTimeout(()=>{r(g,"display","none")},500)):y==="hover"&&v({$chapter:I,width:R})}}}),o||e.proxy(h,"mouseleave",()=>{f.length&&r(g,"display","none")}),e.once("video:loadedmetadata",()=>w(n.chapters)),{name:"artplayerPluginChapter",update:({chapters:y})=>w(y)}}}if(typeof document<"u"){const n="artplayer-plugin-chapter",e=document.getElementById(n);if(e)e.textContent=O0;else{const t=document.createElement("style");t.id=n,t.textContent=O0,document.head.appendChild(t)}}typeof window<"u"&&(window.artplayerPluginChapter=lb);function MD(n){function e(t){if(!Array.isArray(t))throw new TypeError("Option must be an array of time ranges");t.forEach((r,s)=>{if(!Array.isArray(r)||r.length!==2)throw new TypeError(`Range at index ${s} must be an array of two numbers`);const[i,a]=r;if(typeof i!="number"||typeof a!="number"&&a!==1/0)throw new TypeError(`Range at index ${s} must contain valid numbers or Infinity`);if(i>a&&a!==1/0)throw new RangeError(`In range at index ${s}, start time must be less than end time`);if(s>0){const o=t[s-1][1];if(o!==1/0&&i<=o)throw new RangeError(`Range at index ${s} overlaps with the previous range`)}})}return e(n),t=>{let r=n;function s(){const a=t.duration;r=r.map(([o,l])=>[o,l===1/0?a:l])}function i(){const a=t.currentTime;for(const[o,l]of r)if(a>=o&&a<l){t.seek=l;break}}return t.on("video:timeupdate",i),t.on("video:loadedmetadata",s),{name:"autoSkip",update(a=[]){e(a),r=a,s()}}}}function FD(n,e,t){return n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=t.repeat(e/t.length)),String(n)+t.slice(0,e))}function M0(n){var e=n.split("."),t=e[0].split(":")||[],r=FD(e[1]||"0",3,"0"),s=Number(r)/1e3,i=Number(t[t.length-3]||0)*3600,a=Number(t[t.length-2]||0)*60,o=Number(t[t.length-1]||0);return i+a+o+s}async function jD(n=""){let t=(await(await fetch(n)).text()).split(/\r?\n/).filter(l=>l.trim());const r=[],s=t[0].trim().toUpperCase()==="WEBVTT";let i=0,a=2;const o=/^\d+$/;if(!s&&o.test(t[0].trim()))a=3,i=1;else if(s){const l=t[1];l&&o.test(l.trim())?(a=3,i=2):(i=1,a=2)}for(let l=i;l<t.length;l+=a){const c=t[l],u=t[l+1];if(!u.trim())continue;const d=/((?:[0-9]{2}:)?(?:[0-9]{2}:)?[0-9]{2}(?:.[0-9]{3})?)(?: ?--> ?)((?:[0-9]{2}:)?(?:[0-9]{2}:)?[0-9]{2}(?:.[0-9]{3})?)/,f=c.match(d);if(!f)continue;const h=/(.*)#(\w{4})=(.*)/i,p=u.match(h),m=Math.floor(M0(f[1])),g=Math.floor(M0(f[2]));let v=p[1];if(!/^\/|((https?|ftp|file):\/\/)/i.test(v)){const T=n.split("/");T.pop(),T.push(v),v=T.join("/")}const y={start:m,end:g,url:v},S=p[2].split(""),b=p[3].split(",");for(let T=0;T<S.length;T++)y[S[T]]=b[T];r.push(y)}return r}function $D(n){return async e=>{const{constructor:{utils:{setStyle:t,isMobile:r,addClass:s}},template:{$progress:i}}=e;let a=null;const o=await jD(n.vtt);function l(c,u,d){t(c,"backgroundImage",`url(${u.url})`),t(c,"height",`${u.h}px`),t(c,"width",`${u.w}px`),t(c,"backgroundPosition",`-${u.x}px -${u.y}px`),d<=u.w/2?t(c,"left",0):d>i.clientWidth-u.w/2?t(c,"left",`${i.clientWidth-u.w}px`):t(c,"left",`${d-u.w/2}px`)}return e.controls.add({name:"vtt-thumbnail",position:"top",index:20,style:n.style||{},mounted(c){s(c,"art-control-thumbnails"),e.on("setBar",async(u,d,f)=>{const h=u==="played"&&f&&r;if(u==="hover"||h){const p=i.clientWidth*d,m=d*e.duration;t(c,"display","flex");const g=o.find(v=>m>=v.start&&m<=v.end);if(!g)return t(c,"display","none");p>0&&p<i.clientWidth?l(c,g,p):r||t(c,"display","none"),h&&(clearTimeout(a),a=setTimeout(()=>{t(c,"display","none")},500))}})}}),{name:"artplayerPluginVttThumbnail"}}}const BD=`<svg viewBox="-5 -10 75 75" xmlns="http://www.w3.org/2000/svg" width="35" height="35">
<path d="M11.9199 45H7.20508V26.5391L2.60645 28.3154V24.3975L11.4219 20.7949H11.9199V45ZM30.1013 35.0059C30.1013 38.3483 29.4926 40.9049 28.2751 42.6758C27.0687 44.4466 25.3422 45.332 23.0954 45.332C20.8708 45.332 19.1498 44.4743 17.9323 42.7588C16.726 41.0322 16.1006 38.5641 16.0564 35.3545V30.7891C16.0564 27.4577 16.6596 24.9121 17.8659 23.1523C19.0723 21.3815 20.8044 20.4961 23.0622 20.4961C25.32 20.4961 27.0521 21.3704 28.2585 23.1191C29.4649 24.8678 30.0792 27.3636 30.1013 30.6064V35.0059ZM25.3864 30.1084C25.3864 28.2048 25.1983 26.777 24.822 25.8252C24.4457 24.8734 23.8591 24.3975 23.0622 24.3975C21.5681 24.3975 20.7933 26.1406 20.738 29.627V35.6533C20.738 37.6012 20.9262 39.0511 21.3025 40.0029C21.6898 40.9548 22.2875 41.4307 23.0954 41.4307C23.8591 41.4307 24.4236 40.988 24.7888 40.1025C25.1651 39.2061 25.3643 37.8392 25.3864 36.002V30.1084Z" fill="white"/>
<path d="M11.9894 5.45398V0L2 7.79529L11.9894 15.5914V10.3033H47.0886V40.1506H33.2442V45H52V5.45398H11.9894Z" fill="white"/>
</svg>`,UD=`
                        <svg viewBox="-5 -10 75 75" xmlns="http://www.w3.org/2000/svg" width="35" height="35">
<path d="M29.9199 45H25.2051V26.5391L20.6064 28.3154V24.3975L29.4219 20.7949H29.9199V45ZM48.1013 35.0059C48.1013 38.3483 47.4926 40.9049 46.2751 42.6758C45.0687 44.4466 43.3422 45.332 41.0954 45.332C38.8708 45.332 37.1498 44.4743 35.9323 42.7588C34.726 41.0322 34.1006 38.5641 34.0564 35.3545V30.7891C34.0564 27.4577 34.6596 24.9121 35.8659 23.1523C37.0723 21.3815 38.8044 20.4961 41.0622 20.4961C43.32 20.4961 45.0521 21.3704 46.2585 23.1191C47.4649 24.8678 48.0792 27.3636 48.1013 30.6064V35.0059ZM43.3864 30.1084C43.3864 28.2048 43.1983 26.777 42.822 25.8252C42.4457 24.8734 41.8591 24.3975 41.0622 24.3975C39.5681 24.3975 38.7933 26.1406 38.738 29.627V35.6533C38.738 37.6012 38.9262 39.0511 39.3025 40.0029C39.6898 40.9548 40.2875 41.4307 41.0954 41.4307C41.8591 41.4307 42.4236 40.988 42.7888 40.1025C43.1651 39.2061 43.3643 37.8392 43.3864 36.002V30.1084Z" fill="white"/>
<path d="M40.0106 5.45398V0L50 7.79529L40.0106 15.5914V10.3033H4.9114V40.1506H18.7558V45H2.01875e-06V5.45398H40.0106Z" fill="white"/>
</svg>`,zD=`<svg viewBox="0 0 512 512" width="30" height="30">
  <path d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"/>
</svg>`,HD=`<svg viewBox="0 0 512 512" width="30" height="30" transform="scale(-1, 1)">
  <path d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"/>
</svg>`,GD='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="24" height="24"><path d="M116.5,42.8v154.4c0,2.8-1.7,3.6-3.8,1.7l-54.1-48H29c-2.8,0-5.2-2.3-5.2-5.2V94.3c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48C114.8,39.2,116.5,39.9,116.5,42.8z"/><path d="M136.2,160v-20c11.1,0,20-8.9,20-20s-8.9-20-20-20V80c22.1,0,40,17.9,40,40S158.3,160,136.2,160z"/><path d="M216.2,120c0-44.2-35.8-80-80-80v20c33.1,0,60,26.9,60,60s-26.9,60-60,60v20C180.4,199.9,216.1,164.1,216.2,120z" fill="#fff"/></svg>',VD=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="24" height="24">
    <path d="M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.6,39.1,116.4,39.9,116.4,42.8z M212.3,96.4l-14.6-14.6l-23.6,23.6l-23.6-23.6l-14.6,14.6l23.6,23.6l-23.6,23.6l14.6,14.6l23.6-23.6l23.6,23.6l14.6-14.6L188.7,120L212.3,96.4z"
    fill="#fff"/>
</svg>
`,WD=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 16 240 240" width="28" height="28">
    <path d="M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z M108.1,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C90.4,141.7,102,143.5,108.1,137.7z M152.9,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C135.2,141.7,146.8,143.5,152.9,137.7z"
    fill="#fff"/>
</svg>
`,KD='<svg width="80" height="80" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_l9ve{animation:spinner_rcyq 1.2s cubic-bezier(0.52,.6,.25,.99) infinite}.spinner_cMYp{animation-delay:.4s}.spinner_gHR3{animation-delay:.8s}@keyframes spinner_rcyq{0%{transform:translate(12px,12px) scale(0);opacity:1}100%{transform:translate(0,0) scale(1);opacity:0}}</style><path class="spinner_l9ve" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,20a9,9,0,1,1,9-9A9,9,0,0,1,12,21Z" transform="translate(12, 12) scale(0)"/><path class="spinner_l9ve spinner_cMYp" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,20a9,9,0,1,1,9-9A9,9,0,0,1,12,21Z" transform="translate(12, 12) scale(0)"/><path class="spinner_l9ve spinner_gHR3" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,20a9,9,0,1,1,9-9A9,9,0,0,1,12,21Z" transform="translate(12, 12) scale(0)"/></svg>',YD=`<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M20 5.125V9.125H22V4.155C22 3.58616 21.5389 3.125 20.97 3.125H2.03C1.46116 3.125 1 3.58613 1 4.155V17.095C1 17.6639 1.46119 18.125 2.03 18.125H12V16.125H3V5.125H20ZM14 11.875C14 11.3227 14.4477 10.875 15 10.875H22C22.5523 10.875 23 11.3227 23 11.875V17.875C23 18.4273 22.5523 18.875 22 18.875H15C14.4477 18.875 14 18.4273 14 17.875V11.875ZM6 12.375L7.79289 10.5821L5.29288 8.0821L6.7071 6.66788L9.20711 9.16789L11 7.375V12.375H6Z" fill="white"/>
</svg>`,qD='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="80" height="80"><path d="M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z" fill="white"/></svg>',XD='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="24" height="24"><path d="M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z"/></svg>',QD='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="24" height="24"><path d="M100,194.9c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0H65c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V45c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h30c2.6-0.2,4.8,1.8,5,4.4c0,0.2,0,0.4,0,0.6V194.9z M180,45.1c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6V195c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V45.1z"/></svg>',JD=`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="24" height="24"><path d="M204,145l-25-14c0.8-3.6,1.2-7.3,1-11c0.2-3.7-0.2-7.4-1-11l25-14c2.2-1.6,3.1-4.5,2-7l-16-26c-1.2-2.1-3.8-2.9-6-2l-25,14c-6-4.2-12.3-7.9-19-11V35c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v28c-6.7,3.1-13,6.7-19,11L56,60c-2.2-0.9-4.8-0.1-6,2L35,88c-1.6,2.2-1.3,5.3,0.9,6.9c0,0,0.1,0,0.1,0.1l25,14c-0.8,3.6-1.2,7.3-1,11c-0.2,3.7,0.2,7.4,1,11l-25,14c-2.2,1.6-3.1,4.5-2,7l16,26c1.2,2.1,3.8,2.9,6,2l25-14c5.7,4.6,12.2,8.3,19,11v28c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6v-28c7-2.3,13.5-6,19-11l25,14c2.5,1.3,5.6,0.4,7-2l15-26C206.7,149.4,206,146.7,204,145z M120,149.9c-16.5,0-30-13.4-30-30s13.4-30,30-30s30,13.4,30,30c0.3,16.3-12.6,29.7-28.9,30C120.7,149.9,120.4,149.9,120,149.9z"/></svg>`,ZD='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="24" height="24"><path d="M96.3,186.1c1.9,1.9,1.3,4-1.4,4.4l-50.6,8.4c-1.8,0.5-3.7-0.6-4.2-2.4c-0.2-0.6-0.2-1.2,0-1.7l8.4-50.6c0.4-2.7,2.4-3.4,4.4-1.4l14.5,14.5l28.2-28.2l14.3,14.3l-28.2,28.2L96.3,186.1z M195.8,39.1l-50.6,8.4c-2.7,0.4-3.4,2.4-1.4,4.4l14.5,14.5l-28.2,28.2l14.3,14.3l28.2-28.2l14.5,14.5c1.9,1.9,4,1.3,4.4-1.4l8.4-50.6c0.5-1.8-0.6-3.6-2.4-4.2C197,39,196.4,39,195.8,39.1L195.8,39.1z" fill="#fff"/></svg>',eP='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240"width="24" height="24" ><path d="M109.2,134.9l-8.4,50.1c-0.4,2.7-2.4,3.3-4.4,1.4L82,172l-27.9,27.9l-14.2-14.2l27.9-27.9l-14.4-14.4c-1.9-1.9-1.3-3.9,1.4-4.4l50.1-8.4c1.8-0.5,3.6,0.6,4.1,2.4C109.4,133.7,109.4,134.3,109.2,134.9L109.2,134.9z M172.1,82.1L200,54.2L185.8,40l-27.9,27.9l-14.4-14.4c-1.9-1.9-3.9-1.3-4.4,1.4l-8.4,50.1c-0.5,1.8,0.6,3.6,2.4,4.1c0.5,0.2,1.2,0.2,1.7,0l50.1-8.4c2.7-0.4,3.3-2.4,1.4-4.4L172.1,82.1z"/></svg>',tP=`<p style="display: flex; gap: 7px; align-items: center; background-color:#1F2020; padding:5px;padding-inline:7px; border-radius:5px">
    <b style="color: #ffbade;">Powered by</b>
    <span style="font-size: 14px;">
        Zen<span style="color: #ffbade;">!</span>me
    </span>
</p>
`;function nP(n,e){let t=`
        .art-chapters {
            gap: 0px !important;
        }
    `;return n&&e&&(n.start===0&&n.end===0&&e.start===0&&e.end===0?t+="":n.start===0&&n.end===0&&e.start!==0&&e.end!==0?t+=`
                .art-chapter:nth-child(2) {
                    background-color: #fdd253;
                    transform: scaleY(0.6);
                }
            `:n.start===0&&n.end!==0&&e.start===0&&e.end===0?t+=`
                .art-chapter:nth-child(1){
                    background-color: #fdd253;
                    transform: scaleY(0.6);
                }
            `:n.start===0&&n.end!==0&&e.start!==0&&e.end!==0?t+=`
                .art-chapter:nth-child(1), 
                .art-chapter:nth-child(3) {
                    background-color: #fdd253;
                    transform: scaleY(0.6);
                }
            `:n.start!==0&&n.end!==0&&e.start===0&&e.end===0?t+=`
                .art-chapter:nth-child(2) {
                    background-color: #fdd253;
                    transform: scaleY(0.6);
                }
            `:n.start!==0&&n.end!==0&&e.start!==0&&e.end!==0&&(t+=`
                .art-chapter:nth-child(2),
                .art-chapter:nth-child(4) {
                    background-color: #fdd253;
                    transform: scaleY(0.6);
                }
            `)),t}var Gl={exports:{}};Gl.exports;(function(n,e){/*!
 * artplayer-plugin-hls-control.js v1.0.1
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2024 Harvey Zack
 * Released under the MIT License.
 */(function(t,r,s,i,a){var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Vo<"u"?Vo:{},l=typeof o[i]=="function"&&o[i],c=l.cache||{},u=typeof zl=="function"&&zl.bind(n);function d(p,m){if(!c[p]){if(!t[p]){var g=typeof o[i]=="function"&&o[i];if(!m&&g)return g(p,!0);if(l)return l(p,!0);if(u&&typeof p=="string")return u(p);var v=Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}y.resolve=function(S){var b=t[p][1][S];return b??S},y.cache={};var w=c[p]=new d.Module(p);t[p][0].call(w.exports,y,w,w.exports,this)}return c[p].exports;function y(S){var b=y.resolve(S);return b===!1?{}:d(b)}}d.isParcelRequire=!0,d.Module=function(p){this.id=p,this.bundle=d,this.exports={}},d.modules=t,d.cache=c,d.parent=l,d.register=function(p,m){t[p]=[function(g,v){v.exports=m},{}]},Object.defineProperty(d,"root",{get:function(){return o[i]}}),o[i]=d;for(var f=0;f<r.length;f++)d(r[f]);{var h=d(s);n.exports=h}})({haa6A:[function(t,r,s){var i=t("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>d);var a=t("bundle-text:./quality.svg"),o=i.interopDefault(a),l=t("bundle-text:./audio.svg"),c=i.interopDefault(l);function u(f,h){let p=new Map;return f.filter(m=>{let g=m[h];return g===void 0||!p.has(g)&&p.set(g,1)})}function d(f={}){return h=>{let{$video:p}=h.template,{errorHandle:m}=h.constructor.utils;function g(){var v;m(((v=h.hls)==null?void 0:v.media)===p,'Cannot find instance of HLS from "art.hls"'),function(w){if(!w.levels.length)return;let y=f.quality||{},S=y.auto||"Auto",b=y.title||"Quality",T=y.getName||(k=>k.name||k.height+"P"),I=w.levels[w.currentLevel],E=I?T(I):S,A=u(w.levels.map((k,R)=>({html:T(k,R),value:R,default:w.currentLevel===R})),"html").sort((k,R)=>R.value-k.value);A.push({html:S,value:-1,default:w.currentLevel===-1});let L=k=>(w.currentLevel=k.value,h.notice.show=`${b}: ${k.html}`,y.control&&h.controls.check(k),y.setting&&h.setting.check(k),k.html);y.control&&h.controls.update({name:"hls-quality",position:"right",html:E,style:{padding:"0 10px"},selector:A,onSelect:L}),y.setting&&h.setting.update({name:"hls-quality",tooltip:E,html:b,icon:o.default,width:200,selector:A,onSelect:L})}(h.hls),function(w){if(!w.audioTracks.length)return;let y=f.audio||{},S=y.auto||"Auto",b=y.title||"Audio",T=y.getName||(k=>k.name||k.lang||k.language),I=w.audioTracks[w.audioTrack],E=I?T(I):S,A=u(w.audioTracks.map((k,R)=>({html:T(k,R),value:k.id,default:w.audioTrack===k.id})),"html"),L=k=>(w.audioTrack=k.value,h.notice.show=`${b}: ${k.html}`,y.control&&h.controls.check(k),y.setting&&h.setting.check(k),k.html);y.control&&h.controls.update({name:"hls-audio",position:"right",html:E,style:{padding:"0 10px"},selector:A,onSelect:L}),y.setting&&h.setting.update({name:"hls-audio",tooltip:E,html:b,icon:c.default,width:200,selector:A,onSelect:L})}(h.hls)}return h.on("ready",g),h.on("restart",g),{name:"artplayerPluginHlsControl",update:g}}}typeof window<"u"&&(window.artplayerPluginHlsControl=d)},{"bundle-text:./quality.svg":"5aI3W","bundle-text:./audio.svg":"kbgg8","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aI3W":[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="18"><path fill="#fff" d="M0 96c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v320c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm323.8 106.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6-26.5-33.1c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4S78.8 416 88 416h336c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"/></svg>'},{}],kbgg8:[function(t,r,s){r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="18"><path fill="#fff" d="M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6 26.5 0 48 21.5 48 48v128c0 26.5-21.5 48-48 48-44.2 0-80-35.8-80-80V288C0 146.6 114.6 32 256 32s256 114.6 256 256v112c0 44.2-35.8 80-80 80-26.5 0-48-21.5-48-48V304c0-26.5 21.5-48 48-48 10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"/></svg>'},{}],"9pCYc":[function(t,r,s){s.interopDefault=function(i){return i&&i.__esModule?i:{default:i}},s.defineInteropFlag=function(i){Object.defineProperty(i,"__esModule",{value:!0})},s.exportAll=function(i,a){return Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:function(){return i[o]}})}),a},s.export=function(i,a,o){Object.defineProperty(i,a,{enumerable:!0,get:o})}},{}]},["haa6A"],"haa6A","parcelRequire4dc0")})(Gl,Gl.exports);var rP=Gl.exports;const sP=Vl(rP);gn.LOG_VERSION=!1;gn.CONTEXTMENU=!1;const Bn={M:"m",I:"i",F:"f",V:"v",SPACE:" ",ARROW_UP:"arrowup",ARROW_DOWN:"arrowdown",ARROW_RIGHT:"arrowright",ARROW_LEFT:"arrowleft"};function iP({streamUrl:n,subtitles:e,thumbnail:t,intro:r,outro:s,autoSkipIntro:i,autoPlay:a,autoNext:o,episodeId:l,episodes:c,playNext:u}){const d=D.useRef(null),f="https://goodproxy.eren-yeager-founding-titan-9.workers.dev/fetch?url=",h="https://goodproxy.eren-yeager-founding-titan-9.workers.dev/fetch?url=".split(",")||[],[p,m]=D.useState(0),[g,v]=D.useState(c==null?void 0:c.findIndex(b=>{var T;return((T=b.id.match(/ep=(\d+)/))==null?void 0:T[1])===l}));D.useEffect(()=>{m(0)},[l]),D.useEffect(()=>{if((c==null?void 0:c.length)>0){const b=c.findIndex(T=>{var I;return((I=T.id.match(/ep=(\d+)/))==null?void 0:I[1])===l});v(b)}},[l,c]),D.useEffect(()=>{const b=()=>{document.querySelectorAll("style[data-chapter-styles]").forEach(A=>A.remove());const I=document.createElement("style");I.setAttribute("data-chapter-styles","true");const E=nP(r,s);return I.textContent=E,document.head.appendChild(I),()=>{I.remove()}};if(n||r||s)return b()},[n,r,s]);const w=(b,T,I)=>{if(Sr.isSupported()){I.hls&&I.hls.destroy();const E=new Sr;E.loadSource(T),E.attachMedia(b),I.hls=E,I.on("destroy",()=>E.destroy()),b.addEventListener("timeupdate",()=>{var k;const A=Math.round(b.currentTime),L=Math.round(b.duration);L>0&&A>=L&&(I.pause(),g<(c==null?void 0:c.length)-1&&o&&u((k=c[g+1].id.match(/ep=(\d+)/))==null?void 0:k[1]))})}else b.canPlayType("application/vnd.apple.mpegurl")?(b.src=T,b.addEventListener("timeupdate",()=>{var L;const E=Math.round(b.currentTime),A=Math.round(b.duration);A>0&&E>=A&&(I.pause(),g<(c==null?void 0:c.length)-1&&o&&u((L=c[g+1].id.match(/ep=(\d+)/))==null?void 0:L[1]))})):console.log("Unsupported playback format: m3u8")},y=()=>{const b=[];return((r==null?void 0:r.start)!==0||(r==null?void 0:r.end)!==0)&&b.push({start:r.start,end:r.end,title:"intro"}),((s==null?void 0:s.start)!==0||(s==null?void 0:s.end)!==0)&&b.push({start:s.start,end:s.end,title:"outro"}),b},S=(b,T)=>{const I=b.target.tagName.toLowerCase();if(!(I==="input"||I==="textarea"))switch(b.key.toLowerCase()){case Bn.M:T.muted=!T.muted;break;case Bn.I:T.pip=!T.pip;break;case Bn.F:b.preventDefault(),b.stopPropagation(),T.fullscreen=!T.fullscreen;break;case Bn.V:b.preventDefault(),b.stopPropagation(),T.subtitle.show=!T.subtitle.show;break;case Bn.SPACE:b.preventDefault(),b.stopPropagation(),T.playing?T.pause():T.play();break;case Bn.ARROW_UP:b.preventDefault(),b.stopPropagation(),T.volume=Math.min(T.volume+.1,1);break;case Bn.ARROW_DOWN:b.preventDefault(),b.stopPropagation(),T.volume=Math.max(T.volume-.1,0);break;case Bn.ARROW_RIGHT:b.preventDefault(),b.stopPropagation(),T.currentTime=Math.min(T.currentTime+10,T.duration);break;case Bn.ARROW_LEFT:b.preventDefault(),b.stopPropagation(),T.currentTime=Math.max(T.currentTime-10,0);break}};return D.useEffect(()=>{if(!n||!d.current)return;const b=new gn({url:h[Math.floor(Math.random()*(h==null?void 0:h.length))]+n,container:d.current,type:"m3u8",autoplay:a,volume:1,setting:!0,playbackRate:!0,pip:!0,hotkey:!1,fullscreen:!0,mutex:!0,playsInline:!0,lock:!0,airplay:!0,autoOrientation:!0,fastForward:!0,aspectRatio:!0,subtitleOffset:!0,plugins:[sP({quality:{setting:!0,getName:T=>T.height+"P",title:"Quality",auto:"Auto"}}),lb({chapters:y()})],subtitle:{style:{"font-weight":"400",height:"fit-content",minWidth:"fit-content",marginInline:"auto","margin-top":"auto","margin-bottom":"2rem",left:"50%",transform:"translateX(-50%)",color:"#fff"},escape:!1},layers:[{name:St,html:tP,tooltip:St,style:{opacity:1,position:"absolute",top:"5px",right:"5px",transition:"opacity 0.5s ease-out"}},{html:"",style:{position:"absolute",left:"50%",top:0,width:"20%",height:"100%",transform:"translateX(-50%)"},disable:!gn.utils.isMobile,click:function(){b.toggle()}},{name:"rewind",html:"",style:{position:"absolute",left:0,top:0,width:"40%",height:"100%"},disable:!gn.utils.isMobile,click:()=>{b.controls.show=!b.controls.show}},{name:"forward",html:"",style:{position:"absolute",right:0,top:0,width:"40%",height:"100%"},disable:!gn.utils.isMobile,click:()=>{b.controls.show=!b.controls.show}},{name:"backwardIcon",html:HD,style:{position:"absolute",left:"25%",top:"50%",transform:"translate(50%,-50%)",opacity:0,transition:"opacity 0.5s ease-in-out"},disable:!gn.utils.isMobile},{name:"forwardIcon",html:zD,style:{position:"absolute",right:"25%",top:"50%",transform:"translate(50%, -50%)",opacity:0,transition:"opacity 0.5s ease-in-out"},disable:!gn.utils.isMobile}],controls:[{html:BD,position:"right",tooltip:"Backward 10s",click:()=>{b.currentTime=Math.max(b.currentTime-10,0)}},{html:UD,position:"right",tooltip:"Forward 10s",click:()=>{b.currentTime=Math.min(b.currentTime+10,b.duration)}}],icons:{play:XD,pause:QD,setting:JD,volume:GD,pip:YD,volumeClose:VD,state:qD,loading:KD,fullscreenOn:ZD,fullscreenOff:eP},customType:{m3u8:w}});return b.on("resize",()=>{b.subtitle.style({fontSize:(b.width>500?b.width*.02:b.width*.03)+"px"})}),b.on("ready",()=>{var k;b.currentTime=p,setTimeout(()=>{b.layers[St].style.opacity=0},2e3),b.on("video:progress",()=>{m(b.currentTime)});const T=[...r.start!=null&&r.end!=null?[[r.start+1,r.end-1]]:[],...s.start!=null&&s.end!=null?[[s.start+1,s.end]]:[]];document.addEventListener("keydown",R=>S(R,b)),b.subtitle.style({fontSize:(b.width>500?b.width*.02:b.width*.03)+"px"}),t&&b.plugins.add($D({vtt:`${f}${t}`}));const I=e.find(R=>R.label.toLowerCase()==="english"&&R.default)||e.find(R=>R.label.toLowerCase()==="english");e&&e.length>0&&b.setting.add({name:"captions",icon:WD,html:"Subtitle",tooltip:((k=e.find(R=>R.label.toLowerCase()==="english"))==null?void 0:k.label)||"default",position:"right",selector:[{html:"Display",switch:!0,onSwitch:function(R){return R.tooltip=R.switch?"Hide":"Show",b.subtitle.show=!R.switch,!R.switch}},...e.map(R=>({default:R.label.toLowerCase()==="english"&&R===I,html:R.label,url:R.file}))],onSelect:function(R){return b.subtitle.switch(R.url,{name:R.html}),R.html}}),i&&b.plugins.add(MD(T));const E=e==null?void 0:e.find(R=>R.label.toLowerCase()==="english");E&&b.subtitle.switch(E.file,{name:E.label,default:!0});const A=b.layers.rewind,L=b.layers.forward;gn.utils.isMobile&&b.proxy(A,"dblclick",()=>{b.currentTime=Math.max(0,b.currentTime-10),b.layers.backwardIcon.style.opacity=1,setTimeout(()=>{b.layers.backwardIcon.style.opacity=0},300)}),gn.utils.isMobile&&b.proxy(L,"dblclick",()=>{b.currentTime=Math.max(0,b.currentTime+10),b.layers.forwardIcon.style.opacity=1,setTimeout(()=>{b.layers.forwardIcon.style.opacity=0},300)})}),()=>{b&&b.destroy&&b.destroy(!1)}},[n,e,r,s]),x.jsx("div",{ref:d,className:"w-full h-full"})}function aP({episodes:n,onEpisodeClick:e,currentEpisode:t,totalEpisodes:r}){const[s,i]=D.useState(t),{language:a}=un(),o=D.useRef(null),l=D.useRef(null),[c,u]=D.useState(!1),[d,f]=D.useState([1,100]),[h,p]=D.useState("1-100"),[m,g]=D.useState(t),v=D.useRef(null),[w,y]=D.useState(null),S=()=>{if(l.current&&o.current){const A=o.current,L=l.current,k=A.getBoundingClientRect().top,R=A.clientHeight,N=L.getBoundingClientRect().top,P=L.clientHeight,_=N-k;A.scrollTop=A.scrollTop+_-R/2+P/2}};D.useEffect(()=>{i(m)},[m]),D.useEffect(()=>{S()},[s]),D.useEffect(()=>{const A=L=>{v.current&&!v.current.contains(L.target)&&u(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);function b(A){const L=A.target.value;if(L.trim()===""){const k=T(1);f(k),p(`${k[0]}-${k[1]}`),y(null)}else if(!L||isNaN(L))y(null);else if(!isNaN(L)&&parseInt(L,10)>r&&m!==null){const k=T(m);f(k),p(`${k[0]}-${k[1]}`),y(null)}else if(!isNaN(L)&&L.trim()!==""){const k=parseInt(L,10),R=n.find(N=>(N==null?void 0:N.episode_no)===k);if(R){const N=T(k);f(N),p(`${N[0]}-${N[1]}`),y(R==null?void 0:R.id)}}else y(null)}function T(A){const k=Math.floor((A-1)/100)*100+1,R=Math.min(k+100-1,r);return[k,R]}function I(A){const L=[];for(let R=0;R<A;R+=100){const N=R+1,P=Math.min(R+100,A);L.push(`${N}-${P}`)}return L}D.useEffect(()=>{if(t&&m&&(m<d[0]||m>d[1])){const A=T(m);f(A),p(`${A[0]}-${A[1]}`)}},[t,r,m]);const E=A=>{const[L,k]=A.split("-").map(Number);f([L,k])};return D.useEffect(()=>{const A=n.find(L=>{var k;return((k=L==null?void 0:L.id.match(/ep=(\d+)/))==null?void 0:k[1])===s});A&&g(A==null?void 0:A.episode_no)},[s,n]),x.jsxs("div",{className:"relative flex flex-col w-full h-full max-[1200px]:max-h-[500px]",children:[x.jsxs("div",{className:"sticky top-0 z-10 flex flex-col gap-y-[5px] justify-start px-3 py-4 bg-[#0D0D15]",children:[x.jsx("h1",{className:"text-[13px] font-bold",children:"List of episodes:"}),r>100&&x.jsxs("div",{className:"w-full flex gap-x-4 items-center max-[1200px]:justify-between",children:[x.jsx("div",{className:"min-w-fit flex text-[13px]",children:x.jsxs("div",{onClick:()=>u(A=>!A),className:"text-white w-fit mt-1 text-[13px] relative cursor-pointer bg-[#0D0D15] flex justify-center items-center",ref:v,children:[x.jsx(oe,{icon:Ak}),x.jsxs("div",{className:"w-fit flex justify-center items-center gap-x-2 ml-4",children:[x.jsxs("p",{className:"text-white text-[12px]",children:["EPS:",d[0],"-",d[1]]}),x.jsx(oe,{icon:Dk,className:"mt-[2px] text-[10px]"})]}),c&&x.jsx("div",{className:"absolute flex flex-col top-full mt-[10px] left-0 z-30 bg-white w-[150px] max-h-[200px] overflow-y-auto rounded-l-[8px]",children:I(r).map((A,L)=>x.jsx("div",{onClick:()=>{E(A),p(A)},className:`hover:bg-gray-200 cursor-pointer text-black ${A===h?"bg-[#EFF0F4]":""}`,children:x.jsxs("p",{className:"font-semibold text-[12px] p-3 flex justify-between items-center",children:["EPS:",A,A===h?x.jsx(oe,{icon:jk}):null]})},L))})]})}),x.jsxs("div",{className:"border-[1px] border-[#ffffff34] rounded-sm py-[4px] px-[8px] flex items-center gap-x-[10px]",children:[x.jsx(oe,{icon:Wh,className:"text-[11px]"}),x.jsx("input",{type:"text",className:"w-full bg-transparent focus:outline-none rounded-sm text-[13px] font-bold placeholder:text-[12px] placeholder:font-medium",placeholder:"Number of Ep",onChange:b})]})]})]}),x.jsx("div",{ref:o,className:"w-full h-full overflow-y-auto",children:x.jsx("div",{className:`${r>30?"p-3 grid grid-cols-5 gap-1 max-[1200px]:grid-cols-12 max-[860px]:grid-cols-10 max-[575px]:grid-cols-8 max-[478px]:grid-cols-6 max-[350px]:grid-cols-5":""}`,children:r>30?n.slice(d[0]-1,d[1]).map((A,L)=>{var P;const k=(P=A==null?void 0:A.id.match(/ep=(\d+)/))==null?void 0:P[1],R=s===k||t===k,N=w===(A==null?void 0:A.id);return x.jsx("div",{ref:R?l:null,className:`flex items-center justify-center rounded-[3px] h-[30px] text-[13.5px] font-medium cursor-pointer group ${A!=null&&A.filler?R?"bg-[#ffbade]":"bg-gradient-to-r from-[#5a4944] to-[#645a4b]":""} md:hover:bg-[#67686F] 
                          md:hover:text-white
                       ${R?"bg-[#ffbade] text-black":"bg-[#35373D] text-gray-400"} ${N?"glow-animation":""} `,onClick:()=>{k&&(e(k),i(k),y(null))},children:x.jsx("span",{className:`${A!=null&&A.filler?"text-white md:group-hover:text-[#ffbade]":""}`,children:L+d[0]})},A==null?void 0:A.id)}):n==null?void 0:n.map((A,L)=>{var P;const k=(P=A==null?void 0:A.id.match(/ep=(\d+)/))==null?void 0:P[1],R=s===k||t===k,N=w===(A==null?void 0:A.id);return x.jsxs("div",{ref:R?l:null,className:`w-full pl-5 pr-2 py-3 flex items-center justify-start gap-x-8 cursor-pointer ${(L+1)%2&&!R?"bg-[#201F2D] text-gray-400":"bg-none"} group md:hover:bg-[#2B2A42] ${R?"text-[#ffbade] bg-[#2B2A42]":""} ${N?"glow-animation":""}`,onClick:()=>{k&&(e(k),i(k),y(null))},children:[x.jsx("p",{className:"text-[14px] font-medium",children:L+1}),x.jsxs("div",{className:"w-full flex items-center justify-between gap-x-[5px]",children:[x.jsx("h1",{className:"line-clamp-1 text-[15px] font-light group-hover:text-[#ffbade]",children:a==="EN"?A==null?void 0:A.title:A==null?void 0:A.japanese_title}),R&&x.jsx(oe,{icon:kk,className:"w-[20px] h-[20px] text-[#ffbade]"})]})]},A==null?void 0:A.id)})})})]})}function oP({servers:n,activeEpisodeNum:e,activeServerId:t,setActiveServerId:r,serverLoading:s}){const i=(n==null?void 0:n.filter(o=>o.type==="sub"))||[],a=(n==null?void 0:n.filter(o=>o.type==="dub"))||[];return x.jsx("div",{className:"relative bg-[#11101A] p-4 w-full min-h-[100px] flex justify-center items-center max-[1200px]:bg-[#14151A]",children:s?x.jsx("div",{className:"w-full h-full rounded-lg flex justify-center items-center max-[600px]:rounded-none",children:x.jsx(si,{})}):n?x.jsxs("div",{className:"w-full h-full rounded-lg grid grid-cols-[minmax(0,30%),minmax(0,70%)] overflow-hidden max-[800px]:grid-cols-[minmax(0,40%),minmax(0,60%)] max-[600px]:flex max-[600px]:flex-col max-[600px]:rounded-none",children:[x.jsxs("div",{className:"h-full bg-[#ffbade] px-6 text-black flex flex-col justify-center items-center gap-y-2 max-[600px]:bg-transparent max-[600px]:h-1/2 max-[600px]:text-white max-[600px]:mb-4",children:[x.jsxs("p",{className:"text-center leading-5 font-medium text-[14px]",children:["You are watching ",x.jsx("br",{}),x.jsxs("span",{className:"font-semibold max-[600px]:text-[#ffbade]",children:["Episode ",e]})]}),x.jsx("p",{className:"leading-5 text-[14px] font-medium text-center",children:"If the current server doesn't work, please try other servers beside."})]}),x.jsxs("div",{className:"bg-[#201F31] flex flex-col max-[600px]:h-full",children:[i.length>0&&x.jsxs("div",{className:`servers px-2 flex items-center flex-wrap ml-2 max-[600px]:py-2 ${a.length===0?"h-1/2":"h-full"}`,children:[x.jsxs("div",{className:"flex items-center gap-x-2",children:[x.jsx(oe,{icon:Dn,className:"text-[#ffbade] text-[13px]"}),x.jsx("p",{className:"font-bold text-[14px]",children:"SUB:"})]}),x.jsx("div",{className:"flex gap-x-[7px] ml-8 flex-wrap",children:i.map((o,l)=>x.jsx("div",{className:`px-6 py-[5px] rounded-lg cursor-pointer ${t===(o==null?void 0:o.data_id)?"bg-[#ffbade] text-black":"bg-[#373646] text-white"} max-[700px]:px-3`,onClick:()=>r(o==null?void 0:o.data_id),children:x.jsx("p",{className:"text-[13px] font-semibold",children:o.serverName})},l))})]}),a.length>0&&x.jsxs("div",{className:`servers px-2 flex items-center flex-wrap ml-2 max-[600px]:py-2 ${i.length===0?"h-1/2 ":"h-full"}`,children:[x.jsxs("div",{className:"flex items-center gap-x-3",children:[x.jsx(oe,{icon:Nn,className:"text-[#ffbade] text-[13px]"}),x.jsx("p",{className:"font-bold text-[14px]",children:"DUB:"})]}),x.jsx("div",{className:"flex gap-x-[7px] ml-8 flex-wrap",children:a.map((o,l)=>x.jsx("div",{className:`px-6 py-[5px] rounded-lg cursor-pointer ${t===(o==null?void 0:o.data_id)?"bg-[#ffbade] text-black":"bg-[#373646] text-white"} max-[700px]:px-3`,onClick:()=>r(o==null?void 0:o.data_id),children:x.jsx("p",{className:"text-[13px] font-semibold",children:o.serverName})},l))})]})]})]}):x.jsxs("p",{className:"text-center font-medium text-[15px] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none",children:["Could not load servers ",x.jsx("br",{}),"Either reload or try again after sometime"]})})}const zu=({label:n,isActive:e,onClick:t})=>x.jsxs("button",{className:"flex gap-x-2",onClick:t,children:[x.jsx("h1",{className:"capitalize text-[13px]",children:n}),x.jsx("span",{className:`capitalize text-[13px] ${e?"text-[#ffbade]":"text-red-500"}`,children:e?"on":"off"})]});function lP({autoPlay:n,setAutoPlay:e,autoSkipIntro:t,setAutoSkipIntro:r,autoNext:s,setAutoNext:i,episodeId:a,episodes:o=[],onButtonClick:l}){const[c,u]=D.useState(o==null?void 0:o.findIndex(d=>{var f;return((f=d.id.match(/ep=(\d+)/))==null?void 0:f[1])===a}));return D.useEffect(()=>{if((o==null?void 0:o.length)>0){const d=o.findIndex(f=>{var h;return((h=f.id.match(/ep=(\d+)/))==null?void 0:h[1])===a});u(d)}},[a,o]),x.jsxs("div",{className:"bg-[#11101A] w-full flex justify-between flex-wrap px-4 pt-4 max-[1200px]:bg-[#14151A] max-[375px]:flex-col max-[375px]:gap-y-2",children:[x.jsxs("div",{className:"flex gap-x-4 flex-wrap",children:[x.jsx(zu,{label:"auto play",isActive:n,onClick:()=>e(d=>!d)}),x.jsx(zu,{label:"auto skip intro",isActive:t,onClick:()=>r(d=>!d)}),x.jsx(zu,{label:"auto next",isActive:s,onClick:()=>i(d=>!d)})]}),x.jsxs("div",{className:"flex gap-x-6 max-[575px]:gap-x-4 max-[375px]:justify-end",children:[x.jsx("button",{onClick:()=>{var d;c>0&&l((d=o[c-1].id.match(/ep=(\d+)/))==null?void 0:d[1])},disabled:c<=0,children:x.jsx(oe,{icon:Ek,className:"text-[20px] max-[575px]:text-[16px] text-white"})}),x.jsx("button",{onClick:()=>{var d;c<(o==null?void 0:o.length)-1&&l((d=o[c+1].id.match(/ep=(\d+)/))==null?void 0:d[1])},disabled:c>=(o==null?void 0:o.length)-1,children:x.jsx(oe,{icon:Nk,className:"text-[20px] max-[575px]:text-[16px] text-white"})})]})]})}function cP(){const[n,e]=D.useState(()=>JSON.parse(localStorage.getItem("autoPlay"))||!1),[t,r]=D.useState(()=>JSON.parse(localStorage.getItem("autoSkipIntro"))||!1),[s,i]=D.useState(()=>JSON.parse(localStorage.getItem("autoNext"))||!1);return D.useEffect(()=>{localStorage.setItem("autoPlay",JSON.stringify(n))},[n]),D.useEffect(()=>{localStorage.setItem("autoSkipIntro",JSON.stringify(t))},[t]),D.useEffect(()=>{localStorage.setItem("autoNext",JSON.stringify(s))},[s]),{autoPlay:n,setAutoPlay:e,autoSkipIntro:t,setAutoSkipIntro:r,autoNext:s,setAutoNext:i}}function uP(){var re,pe,Q,ae,Ie,we,Yt,qt,Xt;const n=_n(),e=gt(),{id:t}=xl(),r=new URLSearchParams(n.search);let s=r.get("ep");const[i,a]=D.useState([]),{language:o}=un(),{homeInfo:l}=pi(),[c,u]=D.useState(!0),{buffering:d,streamInfo:f,animeInfo:h,episodes:p,nextEpisodeSchedule:m,animeInfoLoading:g,totalEpisodes:v,isFullOverview:w,setIsFullOverview:y,activeEpisodeNum:S,streamUrl:b,subtitles:T,thumbnail:I,intro:E,outro:A,seasons:L,episodeId:k,setEpisodeId:R,activeServerId:N,setActiveServerId:P,servers:_,serverLoading:$}=hR(t,s),{autoPlay:H,setAutoPlay:F,autoSkipIntro:O,setAutoSkipIntro:M,autoNext:V,setAutoNext:W}=cP();D.useEffect(()=>{var le;if(!s&&p&&p.length>0&&!k){const ge=(le=p[0].id.match(/ep=(\d+)/))==null?void 0:le[1];R(ge),window.history.replaceState({},"",`/watch/${t}?ep=${ge}`)}},[s,p,k,t]),D.useEffect(()=>(h&&(document.title=`Watch ${h.title} English Sub/Dub online Free on ${St}`),()=>{document.title=`${St} | Free anime streaming platform`}),[t]),D.useEffect(()=>{v!==null&&v===0&&e(`/${t}`)},[f,k,t,v]),D.useEffect(()=>{var le;if(t){const ge=r.get("ep");if(!ge&&p&&p.length>0){const Ce=(le=p[0].id.match(/ep=(\d+)/))==null?void 0:le[1];R(Ce),window.history.replaceState({},"",`/watch/${t}?ep=${Ce}`)}else R(ge),window.history.replaceState({},"",`/watch/${t}?ep=${ge}`)}},[t,p]),D.useEffect(()=>{if(k){const le=`/watch/${t}?ep=${k}`;window.history.pushState({},"",le)}},[k]),D.useEffect(()=>{const le=()=>{if(window.innerWidth>1200){const ge=document.querySelector(".player"),Ce=document.querySelector(".episodes");ge&&Ce&&(Ce.style.height=`${ge.clientHeight}px`)}else{const ge=document.querySelector(".episodes");ge&&(ge.style.height="auto")}};return le(),window.addEventListener("resize",le),()=>{window.removeEventListener("resize",le)}});function J({bgColor:le,index:ge,icon:Ce,text:xe}){return x.jsxs("div",{className:`flex space-x-1 justify-center items-center px-[4px] py-[1px] text-black font-semibold text-[13px] ${ge===0?"rounded-l-[4px]":"rounded-none"}`,style:{backgroundColor:le},children:[Ce&&x.jsx(oe,{icon:Ce,className:"text-[12px]"}),x.jsx("p",{className:"text-[12px]",children:xe})]})}return D.useEffect(()=>{var le,ge,Ce,xe,ee,On,ze,Qt,Mn,Jt,Mt,ir,vs,Ur,ar,_a;a([{condition:(ge=(le=h==null?void 0:h.animeInfo)==null?void 0:le.tvInfo)==null?void 0:ge.rating,bgColor:"#ffffff",text:(xe=(Ce=h==null?void 0:h.animeInfo)==null?void 0:Ce.tvInfo)==null?void 0:xe.rating},{condition:(On=(ee=h==null?void 0:h.animeInfo)==null?void 0:ee.tvInfo)==null?void 0:On.quality,bgColor:"#FFBADE",text:(Qt=(ze=h==null?void 0:h.animeInfo)==null?void 0:ze.tvInfo)==null?void 0:Qt.quality},{condition:(Jt=(Mn=h==null?void 0:h.animeInfo)==null?void 0:Mn.tvInfo)==null?void 0:Jt.sub,icon:Dn,bgColor:"#B0E3AF",text:(ir=(Mt=h==null?void 0:h.animeInfo)==null?void 0:Mt.tvInfo)==null?void 0:ir.sub},{condition:(Ur=(vs=h==null?void 0:h.animeInfo)==null?void 0:vs.tvInfo)==null?void 0:Ur.dub,icon:Nn,bgColor:"#B9E7FF",text:(_a=(ar=h==null?void 0:h.animeInfo)==null?void 0:ar.tvInfo)==null?void 0:_a.dub}])},[t,h]),x.jsxs("div",{className:"w-full h-fit flex flex-col justify-center items-center relative",children:[x.jsxs("div",{className:"w-full relative max-[1400px]:px-[30px] max-[1200px]:px-[80px] max-[1024px]:px-0",children:[x.jsx("img",{src:g?"https://i.postimg.cc/rFZnx5tQ/2-Kn-Kzog-md.webp":h==null?void 0:h.poster,alt:`${h==null?void 0:h.title} Poster`,className:"absolute inset-0 w-full h-full object-cover filter grayscale z-[-900]"}),x.jsx("div",{className:"absolute inset-0 bg-[#3a3948] bg-opacity-80 backdrop-blur-md z-[-800]"}),x.jsxs("div",{className:"relative z-10 px-4 pb-[50px] grid grid-cols-[minmax(0,75%),minmax(0,25%)] w-full h-full mt-[128px] max-[1400px]:flex max-[1400px]:flex-col max-[1200px]:mt-[64px] max-[1024px]:px-0 max-md:mt-[50px]",children:[h&&x.jsxs("ul",{className:"flex absolute left-4 top-[-40px] gap-x-2 items-center w-fit max-[1200px]:hidden",children:[[["Home",""],[h==null?void 0:h.showType,h==null?void 0:h.showType]].map(([le,ge],Ce)=>x.jsxs("li",{className:"flex gap-x-3 items-center",children:[x.jsx(Ee,{to:`/${ge}`,className:"text-white hover:text-[#FFBADE] text-[15px] font-semibold",children:le}),x.jsx("div",{className:"dot mt-[1px] bg-white"})]},Ce)),x.jsxs("p",{className:"font-light text-[15px] text-gray-300 line-clamp-1 max-[575px]:leading-5",children:["Watching"," ",o==="EN"?h==null?void 0:h.title:h==null?void 0:h.japanese_title]})]}),x.jsxs("div",{className:"flex w-full min-h-fit max-[1200px]:flex-col-reverse",children:[x.jsx("div",{className:"episodes w-[35%] bg-[#191826] flex justify-center items-center max-[1400px]:w-[380px] max-[1200px]:w-full max-[1200px]:h-full max-[1200px]:min-h-[100px]",children:p?x.jsx(aP,{episodes:p,currentEpisode:k,onEpisodeClick:le=>R(le),totalEpisodes:v}):x.jsx(si,{})}),x.jsxs("div",{className:"player w-full h-fit bg-black flex flex-col",children:[x.jsxs("div",{className:"w-full relative h-[480px] max-[1400px]:h-[40vw] max-[1200px]:h-[48vw] max-[1024px]:h-[58vw] max-[600px]:h-[65vw]",children:[d?x.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-black bg-opacity-50",children:x.jsx(si,{})}):x.jsx(iP,{streamUrl:b,subtitles:T,intro:E,outro:A,thumbnail:I,autoSkipIntro:O,autoPlay:H,autoNext:V,episodeId:k,episodes:p,playNext:le=>R(le)}),x.jsx("p",{className:"text-center underline font-medium text-[15px] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:!d&&!f?_?x.jsxs(x.Fragment,{children:["Probably this server is down, try other servers",x.jsx("br",{}),"Either reload or try again after sometime"]}):x.jsxs(x.Fragment,{children:["Probably streaming server is down",x.jsx("br",{}),"Either reload or try again after sometime"]}):null})]}),!d&&x.jsx(lP,{autoPlay:H,setAutoPlay:F,autoSkipIntro:O,setAutoSkipIntro:M,autoNext:V,setAutoNext:W,episodes:p,totalEpisodes:v,episodeId:k,onButtonClick:le=>R(le)}),x.jsx(oP,{servers:_,activeEpisodeNum:S,activeServerId:N,setActiveServerId:P,serverLoading:$}),(L==null?void 0:L.length)>0&&x.jsxs("div",{className:"flex flex-col gap-y-2 bg-[#11101A] p-4",children:[x.jsx("h1",{className:"w-fit text-lg max-[478px]:text-[18px] font-semibold",children:"Watch more seasons of this anime"}),x.jsx("div",{className:"flex flex-wrap gap-4 max-[575px]:grid max-[575px]:grid-cols-3 max-[575px]:gap-3 max-[480px]:grid-cols-2",children:L.map((le,ge)=>x.jsxs(Ee,{to:`/${le.id}`,className:`relative w-[20%] h-[60px] rounded-lg overflow-hidden cursor-pointer group ${t===String(le.id)?"border border-[#ffbade]":""} max-[1200px]:w-[140px] max-[575px]:w-full`,children:[x.jsx("p",{className:`text-[13px] text-center font-bold absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full px-2 z-30 line-clamp-2 group-hover:text-[#ffbade] ${t===String(le.id)?"text-[#ffbade]":"text-white"}`,children:le.season}),x.jsx("div",{className:"absolute inset-0 z-10 bg-[url('https://i.postimg.cc/pVGY6RXd/thumb.png')] bg-repeat"}),x.jsx("img",{src:le.season_poster,alt:"",className:"w-full h-full object-cover blur-[3px] opacity-50"})]},ge))})]}),(m==null?void 0:m.nextEpisodeSchedule)&&c&&x.jsx("div",{className:"p-4",children:x.jsxs("div",{className:"w-full px-4 rounded-md bg-[#0088CC] flex items-center justify-between gap-x-2",children:[x.jsxs("div",{className:"w-full h-fit",children:[x.jsx("span",{className:"text-[18px]",children:""})," Estimated the next episode will come at ",x.jsx("span",{className:"text-[13.4px] font-medium",children:new Date(new Date(m.nextEpisodeSchedule).getTime()-new Date().getTimezoneOffset()*6e4).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),x.jsx("span",{className:"text-[25px] h-fit font-extrabold text-[#80C4E6] mb-1 cursor-pointer",onClick:()=>u(!1),children:""})]})})]})]}),x.jsxs("div",{className:"flex flex-col gap-y-4 items-start ml-8 max-[1400px]:ml-0 max-[1400px]:mt-10 max-[1400px]:flex-row max-[1400px]:gap-x-6 max-[1024px]:px-[30px] max-[1024px]:mt-8 max-[500px]:mt-4 max-[500px]:px-4",children:[h&&(h!=null&&h.poster)?x.jsx("img",{src:h==null?void 0:h.poster,alt:"",className:"w-[100px] h-[150px] object-cover max-[500px]:w-[70px] max-[500px]:h-[90px]"}):x.jsx(se,{className:"w-[100px] h-[150px] rounded-none"}),x.jsxs("div",{className:"flex flex-col gap-y-4 justify-start",children:[h&&(h!=null&&h.title)?x.jsx("p",{className:"text-[26px] font-medium leading-6 max-[500px]:text-[18px]",children:o?h==null?void 0:h.title:h==null?void 0:h.japanese_title}):x.jsx(se,{className:"w-[170px] h-[20px] rounded-xl"}),x.jsxs("div",{className:"flex flex-wrap w-fit gap-x-[2px] gap-y-[3px]",children:[h?i.map(({condition:le,icon:ge,bgColor:Ce,text:xe},ee)=>le&&x.jsx(J,{index:ee,bgColor:Ce,icon:ge,text:xe},ee)):x.jsx(se,{className:"w-[70px] h-[20px] rounded-xl"}),x.jsx("div",{className:"flex w-fit items-center ml-1",children:[(pe=(re=h==null?void 0:h.animeInfo)==null?void 0:re.tvInfo)==null?void 0:pe.showType,(ae=(Q=h==null?void 0:h.animeInfo)==null?void 0:Q.tvInfo)==null?void 0:ae.duration].map((le,ge)=>le&&x.jsxs("div",{className:"px-1 h-fit flex items-center gap-x-2 w-fit",children:[x.jsx("div",{className:"dot mt-[2px]"}),x.jsx("p",{className:"text-[14px]",children:le})]},ge))})]}),h?((Ie=h==null?void 0:h.animeInfo)==null?void 0:Ie.Overview)&&x.jsx("div",{className:"max-h-[150px] overflow-hidden",children:x.jsx("div",{className:"max-h-[110px] mt-2 overflow-y-auto",children:x.jsx("p",{className:"text-[14px] font-[400]",children:((we=h==null?void 0:h.animeInfo)==null?void 0:we.Overview.length)>270?x.jsxs(x.Fragment,{children:[w?(Yt=h==null?void 0:h.animeInfo)==null?void 0:Yt.Overview:`${(qt=h==null?void 0:h.animeInfo)==null?void 0:qt.Overview.slice(0,270)}...`,x.jsx("span",{className:"text-[13px] font-bold hover:cursor-pointer",onClick:()=>y(!w),children:w?"- Less":"+ More"})]}):(Xt=h==null?void 0:h.animeInfo)==null?void 0:Xt.Overview})})}):x.jsxs("div",{className:"flex flex-col gap-y-2",children:[x.jsx(se,{className:"w-[200px] h-[10px] rounded-xl"}),x.jsx(se,{className:"w-[160px] h-[10px] rounded-xl"}),x.jsx(se,{className:"w-[100px] h-[10px] rounded-xl"}),x.jsx(se,{className:"w-[80px] h-[10px] rounded-xl"})]}),x.jsxs("p",{className:"text-[14px] max-[575px]:hidden",children:[`${St} is the best site to watch `,x.jsx("span",{className:"font-bold",children:o?h==null?void 0:h.title:h==null?void 0:h.japanese_title})," SUB online, or you can even watch ",x.jsx("span",{className:"font-bold",children:o?h==null?void 0:h.title:h==null?void 0:h.japanese_title})," DUB in HD quality."]}),x.jsx(Ee,{to:`/${t}`,className:"w-fit text-[13px] bg-white rounded-[12px] px-[10px] py-1 text-black",children:"View detail"})]})]})]})]}),x.jsxs("div",{className:"w-full flex gap-x-4 items-center bg-[#191826] p-5 max-[575px]:px-3 max-[320px]:hidden",children:[x.jsx("img",{src:"https://i.postimg.cc/d34WWyNQ/share-icon.gif",alt:"Share Anime",className:"w-[60px] h-auto rounded-full max-[1024px]:w-[40px] max-[575px]:hidden"}),x.jsxs("div",{className:"flex flex-col w-fit",children:[x.jsx("p",{className:"text-[15px] font-bold text-[#FFBADE]",children:"Share Anime"}),x.jsx("p",{className:"text-[16px] text-white",children:"to your friends"})]})]}),x.jsxs("div",{className:"w-full px-4 grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex flex-col",children:[x.jsxs("div",{className:"mt-[15px] flex flex-col gap-y-7",children:[(h==null?void 0:h.charactersVoiceActors.length)>0&&x.jsx(Y1,{animeInfo:h,className:"!mt-0"}),(h==null?void 0:h.recommended_data.length)>0?x.jsx(kn,{label:"Recommended for you",data:h==null?void 0:h.recommended_data,limit:h==null?void 0:h.recommended_data.length,showViewMore:!1}):x.jsx(qn,{className:"mt-[15px]"})]}),x.jsxs("div",{children:[h&&h.related_data?x.jsx(xa,{label:"Related Anime",data:h.related_data,className:"mt-[15px]"}):x.jsx(nr,{className:"mt-[25px]"}),l&&l.most_popular&&x.jsx(xa,{label:"Most Popular",data:l.most_popular.slice(0,10),className:"mt-[15px]",limit:10})]})]})]})}const dP=async(n,e)=>{const t="https://zenime-api--nu.vercel.app/api";try{return(await ve.get(`${t}/producer/${n}?page=${e}`)).data.results}catch(r){return console.error("Error fetching genre info:",r),r}};function fP(){const{id:n}=xl(),[e,t]=cc(),[r,s]=D.useState(null),[i,a]=D.useState(!0),[o,l]=D.useState(null),[c,u]=D.useState(0),d=parseInt(e.get("page"))||1,{homeInfo:f,homeInfoLoading:h}=pi(),p=gt();if(D.useEffect(()=>{(async()=>{a(!0);try{const v=await dP(n,d);s(v.data),u(v.totalPages),a(!1)}catch(v){l(v),console.error("Error fetching category info:",v)}})(),window.scrollTo(0,0)},[n,d]),i)return x.jsx(Da,{type:"producer"});if(o)return p("/error-page"),x.jsx(Gt,{});if(!r)return p("/404-not-found-page"),null;const m=g=>{t({page:g})};return x.jsx("div",{className:"w-full flex flex-col gap-y-4 mt-[100px] max-md:mt-[50px]",children:r?x.jsxs("div",{className:"w-full px-4 grid grid-cols-[minmax(0,75%),minmax(0,25%)] gap-x-6 max-[1200px]:flex max-[1200px]:flex-col max-[1200px]:gap-y-10",children:[d>c?x.jsxs("p",{className:"font-bold text-2xl text-[#ffbade] max-[478px]:text-[18px] max-[300px]:leading-6",children:["You came a long way, go back ",x.jsx("br",{className:"max-[300px]:hidden"}),"nothing is here"]}):x.jsxs("div",{children:[r&&x.jsx(kn,{label:(n.charAt(0).toUpperCase()+n.slice(1)).split("-").join(" ")+" Anime",data:r,showViewMore:!1,className:"mt-0",categoryPage:!0}),x.jsx(Pa,{page:d,totalPages:c,handlePageChange:m})]}),x.jsx("div",{className:"w-full flex flex-col gap-y-10",children:h?x.jsx(nr,{}):x.jsxs(x.Fragment,{children:[f&&f.topten&&x.jsx(Kh,{data:f.topten,className:"mt-0"}),(f==null?void 0:f.genres)&&x.jsx(Ac,{data:f.genres})]})})]}):x.jsx(Gt,{})})}function hP(){const n=_n();return D.useEffect(()=>{window.scrollTo(0,0)},[n]),n.pathname,x.jsx(CA,{children:x.jsx("div",{className:"app-container",children:x.jsxs("main",{className:"content",children:[x.jsx(tR,{}),x.jsxs(j2,{children:[x.jsx(jt,{path:"/",element:x.jsx(H3,{})}),x.jsx(jt,{path:"/:id",element:x.jsx(_g,{})}),x.jsx(jt,{path:"/watch/:id",element:x.jsx(uP,{})}),x.jsx(jt,{path:"/random",element:x.jsx(_g,{random:!0})}),x.jsx(jt,{path:"/404-not-found-page",element:x.jsx(Gt,{error:"404"})}),x.jsx(jt,{path:"/error-page",element:x.jsx(Gt,{})}),iR.map(e=>x.jsx(jt,{path:`/${e}`,element:x.jsx(rR,{path:e,label:e.split("-").join(" ")})},e)),aR.map(e=>x.jsx(jt,{path:`/${e}`,element:x.jsx(sR,{path:e})},e)),x.jsx(jt,{path:"/producer/:id",element:x.jsx(fP,{})}),x.jsx(jt,{path:"/search",element:x.jsx(lR,{})}),x.jsx(jt,{path:"*",element:x.jsx(Gt,{error:"404"})})]}),x.jsx(nR,{})]})})})}Xy(document.getElementById("root")).render(x.jsx(Hb,{children:x.jsx(W2,{children:x.jsx(hP,{})})}));
